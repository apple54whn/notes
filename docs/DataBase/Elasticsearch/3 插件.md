# 插件

## ES 插件

[官方文档](https://www.elastic.co/guide/en/elasticsearch/plugins/7.6/_other_command_line_parameters.html)

### ES 插件分类

ES 提供插件机制对系统进行扩展

*   DIscovery Plugin
*   Analysis Plugin
*   Security Plugin
*   Management Plugin
*   Ingest Plugin
*   Mapper Plugin
*   Backup Plugin

### 查看已安装的插件

```bash
bin/elasticsearch-plugin list
```

也可以使用 ES 提供的 HTTP RESTful 接口查看

```
http://localhost:9200/_cat/plugins
```

显示如下：

```
2762956de850 analysis-icu 7.6.2
```

第一部分代表计算机，这里使用 Docker 安装的，所以显示的是容器 ID



### 安装插件

```bash
bin/elasticsearch-plugin install analysis-icu
```

若遇到速度太慢，可以使用代理。Mac 下 SSR 开始全局就行了。

```bash
ES_JAVA_OPTS="-Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort=1086 -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=1086" bin/elasticsearch-plugin install analysis-icu
```

若是在容器内，则需要修改 host 为宿主机的 host！

Windows 代理这样设置

```bash
set ES_JAVA_OPTS="-Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort=1080 -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=1080"
bin\elasticsearch-plugin install analysis-icu
```

::: tip 注意

安装完插件需要重启该节点

:::



### 卸载插件

```bash
bin/elasticsearch-plugin remove analysis-icu
```







## Kibana 插件

### 查看已安装的插件

```bash
bin/kibana-plugin list
```



### 安装插件

```bash
bin/kibana-plugin install plugin_location
```



### 卸载插件

```bash
bin/kibana-plugin remove plugin_location
```

