<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2 Object Orientation | Conanan&#39;s Notes</title>
    <meta name="description" content="Good Good Study, Day Day Up!">
    
    
    <link rel="preload" href="/assets/css/0.styles.5d7a53ce.css" as="style"><link rel="preload" href="/assets/js/app.11b86352.js" as="script"><link rel="preload" href="/assets/js/2.dc2cb52a.js" as="script"><link rel="preload" href="/assets/js/3.4d99fa19.js" as="script"><link rel="prefetch" href="/assets/js/10.7ed53a9f.js"><link rel="prefetch" href="/assets/js/11.85d70dc7.js"><link rel="prefetch" href="/assets/js/12.6ca0a4c7.js"><link rel="prefetch" href="/assets/js/13.b66f44be.js"><link rel="prefetch" href="/assets/js/14.f7d36314.js"><link rel="prefetch" href="/assets/js/15.c9169b45.js"><link rel="prefetch" href="/assets/js/16.b3affa03.js"><link rel="prefetch" href="/assets/js/17.24a97ffb.js"><link rel="prefetch" href="/assets/js/18.f19a0f23.js"><link rel="prefetch" href="/assets/js/19.ccd87043.js"><link rel="prefetch" href="/assets/js/20.81aafd3b.js"><link rel="prefetch" href="/assets/js/21.0ca18de8.js"><link rel="prefetch" href="/assets/js/22.2ce051e4.js"><link rel="prefetch" href="/assets/js/23.e2addba7.js"><link rel="prefetch" href="/assets/js/24.10dbecb4.js"><link rel="prefetch" href="/assets/js/25.8641a27b.js"><link rel="prefetch" href="/assets/js/26.e5fad68f.js"><link rel="prefetch" href="/assets/js/27.07d175e0.js"><link rel="prefetch" href="/assets/js/4.4809e9ae.js"><link rel="prefetch" href="/assets/js/5.9f00f578.js"><link rel="prefetch" href="/assets/js/6.3ac5cf54.js"><link rel="prefetch" href="/assets/js/7.d18e475f.js"><link rel="prefetch" href="/assets/js/8.73262d74.js"><link rel="prefetch" href="/assets/js/9.1d245c90.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5d7a53ce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Conanan's Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Study" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/Core/1 Basic Syntax.html" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/Java/Framwork/1 Spring.html" class="nav-link">Framwork</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages2" class="dropdown-title"><span class="title">Languages2</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Group1</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li><li class="dropdown-item"><h4>Group2</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Study" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/Core/1 Basic Syntax.html" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/Java/Framwork/1 Spring.html" class="nav-link">Framwork</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages2" class="dropdown-title"><span class="title">Languages2</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Group1</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li><li class="dropdown-item"><h4>Group2</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Core</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Java/Core/0 Basic.html" class="sidebar-link">0 Basic</a></li><li><a href="/Java/Core/1 Basic Syntax.html" class="sidebar-link">1 Basic Syntax</a></li><li><a href="/Java/Core/2 Object Orientation.html" class="active sidebar-link">2 Object Orientation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Core/2 Object Orientation.html#_2-1-java-内存解析" class="sidebar-link">2.1 Java 内存解析</a></li><li class="sidebar-sub-header"><a href="/Java/Core/2 Object Orientation.html#_2-2-类及其成员" class="sidebar-link">2.2 类及其成员</a></li><li class="sidebar-sub-header"><a href="/Java/Core/2 Object Orientation.html#_2-3-面向对象的三大特征" class="sidebar-link">2.3 面向对象的三大特征</a></li><li class="sidebar-sub-header"><a href="/Java/Core/2 Object Orientation.html#_2-4-其他关键字" class="sidebar-link">2.4 其他关键字</a></li><li class="sidebar-sub-header"><a href="/Java/Core/2 Object Orientation.html#对象实例化过程-属性赋值顺序" class="sidebar-link">对象实例化过程&amp;属性赋值顺序</a></li><li class="sidebar-sub-header"><a href="/Java/Core/2 Object Orientation.html#习题" class="sidebar-link">习题</a></li></ul></li><li><a href="/Java/Core/3 Error &amp; Exception.html" class="sidebar-link">3 Error &amp; Exception</a></li><li><a href="/Java/Core/4 API.html" class="sidebar-link">4 API</a></li><li><a href="/Java/Core/5 Generic.html" class="sidebar-link">5 Generic</a></li><li><a href="/Java/Core/6 Container.html" class="sidebar-link">6 Container</a></li><li><a href="/Java/Core/7 Thread.html" class="sidebar-link">7 Thread</a></li><li><a href="/Java/Core/7 Thread2.html" class="sidebar-link">7 Thread2</a></li><li><a href="/Java/Core/8 IO.html" class="sidebar-link">8 IO</a></li><li><a href="/Java/Core/9 NIO.html" class="sidebar-link">9 NIO（暂时未完成）</a></li><li><a href="/Java/Core/10 AIO.html" class="sidebar-link">10 AIO（暂时未完成）</a></li><li><a href="/Java/Core/11 Network.html" class="sidebar-link">11 Network</a></li><li><a href="/Java/Core/12 Reflect.html" class="sidebar-link">12 Reflect—java.lang.reflect</a></li><li><a href="/Java/Core/13 Lambda.html" class="sidebar-link">13 Lambda</a></li><li><a href="/Java/Core/14 Stream API.html" class="sidebar-link">14 Stream API</a></li><li><a href="/Java/Core/15 Optional.html" class="sidebar-link">15 Optional</a></li><li><a href="/Java/Core/16 Test.html" class="sidebar-link">16 Test</a></li><li><a href="/Java/Core/17 设计原则&amp;设计模式.html" class="sidebar-link">17 设计原则及设计模式</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Code</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_2-object-orientation"><a href="#_2-object-orientation" class="header-anchor">#</a> 2 Object Orientation</h1> <p></p><div class="table-of-contents"><ul><li><a href="#_2-object-orientation">2 Object Orientation</a><ul><li><a href="#_2-1-java-内存解析">2.1 Java 内存解析</a></li><li><a href="#_2-2-类及其成员">2.2 类及其成员</a><ul><li><a href="#field（成员变量）">Field（成员变量）</a></li><li><a href="#method（方法）">Method（方法）</a></li><li><a href="#constructor（构造器）">constructor（构造器）</a></li><li><a href="#代码块">代码块</a></li><li><a href="#内部类">内部类</a></li></ul></li><li><a href="#_2-3-面向对象的三大特征">2.3 面向对象的三大特征</a><ul><li><a href="#封装">封装</a></li><li><a href="#继承-extends">继承 / extends</a></li><li><a href="#多态">多态</a></li><li><a href="#抽象性（可选）">抽象性（可选）</a></li></ul></li><li><a href="#_2-4-其他关键字">2.4 其他关键字</a><ul><li><a href="#this">this</a></li><li><a href="#super">super</a></li><li><a href="#static">static</a></li><li><a href="#final">final</a></li><li><a href="#abstract抽象">abstract抽象</a></li><li><a href="#interface接口">interface接口</a></li><li><a href="#enum枚举">Enum枚举</a></li><li><a href="#annotation注解">Annotation注解</a></li><li><a href="#package-import-jar">package / import / jar</a></li><li><a href="#权限修饰符">权限修饰符</a></li></ul></li><li><a href="#对象实例化过程-属性赋值顺序">对象实例化过程&amp;属性赋值顺序</a></li><li><a href="#习题">习题</a><ul><li><a href="#值传递习题1">值传递习题1</a></li><li><a href="#非值传递习题">非值传递习题</a></li><li><a href="#递归简单练习">递归简单练习</a></li><li><a href="#递归练习">递归练习</a></li><li><a href="#斐波那契数列">斐波那契数列</a></li><li><a href="#汉诺塔">汉诺塔</a></li><li><a href="#快排">快排</a></li><li><a href="#多态练习1">多态练习1</a></li><li><a href="#多态练习—可变参数重写">多态练习—可变参数重写</a></li><li><a href="#如何证明多态是运行时绑定的？">如何证明多态是运行时绑定的？</a></li><li><a href="#接口、抽象类问题1">接口、抽象类问题1</a></li><li><a href="#接口、抽象类问题2">接口、抽象类问题2</a></li><li><a href="#接口和抽象类的对比">接口和抽象类的对比</a></li><li><a href="#定义一个类的时候，权限修饰符规则">定义一个类的时候，权限修饰符规则</a></li></ul></li></ul></li></ul></div><p></p> <ul><li><p>面向过程编程(POP) 与 面向对象编程(OOP)：</p> <ul><li>面向过程，强调的是功能行为，以函数为最小单位，考虑怎么做。</li> <li>面向对象（相对于面向过程而言）将功能封装进对象，强调具备了功能的对象，以类/对象为最小单位，考虑谁来做。</li></ul> <p>面向对象程序设计的重点是类的设计，类的设计其实就是类的成员的设计</p></li></ul> <h2 id="_2-1-java-内存解析"><a href="#_2-1-java-内存解析" class="header-anchor">#</a> 2.1 Java 内存解析</h2> <img src="/assets/img/image-20190817225725225.c2b55970.png" alt="image-20190817225725225" style="zoom:50%;"> <ul><li><p>堆（Heap），此内存区域的唯一目的就是存放<strong>对象实例</strong>，几乎所有的对象 实例都在这里分配内存。这一点在Java虚拟机规范中的描述是：所有的<strong>对象实例以及数组都要在堆上分配</strong>。</p></li> <li><p>方法区（Method Area），用于存储已被虚拟机加载的类信息、常量、静态变量、即时编译器编译后的代码等数据。</p></li> <li><p>栈（Stack），是指虚拟机栈。虚拟机栈用于存储<strong>局部变量</strong>等。 局部变量表存放了编译期可知长度的各种基本数据类型(boolean、byte、char 、 short 、 int 、 float 、 long 、double)、对象引用(reference类型， 它不等同于对象本身，是对象在堆内 存的首地址)。 <strong>方法执行完，自动释放</strong>。</p></li> <li><p>本地方法栈（Native Method Stack）：这部分主要与虚拟机用到的 Native 方法相关</p></li> <li><p>PC寄存器（Program Counter Register）：也叫程序计数器。JVM支持多个线程同时运行，每个线程都有自己的程序计数器。</p></li></ul> <h2 id="_2-2-类及其成员"><a href="#_2-2-类及其成员" class="header-anchor">#</a> 2.2 类及其成员</h2> <p>类及其成员包括：成员变量、成员方法、构造器、代码块、内部类</p> <ul><li><p>面向对象的两个要素：</p> <ul><li>类：是对<strong>一类事物的描述，是抽象的、概念上</strong>的定义。是一组相关<strong>属性</strong>和<strong>行为</strong>的集合。
<ul><li><strong>属性 = 成员变量 = Field（域/字段）</strong>：就是该事物的<strong>状态信息</strong></li> <li><strong>行为 = 成员方法 = 函数 = Method</strong>：就是该事物<strong>能够做什么</strong></li></ul></li> <li>对象：是<strong>实际存在的该类事物的每个个体</strong>，因而也称为实例(instance)。</li></ul></li> <li><p><strong>类的定义格式</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassName</span> <span class="token punctuation">{</span>
    <span class="token comment">//成员变量，对应事物的属性，描述事物的状态信息</span>
    <span class="token comment">//构造方法：创建事物对象</span>
    <span class="token comment">//成员方法，对应事物的行为，描述事物能做什么</span>
    <span class="token comment">//......</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><strong>对象的使用</strong></p> <ul><li>类的实例化、创建对象：<code>类名 对象名 = new 类名();</code></li> <li>使用对象访问类中的成员：<code>对象名.成员变量；</code> <code>对象名.成员方法()</code></li></ul></li> <li><p>匿名对象：不定义对象的句柄，而直接调用这个对象的方法</p> <p>创建匿名对象直接调用方法，没有变量名；匿名对象可以作为方法的参数和返回值。只能调用一次。</p></li> <li><p><strong>两个对象使用同一方法</strong>的内存图</p> <p>对象调用方法时，根据对象中方法标记（地址值），去类中寻找方法信息。这样哪怕是多个对象，方法信息 只保存一份，节约内存空间。</p> <p><img src="/assets/img/memory-img1.ef5fd6b7.png" alt=""></p></li> <li><p><strong>两个引用指向同一对象</strong>的内存图</p> <p><img src="/assets/img/memory-img2.13724568.png" alt=""></p></li> <li><p><strong>引用类型作为参数传递到方法中，传递的是地址值</strong></p> <p><img src="/assets/img/memory-img3.d3c27b60.png" alt=""></p></li> <li><p><strong>使用引用类型作为方法的返回值，返回值就是对象的地址值</strong></p> <p><img src="/assets/img/memory-img4.6358a0b6.png" alt=""></p></li></ul> <h3 id="field（成员变量）"><a href="#field（成员变量）" class="header-anchor">#</a> Field（成员变量）</h3> <ul><li><p>语法格式：<code>修饰符 数据类型 属性名 = 初始化值 ;</code>
修饰符：private、缺省、protected、public；static、final</p></li> <li><p><strong>成员变量的默认值</strong>：</p> <ul><li><p>整型—<code>0</code>；浮点—<code>0.0</code>；布尔—<code>false</code>；引用类型—<code>null</code>；</p> <p>char—<code>‘\u0000’</code>（或<code>0</code>），是一个不可打印字符，非<code>'0'</code>；</p></li></ul></li> <li><p><strong>成员变量与局部变量区别</strong>：</p> <table><thead><tr><th></th> <th>成员变量</th> <th>局部变量</th></tr></thead> <tbody><tr><td>声明的位置</td> <td>直接声明在类中</td> <td>方法或构造器的形参、方法内部、代码块内、构造器内等</td></tr> <tr><td>修饰符</td> <td>private、默认、protected、public、static、final等</td> <td>不能用权限修饰符修饰，可以用final修饰</td></tr> <tr><td>初始化值</td> <td>有默认初始化值</td> <td>没有默认初始化值，必须显式赋值，方可使用</td></tr> <tr><td>内存加载位置</td> <td>堆空间 或 方法区的静态域内</td> <td>栈空间</td></tr> <tr><td>生命周期</td> <td><strong>随着对象</strong>的创建而存在，随着对象被垃圾回收而消失</td> <td><strong>随着方法</strong>的调用而存在，随着方法的调用完毕而消失</td></tr></tbody></table></li></ul> <h3 id="method（方法）"><a href="#method（方法）" class="header-anchor">#</a> Method（方法）</h3> <ul><li><p><strong>方法定义格式</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>修饰符 返回值类型 方法名 （参数列表）｛
	方法体<span class="token punctuation">;</span>
	<span class="token keyword">return</span> 返回值<span class="token punctuation">;</span><span class="token comment">//停止方法，将返回值返回给调用处</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>方法调用</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>方法定义<strong>注意事项</strong>：</p> <ul><li>方法必须定义在一个<strong>类中</strong></li> <li>方法不能定义在另一个方法的里面，<strong>不能嵌套</strong></li> <li>一个方法可以有多个return语句，但必须保证<strong>同时只有一个return会被执行到</strong>，return后不能有语句</li></ul></li> <li><p>方法可用的修饰符：staitc、final、abstract、native</p></li> <li><p><strong>方法重载（overload）</strong>：<strong>同一类</strong>中<strong>方法名相同</strong>，<strong>参数列表不同</strong>（类型 或 个数 或 多类型顺序 不同）</p> <p>与访问修饰符、返回值类型（可能只调用，不需要返回值）、参数名无关！</p></li> <li><p><strong>方法重写（override）</strong>：<strong>父子类</strong>中，<strong>方法名</strong>、<strong>参数列表必须相同</strong>（不同则是特有方法）。满足以下条件为重写：</p> <ul><li><strong>访问权限</strong>必须大于等于父类权限</li> <li><strong>返回值类型</strong>，对象类型必须小于等于父类（如Object、String）；基本类型必须一致！若为void，则都必须为void；</li> <li><strong>抛出的异常类型</strong>小于等于父类方法的异常类型</li></ul> <div class="language-java extra-class"><pre class="language-java"><code></code></pre></div></li></ul> <p>class Father {</p> <pre><code>    int show(int a, int b) throws IOException { //重写中，子类方法抛出异常类型必须小于等于父类方法
        return 0;
    }
}
//下面哪些方法可以出现在Father的子类中？
public/private/... short show(int a, long b){return 0;}//参数列表都不同了，是子类特有方法
public int show(int a,int b){return 0;}//可以，方法重写
private int show(int a,int b){return 0;}//不可以，权限小
public short show(int a, int b){return 0;}//不可以，返回类型为基本类型必须一致！
static int show(int a, int b){return 0;}//不可以，条件都满足，但是静态方法只能覆盖静态方法！！！
```

若父类中有**私有方法、静态方法**，因为和**类相关**，子类也可以存在完全一样的方法，**不是重写**！

&gt; 从编译和运行的角度看：
</code></pre> <blockquote><ul><li>重载，是指允许存在多个同名方法，而这些方法的参数不同。编译器根据方法不 同的参数表，对同名方法的名称做修饰。对于编译器而言，这些同名方法就成了 不同的方法。它们的调用地址在编译期就绑定了。Java的重载是可以包括父类 和子类的，即子类可以重载父类的同名不同参数的方法。所以:对于重载而言，在方法调用之前，编译器就已经确定了所要调用的方法， 这称为“早绑定”或“静态绑定”;</li> <li>而对于多态（重写），只有等到方法调用的那一刻，解释运行器才会确定所要调用的具体方法，这称为“晚绑定”或“动态绑定”。</li></ul> <p>即方法重载（@overload）实现编译时多态性；方法重写（@override）实现运行时多态性。</p></blockquote> <ul><li><p><strong>可变参数</strong>：JavaSE 5.0 中提供了Varargs(variable number of arguments)机制，允许直接定 义能和多个实参相匹配的形参。从而，可以用一种更简单的方式，来传递个数可变的实参。（同js中arguments类似）</p> <ul><li>可变个数形参的方法与同名的方法之间，彼此构成重载</li> <li>可变参数方法（<strong>底层为数组</strong>）的使用与方法参数部分使用数组是一致的，所以不能与之重载</li> <li>方法的参数部分有可变形参，需要放在形参声明的最后</li> <li>在一个方法的形参位置，最多只能声明一个可变个数形参</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token operator">:</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		sum<span class="token operator">+=</span>a<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><strong>方法参数的值传递机制</strong></p> <p>Java里方法的参数传递方式只有一种：<strong>值传递</strong>；画内存图即可明显看出。</p> <ul><li>形参是基本数据类型：将实参基本数据类型变量的“数据值”传递给形参</li> <li>形参是引用数据类型：将实参引用数据类型变量的“地址值”传递给形参</li></ul></li> <li><p>**递归（recursion）**方法：一个方法体内调用它自身</p> <p><strong>注意：</strong></p> <ol><li>要<strong>有出口</strong>可以停止，否则就是死递归</li> <li><strong>次数不能过多</strong>，否则内存溢出StackOverFlowError</li> <li><strong>构造方法不能</strong>递归使用</li></ol></li></ul> <h3 id="constructor（构造器）"><a href="#constructor（构造器）" class="header-anchor">#</a> constructor（构造器）</h3> <ul><li><p>构造器的特征</p> <ul><li>与类相同的名称</li> <li>不声明返回值类型（与声明为void不同）</li> <li>不能被static、final、synchronized、abstract、native修饰，不能有return语句返回值</li></ul></li> <li><p>构造器的<strong>作用：创建对象;给对象进行初始化</strong></p></li> <li><p>语法格式</p> <div class="language-java extra-class"><pre class="language-java"><code>修饰符 类名 <span class="token punctuation">(</span>参数列表<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  初始化语句<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>注意</p> <ul><li>Java语言中，每个类都<strong>至少有一个构造器</strong>；默认构造器的修饰符与所属类的修饰符一致</li> <li>一旦显式<strong>定义了构造器，则系统不再提供默认构造器</strong></li> <li>一个类可以创建多个<strong>重载</strong>的构造器</li> <li>父类的构造器<strong>不可被子类继承</strong></li> <li>子类的构造器中首行默认为<code>super()</code>，且默认省略</li></ul></li> <li><p>JavaBean是一种Java语言写成的可重用组件，符合如下标准的Java类：</p> <ul><li>类是公共的</li> <li>有一个无参的公共的构造器</li> <li>有属性，且有对应的get、set方法</li></ul></li> <li><p>UML类图</p> <p><img src="/assets/img/Xnip2019-08-20_00-03-07.adb0fcad.png" alt="Xnip2019-08-20_00-03-07"></p></li></ul> <h3 id="代码块"><a href="#代码块" class="header-anchor">#</a> 代码块</h3> <ul><li>作用：用来<strong>初始化类、对象</strong></li> <li>代码块如果有修饰的话，<strong>只能使用static</strong>。因此可以分为如下：
<ul><li>静态代码块
<ul><li>内部可以有输出语句</li> <li><strong>随着类的加载而执行，而且只执行一次</strong></li> <li>作用：<strong>初始化类的信息</strong></li> <li>如果一个类中定义了多个静态代码块，则按照声明的先后顺序执行</li> <li>静态代码块的执行要优先于非静态代码块的执行</li> <li>静态代码块内只能调用静态的属性、静态的方法，不能调用非静态的结构</li></ul></li> <li>非静态代码块
<ul><li>内部可以有输出语句</li> <li><strong>随着对象的创建而执行</strong>。每创建一个对象，就执行一次非静态代码块</li> <li>作用：<strong>可以在创建对象时，对对象的属性等进行初始化</strong></li> <li>如果一个类中定义了多个非静态代码块，则按照声明的先后顺序执行</li> <li>非静态代码块内可以调用静态的属性、静态的方法，或非静态的属性、非静态的方法</li></ul></li></ul></li></ul> <h3 id="内部类"><a href="#内部类" class="header-anchor">#</a> 内部类</h3> <p>当一个事物的内部，还有一个部分<strong>需要一个完整的结构进行描述</strong>，而这个内部的完整的结构<strong>又只为外部事物提供服务</strong>，那么整个内部的完整结构最好使用内部类。</p> <ul><li><p>在Java中，允许<strong>一个类的定义位于另一个类的内部</strong>，前者称为<strong>内部类</strong>，后者称为<strong>外部类</strong>。</p> <p>Inner class一般用在定义它的类或语句块之内，在外部引用它时必须给出完整的名称。不能与外部类名相同。</p> <p>内部类仍然是一个独立的类，在编译之后会内部类会被编译成独立的.class文件，但是前面冠以外部类的类名 和$符号 。比如，<code>Person$Heart.class</code>。分类如下：</p></li> <li><p><strong>成员内部类</strong>（<strong>static</strong>成员内部类和<strong>非static</strong>成员内部类）</p> <ul><li>作为外部类的成员
<ul><li>与外部类不同，Inner class还可以声明为private或protected（总共<strong>4种权限修饰符</strong>）</li> <li>可以被abstract修饰，因此可以被其它的内部类继承</li> <li>可以<strong>被static修饰</strong>，但此时就不能再使用外层类的非static的成员变量。非static的成员内部类中的成员不能声明为static的，只有在外部类或static的成员内部类中才可声明static成员。</li> <li>可以<strong>调用外部类的结构</strong></li></ul></li> <li>作为一个类
<ul><li>类内可以<strong>定义属性、方法、构造器等</strong></li> <li>可以<strong>被abstract修饰</strong>，因此可以被其它的内部类继承</li> <li>可以<strong>被final修饰</strong>，表示此类不能被继承。言外之意，不使用final，就可以被继承</li> <li><strong>编译以后生成OuterClass$InnerClass.class字节码文件</strong>(也适用于局部内部类)</li></ul></li></ul></li> <li><p><strong>局部内部类</strong>（不谈修饰符，一般在<strong>代码块中、构造器中、方法中</strong>）、<strong>匿名内部类</strong></p></li> <li><p>特点：（铁扇公主肚子里的孙猴子）</p> <ul><li><strong>内部类可以直接访问外部类的成员</strong>，<strong>包括私有成员</strong>。</li> <li><strong>外部类要访问</strong>内部类的成员，必须要<strong>建立内部类的对象</strong>。</li></ul></li> <li><p>需要关注如下问题：</p> <ul><li><p><strong>如何实例化成员内部类的对象</strong></p> <ul><li><p><strong>非静态成员内部类</strong></p> <p><code>Outer.Inner in = new Outer().new Inner();</code><strong>直接访问外部类中内部类成员</strong></p> <p>如果出现了<strong>重名</strong>现象，<strong>访问外部类成员变量</strong>格式是：<strong><code>外部类名称.this.外部类成员变量名</code></strong></p> <p>【面试】</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token keyword">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> viod <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> num  <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//30</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//20</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Outer</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//10</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><strong>静态成员内部类</strong></p> <p><code>Outer.Inner in = new Outer.Inner();</code>)<strong>不用创建外部类对象</strong>，相当于外部类</p> <p>静态内部类只能访问外部类中的静态成员</p> <p>静态内部类中可以定义静态成员，<strong>非静态内部类中不允许定义静态成员</strong></p> <p>【面试】</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//位置1</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Test</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//位置2</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//在位置1写 new Inner()  可以，外部类访问内部类要创建内部类对象</span>
    <span class="token comment">//在位置2写 new Inner()  不可以，main方法时静态的，不能调用非静态内部类</span>
    <span class="token comment">//在位置2写 new test.Inner()  不可以，不是静态内部类，可以test.new Inner()</span>
    <span class="token comment">//在位置2写 new Test.Inner()  不可以，类名调用只能调用静态成员，除非内部类为静态</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><strong>局部内部类</strong>（包含<strong>匿名内部类</strong>）：定义在<strong>方法内部</strong>的类，只有<strong>当前所属方法才能使用它</strong></p> <ul><li><p>局部内部类，如果<strong>访问所在方法的局部变量</strong>，那么这个局部变量必须是【有效<strong>final</strong>的】</p> <p>备注：从Java 8+开始，只要局部变量事实不变，那么final关键字可以省略。</p> <blockquote><p>new出来的对象在堆内存当中。</p> <p>局部变量是跟着方法走的，在栈内存当中。</p> <p>方法运行结束之后，立刻出栈，局部变量就会立刻消失。</p> <p>但是new出来的对象会在堆当中持续存在，直到垃圾回收消失。</p></blockquote></li></ul></li> <li><p><strong>匿名内部类</strong>：是局部内部类的简化写法。它的本质是一个<strong>带具体实现的父类或者父接口的匿名的子类对象</strong></p> <ul><li><p><strong>前提</strong>：匿名内部类必须<strong>继承一个父类</strong>或者<strong>实现一个父接口</strong>。</p> <div class="language-java extra-class"><pre class="language-java"><code>接口名称 对象名 <span class="token operator">=</span> <span class="token keyword">new</span> 接口名称<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//new代表创建对象的动作；接口名称就是匿名内部类需要实现哪个接口</span>
    <span class="token comment">// 覆盖重写所有抽象方法</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//{...}这才是匿名内部类的内容</span>
</code></pre></div></li> <li><p>**使用场景：**方法的参数是接口或抽象类，并且其中的方法不超过三个，嫌麻烦为了不写实现类或子类</p></li> <li><p>注意几点问题：</p> <ul><li><strong>匿名内部类</strong>，在【<strong>创建对象</strong>】的时候，<strong>只能使用唯一一次</strong>。如果希望多次创建对象，而且类的内容一样的话，那么就需要使用单独定义的实现类了。</li> <li><strong>匿名对象</strong>，在【<strong>调用方法</strong>】的时候，<strong>只能调用唯一一次</strong>。如果希望同一个对象，调用多次方法，那么必须<strong>给对象起个名字</strong>。</li> <li>匿名内部类是省略了【实现类/子类名称】，但是匿名对象是省略了【对象名称】</li></ul></li></ul></li></ul></li></ul></li> <li><p>定义一个类的时候，权限修饰符规则：</p> <ul><li><p>外部类：public / (default)</p></li> <li><p>成员内部类：public / protected / (default) / private</p></li> <li><p><strong>局部内部类</strong>：什么都不能写</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//匿名对象，匿名内部类</span>
            <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello</span>
        <span class="token comment">//若是给对象起名，并用该名调用show方法，则编译不通过，因为父类中没有此方法，当前所属方法才能使用它</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>开发中局部内部类的使用  见《InnerClassTest1.java》</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>

    <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;小明&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;动物：吃饭&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">//静态成员内部类</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> name<span class="token punctuation">;</span>
        <span class="token keyword">int</span> age<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;卡拉是条狗&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//eat(); //静态不能调用非静态</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//非静态成员内部类</span>
    <span class="token keyword">class</span> <span class="token class-name">Bird</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;杜鹃&quot;</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">Bird</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;我是一只小小鸟&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Animal</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用外部类的非静态属性</span>
            <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//方法的形参</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//内部类的属性</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Animal</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//外部类的属性</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//局部内部类</span>
        <span class="token keyword">class</span> AA<span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">{</span>
        <span class="token comment">//局部内部类</span>
        <span class="token keyword">class</span> BB<span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//局部内部类</span>
        <span class="token keyword">class</span> CC<span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_2-3-面向对象的三大特征"><a href="#_2-3-面向对象的三大特征" class="header-anchor">#</a> 2.3 面向对象的三大特征</h2> <h3 id="封装"><a href="#封装" class="header-anchor">#</a> 封装</h3> <p>使用者对类内部定义的属性(对象的成员变量)的直接操作会导致数据的错误、混乱或安全性问题。</p> <p>Java中通过<strong>将数据声明为私有的(private)</strong>，再<strong>提供公共的(public) 方法：getXxx()和setXxx()实现对该属性的操作</strong>，实现下述目的：</p> <ul><li><strong>隐藏</strong>一个类中不需要对外提供的<strong>实现细节</strong></li> <li>使用者只能通过事先定制好的方法来访问数据，可以方便地<strong>加入控制逻辑，限制对属性的不合理操作</strong></li> <li><strong>便于修改，增强代码的可维护性</strong></li></ul> <p>封装性的体现：</p> <ul><li>如上</li> <li>不对外暴露的私有方法</li> <li>单例模式</li> <li>……</li></ul> <p>在设计程序时，追求“高内聚、低耦合”</p> <h3 id="继承-extends"><a href="#继承-extends" class="header-anchor">#</a> 继承 / extends</h3> <ul><li><p>多个类中存在相同属性和行为时，将这些内容抽取到单独一个类中， 其他类无需再定义这些属性和行为，只要继承那个类即可。此处的其他类称为<strong>子类（派生类或subclass）</strong>，单独的这个类称为<strong>父类（基类 或超类 或superclass）</strong>。继承主要<strong>解决</strong>的问题是：<strong>共性抽取</strong>。可以理解为：“子类 is a 父类”</p></li> <li><p><strong>好处、作用：</strong></p> <ul><li><p>继承的出现减少了代码冗余，提高了代码的复用性。</p></li> <li><p>继承的出现，更有利于功能的扩展。</p></li> <li><p>继承的出现让类与类之间产生了关系，提供了多态的前提。</p> <p>但是不要仅为了获取其他类中某个功能而去继承</p></li></ul></li> <li><p>注意继承的<strong>规则</strong>：</p> <ul><li><strong>子类继承父类，就获取了父类（间接父类）所有的属性和方法</strong>。但是子类不能直接访问父类中私有的（private）的成员变量和方法。</li> <li>Java只支持<strong>单继承和多层继承</strong>，<strong>不允许多继承</strong></li> <li>所有的java类（除java.lang.Object类之外）都直接或间接的继承于java.lang.Object类</li></ul></li></ul> <h3 id="多态"><a href="#多态" class="header-anchor">#</a> 多态</h3> <ul><li><p>多态：可以理解为一个事物的多种形态。体现为<strong>对象的多态性</strong>，是指<strong>父类的引用指向子类的对象</strong></p></li> <li><p>Java引用变量有两个类型：编译时类型和运行时类型</p> <ul><li><p>编译时类型由声明该变量时使用的类型决定</p></li> <li><p>运行时类型由实际赋给该变量的对象决定</p> <p><strong>编译时，看左边；运行时，看右边</strong></p></li></ul></li> <li><p>若编译时类型和运行时类型不一致，就出现了对象的多态性(Polymorphism)，多态情况下，</p> <ul><li>“看左边”：看的是父类的引用(父类中不具备子类特有的方法)</li> <li>“看右边”：看的是子类的对象(实际运行的是子类重写父类的方法)</li></ul></li> <li><p><strong>前提（重点）</strong></p> <ul><li><strong>继承</strong>或者<strong>实现</strong>【二选一】</li> <li><strong>方法的重写</strong>【意义体现。若不重写，则无意义】</li> <li><strong>父类引用指向子类对象</strong>【格式体现】</li></ul></li> <li><p><strong>多态的使用：虚拟方法调用</strong></p> <p>在编译期，只能调用父类中声明的方法，但在运行期，我们实际执行的是子类重写父类的方法。</p> <p>虚拟方法调用(Virtual Method Invocation)，多态情况下：</p> <ul><li>子类中定义了与父类同名同参数的方法，在多态情况下，将此时<strong>父类的方法称为虚拟方法</strong>，父类根据赋给它的不同子类对象，动态调用属于子类的该方法。即<strong>参数的值传递机制体现对象多态性</strong>。这样的方法调用在编译期是无法确定的。</li></ul></li> <li><p><strong>多态中成员访问特点（继承中也一致）总结为：对象的多态性，只适用于成员方法</strong></p> <ul><li>成员变量：编译看左边，运行看左边。没有则向上找。</li> <li>静态方法或变量：编译看左边，运行看左边（与类相关）。没有则向上找。</li> <li><strong>成员方法</strong>：编译看<strong>左</strong>边，运行看<strong>右</strong>边（<strong>依赖对象，因为有方法重写</strong>）</li> <li>构造方法：创建子类对象时访问父类构造方法对父类成员进行初始化</li></ul> <blockquote><ul><li>继承后<strong>成员变量</strong>：若重名则<strong>就近</strong>使用，使用super区分父类变量。<strong>编译看左边，运行看左边</strong> <ul><li>子父类中出现了<strong>同名</strong>的<strong>成员变量</strong>，则创建子类对象时，访问有两种方式：
<ul><li><strong>直接通过子类对象访问</strong>成员变量：<strong>=左边对象是谁</strong>，就优先用谁，没有则向<strong>上</strong>找</li> <li><strong>间接通过成员方法访问</strong>成员变量：该<strong>方法属于谁</strong>，就优先用谁，没有则向<strong>上</strong>找</li></ul></li></ul></li> <li>继承后<strong>构造方法</strong>：无影响，但是子类构造方法默认调用父类构造方法
<ul><li><strong>子类构造必须先调用父类构造方法进行初始化</strong>，不写则默认<strong>赠送super()</strong>，写则用写的<strong>指定super</strong>调用</li> <li>构造方法的名字是与类名一致的。所以子类是<strong>无法继承</strong>父类<strong>构造方法</strong>的</li></ul></li> <li>继承后<strong>成员方法</strong>：重名，子类重写父类方法。<strong>编译看左边，运行看右边</strong> <ul><li>在父子类的继承关系中，创建子类对象，访问成员方法的规则：
<ul><li><strong>创建的对象(new)是谁，就优先用谁</strong>，没有则向<strong>上</strong>找</li></ul></li></ul></li></ul></blockquote></li> <li><p><strong>方法重载（@overload）实现编译时多态（有时不考虑这个）；方法重写（@override）实现运行时多态。</strong></p></li> <li><p><strong>对象类型转换</strong></p> <ul><li>基本数据类型的Casting
<ul><li>自动类型转换：小的数据类型可以自动转换成大的数据类型。略</li> <li>强制类型转换：可以把大的数据类型强制转换(casting)成小的数据类型。略</li></ul></li> <li>对<strong>Java对象的强制类型转换</strong>称为<strong>造型</strong> <ul><li>从子类到父类的类型转换可以自动进行（多态）</li> <li>从父类到子类的类型转换必须通过造型(强制类型转换)实现。可能出现ClassCastException，需先instanceof判断</li> <li>无继承关系的引用类型间的转换是非法的</li> <li>在造型前可以使用instanceof操作符测试一个对象的类型</li></ul></li></ul></li> <li><p><strong>instanceof</strong> <code>x instanceof A</code>：检验x是否为类A的对象，返回值为boolean型</p> <ul><li>要求x所属的类与类A必须是子类和父类的关系，否则编译错误。</li> <li>如果x属于类A的子类B，x instanceof A值也为true。</li></ul></li></ul> <h3 id="抽象性（可选）"><a href="#抽象性（可选）" class="header-anchor">#</a> 抽象性（可选）</h3> <h2 id="_2-4-其他关键字"><a href="#_2-4-其他关键字" class="header-anchor">#</a> 2.4 其他关键字</h2> <h3 id="this"><a href="#this" class="header-anchor">#</a> this</h3> <ul><li><p>理解this关键字</p> <ul><li><p>它在方法内部使用，即这个方法<strong>所属对象的引用</strong></p></li> <li><p>它在构造器内部使用，表示该构造器<strong>正在初始化的对象</strong></p> <p>记住 ：方法<strong>被哪个对象调用</strong>，方法中的this<strong>就代表那个对象</strong>。即谁在调用，this就代表谁。</p></li></ul></li> <li><p><strong>this 可以调用类的属性、方法、另一个重载构造器（最多只能有一个this，且在第一句）</strong></p></li> <li><p>注意：</p> <ul><li>使用this访问属性和方法时， 如果<strong>在本类中未找到，会从父 类中查找</strong></li> <li>this可以作为一个类中<strong>构造器相互调用</strong>的特殊格式，但不能调用自身构造器。如果一个类中声明了n个构造器，则最多有 n - 1个构造器中使用了&quot;this(形参列表)&quot;</li></ul></li> <li><p>什么时候使用this关键字呢？当在方法内需要用到调用该方法的对象时，就用this。如可以用this来区分属性和局部变量</p></li></ul> <h3 id="super"><a href="#super" class="header-anchor">#</a> super</h3> <ul><li><p>在Java类中使用super来调用父类中的指定操作。访问父类中定义的属性、成员方法、构造器</p></li> <li><p>注意：</p> <ul><li>super的追溯不仅限于直接父类</li> <li>super和this的用法相像，this代表本类对象的引用，super代表父类的内存空间的标识</li></ul></li> <li><p>在子父类中</p> <ul><li>子类中所有的构造器<strong>默认都会访问父类中空参数的构造器</strong></li> <li>当父类中没有空参数的构造器时，子类的构造器必须通过<strong>this(参 数列表)<strong>或者</strong>super(参数列表)<strong>语句指定</strong>调用本类或者父类中相应的构造器</strong>。同时，<strong>只能”二选一”，且必须放在构造器的首行</strong></li> <li>如果子类构造器中既未显式调用父类或本类的构造器，且父类中又没有无参的构造器，则编译出错</li></ul></li></ul> <table><thead><tr><th>区别点</th> <th>this</th> <th>super</th></tr></thead> <tbody><tr><td>访问属性</td> <td>访问本类中的属性，如果本类没有此属性则从父类中继续查找</td> <td>直接访问父类中的属性</td></tr> <tr><td>调用方法</td> <td>访问本类中的方法，如果本类没有此方法则从父类中继续查找</td> <td>直接访问父类中的方法</td></tr> <tr><td>调用构造器</td> <td>调用本类构造器，必须放在构造器的首行</td> <td>调用父类构造器，必须放在子类构造器的首行</td></tr></tbody></table> <p><strong>super、this内存图</strong></p> <p>父类空间优先于子类对象产生。在每次创建子类对象时，先初始化父类空间，再创建其子类对象本身。目的在于子类对象中包含了其对应的父类空 间，便可以包含其父类的成员，如果父类成员非private修饰，则子类可以随意使用父类成员。代码体现在子类的构 造方法调用时，一定先调用父类的构造方法。</p> <p><img src="/assets/img/super&amp;this.69a643dd.png" alt=""></p> <h3 id="static"><a href="#static" class="header-anchor">#</a> static</h3> <p>某些特定的数据在内存空间里只有一份，如果一个成员使用了static关键字（静态的），那么这个成员不再属于自己，而是<strong>属于所在类</strong>，<strong>由多个对象共享这个成员</strong>。可用于修饰<strong>成员变量、方法、代码块、内部类</strong>。</p> <ul><li><p>修饰<strong>属性/成员变量</strong>：<strong>静态成员变量（或类变量）</strong></p> <ul><li><p>属性按照是否使用static修饰，又分为：静态成员变量（或类变量）和 非静态变量（实例变量）</p> <ul><li>静态变量：多个对象共享同一个静态变量。</li> <li>实例变量：每个对象都独立的拥有一套类中的非静态变量。</li></ul></li> <li><p>static修饰属性的其他说明：</p> <ul><li>静态变量<strong>随着类的加载而加载</strong>。可以通过&quot;类.静态变量&quot;的方式进行调用</li> <li>静态变量的<strong>加载要早于对象的创建</strong>。</li> <li>由于类只会加载一次，则静态变量在内存中也只会存在一份：存在<strong>方法区的静态域中</strong>。</li></ul></li></ul></li> <li><p>修饰方法：<strong>静态方法</strong></p> <ul><li><strong>随着类的加载而加载</strong>，可以通过&quot;类.静态方法&quot;的方式进行调用</li> <li>注意（由于生命周期）：
<ul><li>静态方法中，只能调用静态的方法或属性</li> <li>非静态方法中，既可以调用非静态的方法或属性，也可以调用静态的方法或属性</li></ul></li> <li>static注意点：
<ul><li>在静态的方法内，<strong>不能使用this关键字、super关键字</strong></li> <li>关于静态变量和静态方法的使用，大家都从生命周期的角度去理解。</li></ul></li></ul> <blockquote><p>开发中，如何确定一个属性是否要声明为static的？</p> <ul><li>属性是可以被多个对象所共享的，不会随着对象的不同而不同的。</li> <li>类中的常量也常常声明为static</li></ul> <p>开发中，如何确定一个方法是否要声明为static的？</p> <ul><li>操作静态属性的方法，通常设置为static的</li> <li>工具类中的方法，习惯上声明为static的。 比如：Math、Arrays、Collections</li></ul></blockquote></li> <li><p>修饰代码块</p></li> <li><p>修饰内部类</p></li> <li><p>用处举例：</p> <ul><li>Arrays、Math、Collections 工具类</li> <li>单例设计模式有用到</li></ul></li></ul> <ul><li><p>静态内存图</p> <p><img src="/assets/img/static.92bd8ed9.png" alt=""></p></li></ul> <h3 id="final"><a href="#final" class="header-anchor">#</a> final</h3> <p>final，最终的。可以用来修饰的结构：类、方法、变量：</p> <ul><li><strong>类</strong>：<strong>此类不能被其他类所继承</strong>。比如：String类、System类、StringBuffer类</li> <li><strong>方法</strong>：表明<strong>此方法不可以被重写</strong>。比如：Object类中getClass()，是native方法</li> <li><strong>变量（成员变量、局部变量）</strong>：<strong>此时的&quot;变量&quot;就称为是一个常量，名称大写，且只能被赋值一次。</strong>。
<ul><li>final修饰<strong>属性（成员变量）</strong>：由于成员变量有默认值，用final修饰后<strong>必须手动赋值</strong>！否则编译失败！可以考虑赋值的位置有：显式初始化、代码块初始化、构造器初始化（所有构造器都需赋值）</li> <li>final修饰<strong>局部变量</strong>：尤其是使用final修饰形参时，表明此形参是一个常量。当我们调用此方法时，给常量形参赋一个实参。一旦赋值以后，就只能在方法体内使用此形参，但不能进行重新赋值。
<ul><li>基本类型：只能<strong>赋值一次</strong>，<strong>不能再更改</strong>。</li> <li>引用类型：只能指向一个对象，<strong>地址不能再更改</strong>。不影响内部成员变量的修改</li></ul></li></ul></li></ul> <p><strong>static final 用来修饰属性：全局常量</strong></p> <ul><li><strong>abstract和final不能同时使用</strong>。abstract修饰类、方法是需要被实现、重写的，与final矛盾</li> <li><strong>abstract和static不能同时使用</strong>。abstract修饰的方法没有方法体，static修饰的方法可以类名调用，编译失败</li></ul> <p>习题1：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Something</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">addOne</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">return</span> <span class="token operator">++</span>x<span class="token punctuation">;</span> <span class="token comment">// 编译报错</span>
        <span class="token comment">// return x + 1; // OK</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div><p>习题2：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Something</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Other</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Other</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Something</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addOne</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addOne</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Other</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token comment">// o = new Other(); // 编译报错</span>
        o<span class="token punctuation">.</span>i<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Other</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>
<span class="token punctuation">{</span>
</code></pre></div><h3 id="abstract抽象"><a href="#abstract抽象" class="header-anchor">#</a> abstract抽象</h3> <p>随着继承层次中一个个新子类的定义，类变得越来越具体，而父类则更一 般，更通用。类的设计应该保证父类和子类能够共享特征。有时将一个父类设计得非常抽象，以至于它没有具体的实例，这样的类叫做抽象类。</p> <ul><li><strong>抽象方法</strong>：<strong>没有方法主体</strong>（没有大括号）的方法，用<code>abstract</code>修饰，<code>;</code>结束</li> <li><strong>抽象类</strong>：<strong>包含抽象方法的类必须声明为抽象类</strong>，但<strong>抽象类可以不包含任何抽象方法</strong> <ul><li><strong>抽象类不能被实例化</strong>（可能包含抽象方法，但没有方法体无法调用）</li> <li>可以<strong>创建子类继承<code>(extends)</code><strong>并</strong>重写父类所有抽象方法</strong>，否则该子类须声明为抽象类（最终必有实现类否则无意义）</li></ul></li> <li><strong>抽象类成员特点：</strong> <ol><li>成员变量：有变量，有常量</li> <li>成员方法：有抽象，有非抽象</li> <li><strong>构造方法</strong>：有，用于<strong>子类创建对象时初始化父类成员</strong>（因为子类构造中，有默认的<code>super()</code>.）</li> <li>静态代码块：可以有</li></ol></li> <li>abstract使用时<strong>注意</strong>：
<ul><li>abstract不能修饰<strong>属性、构造器</strong>等结构；</li> <li>abstract不能修饰<strong>私有方法</strong>（private，私有方法属于类不能被重写）、<strong>静态方法</strong>（static，静态方法属于类不能被重写）、<strong>final方法</strong>、<strong>final类</strong>；</li></ul></li></ul> <ul><li><p>匿名子类对象/匿名子类的匿名对象（new的并不是抽象类！）</p> <div class="language-JAVA extra-class"><pre class="language-java"><code><span class="token comment">//创建了一匿名子类的对象：p，其中Person为抽象类</span>
<span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;吃东西&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">breath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;好好呼吸&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">method1</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// </span>
<span class="token comment">//创建匿名子类的匿名对象</span>
<span class="token function">method1</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;吃好吃东西&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">breath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;好好呼吸新鲜空气&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="interface接口"><a href="#interface接口" class="header-anchor">#</a> interface接口</h3> <h4 id="理解"><a href="#理解" class="header-anchor">#</a> 理解</h4> <p>继承是一个&quot;<strong>是不是</strong>&quot;的关系，而接口实现则是 &quot;<strong>能不能</strong>&quot;的关系。接口的本质是契约，标准，规范。</p> <p>Java中接口是多个<strong>类的公共规范标准</strong>，是方法的集合。是<strong>引用数据类型</strong>，用<code>interface</code>修饰，也会被编译成<code>.class</code>文件</p> <h4 id="接口中包含的内容"><a href="#接口中包含的内容" class="header-anchor">#</a> 接口中包含的内容</h4> <ul><li><p>JDK7：<strong>全局常量（静态）</strong>、<strong>抽象方法</strong></p> <ul><li>接口中成员变量必须是<strong>赋值的常量</strong>且<strong>静态</strong>的，默认修饰符<code>public static final</code>（大写、下划线），可省略</li> <li>接口中成员方法必须是<strong>抽象方法</strong>，默认修饰符<code>public abstract</code>，可省略</li></ul></li> <li><p>JDK8：<strong>默认方法（default ）</strong>、<strong>静态方法（static）</strong></p> <ul><li><p>默认方法：供<strong>实现类直接调用</strong>或者<strong>重写</strong>。可以解决接口升级问题、拼接函数模型</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/*public*/</span> <span class="token keyword">default</span> 返回值类型 <span class="token function">method</span><span class="token punctuation">(</span><span class="token comment">/*参数列表*/</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//default不可省略，public可省略</span>
    <span class="token comment">//方法体     </span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>静态方法：<strong>只能接口直接调用</strong>，不能用接口实现类对象来调用（因为可能实现多接口）</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/*public*/</span> <span class="token keyword">static</span> 返回值类型 <span class="token function">method</span><span class="token punctuation">(</span><span class="token comment">/*参数列表*/</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//static不可省略，public可省略</span>
    <span class="token comment">//方法体         </span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>JDK9：<strong>私有方法</strong></p> <ul><li><p>私有方法：向上抽取重复代码，只能供<strong>接口自己</strong>中的<strong>默认方法</strong>或者<strong>静态方法调用</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> 返回值类型 <span class="token function">method</span><span class="token punctuation">(</span><span class="token comment">/*参数列表*/</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">//方法体     </span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> 返回值类型 <span class="token function">method</span><span class="token punctuation">(</span><span class="token comment">/*参数列表*/</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//方法体         </span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul> <ul><li><p>接口中<strong>没有构造器</strong>。即不可以被实例化，需要定义一个类<strong>实现<code>(implements)</code>接口中所有方法</strong>，如果这个类是<strong>抽象类，实现部分</strong>即可。<strong>接口的具体使用，也体现多态性</strong></p></li> <li><p>笔记本USB接口案例</p> <p><img src="/assets/img/interface.702f2a88.png" alt=""></p></li></ul> <h4 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h4> <ul><li>接口<strong>没有静态代码块</strong>和<strong>构造方法</strong>（其实现类继承<code>Object</code>，提供无参构造）</li> <li>一个类的直接父类是唯一的，但一个<strong>类可以实现多个接口</strong>（用“,”隔开）</li> <li>接口中定义的<strong>静态方法，只能通过接口来调用</strong>。</li> <li>通过<strong>实现类的对象，可以调用接口中的默认方法</strong>。如果实现类重写了接口中的默认方法，调用时，仍然调用的是重写以后的方法</li> <li>实现类实现的多个接口中，存在<strong>重复的抽象方法</strong>，那么<strong>只需重写一次</strong>即可</li> <li>实现类实现的多个接口中，存在<strong>重复的默认方法</strong>，那么<strong>必须重写</strong>冲突的默认方法，否则<strong>接口冲突。</strong></li> <li>实现类的<strong>直接父类中的方法</strong>和<strong>接口中默认方法产生冲突</strong>，在子类没有重写情况下优先<strong>使用父类</strong>中的方法。<strong>类优先原则</strong></li> <li><strong>实现类中调用接口中的默认方法</strong>，<code>InterfaceA.super.method()</code></li></ul> <h4 id="类与接口关系总结"><a href="#类与接口关系总结" class="header-anchor">#</a> 类与接口关系总结</h4> <ul><li><p>类与类：继承关系，只能单继承，可以多层继承</p></li> <li><p>类与接口：实现关系，可以单实现，也可以多实现，可以在继承一个类时实现多个接口</p></li> <li><p>接口与接口：继承关系，可以单继承，也可以多继承</p> <p>多继承中，如果父接口中的默认方法（抽象方法）有重名的，那么子接口须重写一次。</p></li> <li><p>同抽象类，接口也可以创建：非匿名实现类的非匿名对象、非匿名实现类的匿名对象、匿名实现类的非匿名对象、匿名实现类的匿名对象</p> <p>​</p></li></ul> <h3 id="enum枚举"><a href="#enum枚举" class="header-anchor">#</a> Enum枚举</h3> <blockquote><p>类的对象只有有限个，确定的。举例如下：</p> <ul><li>星期：Monday(星期一)、......、Sunday(星期天)</li> <li>性别：Man(男)、Woman(女)</li> <li>季节：Spring(春节)......Winter(冬天)</li> <li>支付方式：Cash(现金)、WeChatPay(微信)、Alipay(支付宝)、BankCard(银行卡)、CreditCard(信用卡)</li> <li>就职状态：Busy、Free、Vocation、Dimission</li> <li>订单状态：Nonpayment(未付款)、Paid(已付款)、Delivered(已发货)、Return(退货)、Checked(已确认)、Fulfilled(已配货)</li> <li>线程状态：Thread中 State 内部枚举类</li></ul></blockquote> <p><strong>当需要定义一组常量时，强烈建议使用枚举类</strong></p> <h4 id="枚举类的实现"><a href="#枚举类的实现" class="header-anchor">#</a> 枚举类的实现</h4> <ul><li><p>JDK1.5之前需要自定义枚举类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//自定义枚举类</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Season</span><span class="token punctuation">{</span>
    <span class="token comment">//1.声明Season对象的属性:private final修饰，final 可不加，但加上后在生成 set 方法时会编译报错，以示提醒</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> seasonName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> seasonDesc<span class="token punctuation">;</span>

    <span class="token comment">//2.私有化类的构造器，保证不能在类的外部创建其对象，并给对象属性赋值</span>
    <span class="token keyword">private</span> <span class="token class-name">Season</span><span class="token punctuation">(</span><span class="token class-name">String</span> seasonName<span class="token punctuation">,</span><span class="token class-name">String</span> seasonDesc<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>seasonName <span class="token operator">=</span> seasonName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>seasonDesc <span class="token operator">=</span> seasonDesc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//3.提供当前枚举类的多个对象：public static final修饰</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Season</span> SPRING <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Season</span><span class="token punctuation">(</span><span class="token string">&quot;春天&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;春暖花开&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Season</span> SUMMER <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Season</span><span class="token punctuation">(</span><span class="token string">&quot;夏天&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;夏日炎炎&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Season</span> AUTUMN <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Season</span><span class="token punctuation">(</span><span class="token string">&quot;秋天&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;秋高气爽&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Season</span> WINTER <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Season</span><span class="token punctuation">(</span><span class="token string">&quot;冬天&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;冰天雪地&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//4.其他诉求1：获取枚举类对象的属性</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getSeasonName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> seasonName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getSeasonDesc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> seasonDesc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//4.其他诉求2：提供toString()</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Season{&quot;</span> <span class="token operator">+</span>
            <span class="token string">&quot;seasonName='&quot;</span> <span class="token operator">+</span> seasonName <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
            <span class="token string">&quot;, seasonDesc='&quot;</span> <span class="token operator">+</span> seasonDesc <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
            <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>JDK 1.5 新增的 <code>enum</code> 关键字用于定义枚举类</p> <ul><li><p>使用 enum 定义的枚举类<strong>默认继承</strong>了 <code>java.lang.Enum</code>类，因此不能再继承其他类</p></li> <li><p>必须在<strong>枚举类的第一行声明枚举类对象</strong>，以<code>,</code>分隔<code>;</code> 结尾。列出的实例对象系统会<strong>自动添加</strong><code>public static final</code>修饰</p></li> <li><p>枚举类的<strong>属性建议使用</strong><code>private final</code>修饰，加上<code>final</code>后在生成<code>set</code>方法时会编译报错，以示提醒</p></li> <li><p>枚举类的<strong>构造器默认使用</strong> <code>private</code> 权限修饰符</p> <blockquote><p>JDK 1.5 中可以在 switch 表达式中使用Enum定义的枚举类的对象作为表达式, case 子句可以直接使用枚举值的名字，无需添加枚举类作为限定</p></blockquote></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Season</span> <span class="token punctuation">{</span>
    <span class="token function">SPRING</span><span class="token punctuation">(</span><span class="token string">&quot;春天&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;春风又绿江南岸&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">SUMMER</span><span class="token punctuation">(</span><span class="token string">&quot;夏天&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;映日荷花别样红&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">AUTUMN</span><span class="token punctuation">(</span><span class="token string">&quot;秋天&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;秋水共长天一色&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">WINNER</span><span class="token punctuation">(</span><span class="token string">&quot;冬天&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;窗含西岭千秋雪&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">// 若没有属性，可以不定义它和构造器</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> des<span class="token punctuation">;</span>

    <span class="token class-name">Season</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> des<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>des <span class="token operator">=</span> des<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 可添加 get 方法、重写 Enum 类的toString()</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> des<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Season{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;name='&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">&quot;, des='&quot;</span> <span class="token operator">+</span> des <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><strong>若枚举只有一个对象，则可以作为一种单例模式的实现方式，查看单例模式中例子</strong></p></li></ul> <h4 id="java-lang-enum常用方法"><a href="#java-lang-enum常用方法" class="header-anchor">#</a> <code>java.lang.Enum</code>常用方法</h4> <ul><li><p><code>values()</code>：返回<strong>枚举类型的对象数组</strong>，该方法可以很方便地遍历所有的枚举值</p></li> <li><p><code>valueOf(String str)</code>：可以把一个字符串转为对应的枚举类对象。要求字符串必须是枚举类对象的“名字”。如不是，会有运行时异常:<code>IllegalArgumentException</code></p></li> <li><p><code>toString()</code>：不重写则返回当前枚举类对象常量的名称</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 以下代码演示不重写toString()方法</span>
<span class="token class-name">Season</span><span class="token punctuation">[</span><span class="token punctuation">]</span> values <span class="token operator">=</span> <span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// [SPRING, SUMMER, AUTUMN, WINNER]</span>

<span class="token class-name">Season</span> summer <span class="token operator">=</span> <span class="token class-name">Season</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">&quot;SUMMER&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>summer<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// SUMMER</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Season</span><span class="token punctuation">.</span>SUMMER<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// SUMMER，默认调用 toString()</span>
</code></pre></div></li></ul> <h4 id="实现接口的enum枚举类"><a href="#实现接口的enum枚举类" class="header-anchor">#</a> 实现接口的<code>Enum</code>枚举类</h4> <ul><li><p>和<strong>普通 Java 类一样</strong>，枚举类可以<strong>实现一个或多个接口</strong></p></li> <li><p>若每个枚举值在调用实现的接口方法呈现相同的行为方式，则只要统一实现该方法即可</p> <p>若需要每个枚举值在调用实现的接口方法呈现出不同的行为方式，则可以让<strong>每个枚举值分别来实现该方法</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 简单示例如下</span>
<span class="token function">SPRING</span><span class="token punctuation">(</span><span class="token string">&quot;春天&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;春风又绿江南岸&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// TODO</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h3 id="annotation注解"><a href="#annotation注解" class="header-anchor">#</a> Annotation注解</h3> <h4 id="注解和注释区别"><a href="#注解和注释区别" class="header-anchor">#</a> 注解和注释区别</h4> <ul><li><p><strong>注释</strong>：在阅读程序时更清楚，给<strong>程序员看的</strong></p></li> <li><p><strong>注解</strong>：给jvm看的，<strong>给机器看的</strong></p></li></ul> <h4 id="注解的理解"><a href="#注解的理解" class="header-anchor">#</a> 注解的理解</h4> <ul><li>从 JDK 5.0 开始，Java 增加了对<strong>元数据（MetaData）<strong>的支持, 也就是Annotation。Annotation 其实就是代码里的</strong>特殊标记</strong>, 这些标记可以在<strong>编译、类加载、运行时</strong>被读取, 并执行相应的处理。通过使用 Annotation, 程序员可以在不改变原有逻辑的情况下, 在源文件中嵌入一些补充信息。代码分析工具、开发工具和部署工具可以通过这些补充信息进行验证或者进行部署。</li> <li>Annotation 可以像修饰符一样被使用，可用于修饰<strong>包、类、构造器、方法、成员变量、参数、局部变量的声明</strong>，这些信息被保存在 Annotation 的 key,value 对中。</li> <li>在JavaSE中，注解的使用目的比较简单，例如标记过时的功能， 忽略警告等。在JavaEE/Android中注解占据了更重要的角色，例如用来配置应用程序的任何切面，代替JavaEE旧版中所遗留的繁冗代码和XML配置等。未来的开发模式都是基于注解的，JPA是基于注解的，Spring2.5以上都是基于注解的，Hibernate3.x以后也是基于注解的，现在的Struts2有一部分也是基于注解的了，注解是一种趋势，一定程度上可以说：<code>框架 = 注解 + 反射 + 设计模式</code>。</li></ul> <h4 id="注解的作用"><a href="#注解的作用" class="header-anchor">#</a> 注解的作用</h4> <ul><li><p><strong>编译检查</strong>：通过代码里标识的注解让编译器能够实现基本的编译检查</p> <ul><li><code>@Override</code>：检测被该注解标注的方法是否是继承自父类(接口)的</li> <li><code>@Deprecated</code>：该注解标注的内容，表示已过时，通常是因为 所修饰的结构危险或存在更好的选择</li> <li><code>@SuppressWarnings({数组})</code>：压制警告。不让显示黄线或灰色，变量、方法、类上都可以使用
<ul><li>一般传递参数all  <code>@SuppressWarnings(&quot;all&quot;)</code></li></ul></li></ul></li> <li><p><strong>代码分析</strong>：通过代码里标识的注解对代码进行分析（替代配置文件，如 Servlet3.0和 Spring 中注解）</p></li> <li><p><strong>编写文档</strong>：通过代码里标识的注解生成doc文档</p> <ul><li>@author 标明开发该类模块的作者，多个作者之间使用,分割</li> <li>@version 标明该类模块的版本</li> <li>@see 参考转向，也就是相关主题</li> <li>@since 从哪个版本开始增加的</li> <li>@param 对方法中某参数的说明，如果没有参数就不能写</li> <li>@return 对方法返回值的说明，如果方法的返回值类型是void就不能写</li> <li>@exception 对方法可能抛出的异常进行说明 ，如果方法没有用throws显式抛出的异常就不能写</li></ul> <p>其中</p> <ul><li>@param @return 和 @exception 这三个标记都是只用于方法的</li> <li>@param的格式要求:@param 形参名 形参类型 形参说明</li> <li>@return 的格式要求:@return 返回值类型 返回值说明</li> <li>@exception的格式要求:@exception 异常类型 异常说明</li> <li>@param和@exception可以并列多个</li></ul></li></ul> <h4 id="自定义注解"><a href="#自定义注解" class="header-anchor">#</a> 自定义注解</h4> <ul><li><p>本质：注解本质上就是一个<strong>接口</strong>，该接口<strong>默认继承<code>java.lang.annotation.Annotation</code>接口</strong></p></li> <li><p>格式，可参照<code>@SuppressWarnings</code></p> <div class="language-java extra-class"><pre class="language-java"><code>@元注解
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> 注解名称<span class="token punctuation">{</span>
	属性列表<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><strong>成员变量</strong>：以<strong>无参数方法的形式</strong>来声明，其方法名和返回值定义了该成员的名字和类型，称为配置参数</p> <ul><li><p><strong>返回值类型</strong>的取值：<code>八种基本数据类型</code>、<code>String</code>、<code>Class</code>、<code>Enum</code>、<code>Annotation</code>、<code>以上类型的数组</code></p></li> <li><p>定义了属性，在<strong>使用时</strong>需要给属性<strong>赋值</strong></p> <ul><li><p>如果定义属性时使用**<code>default</code>**关键字给属性默认初始化值，则使用注解时，可不进行属性的赋值。</p></li> <li><p>如果<strong>只有一个属性需要赋值</strong>，并且属性的名称是**<code>value</code>**，则<code>value</code>可以省略，直接定义值即可。</p></li> <li><p><strong>数组</strong>赋值时，值使用**<code>{}</code>**包裹。如果数组中只有一个值，则<code>{}</code>可以省略</p></li></ul></li> <li><p>没有成员定义的 Annotation 称为<strong>标记</strong>，如<code>@Override</code>；包含成员变量的 Annotation 称为<strong>元数据 Annotation</strong></p></li></ul></li> <li><p><strong>元注解</strong>：用于<strong>描述注解的注解</strong>，即修饰其他 Annotation的Annotation</p> <ul><li><p><strong><code>@Target</code></strong>：描述注解能够<strong>作用的位置</strong>，<strong>属性<code>ElementType</code>枚举类</strong>。不指定则都可以使用</p> <ul><li><p><code>TYPE</code>：可以作用于类上。Class, interface (including annotation type), or enum declaration</p></li> <li><p><code>FIELD</code>：可以作用于域（成员变量）上。Field declaration (includes enum constants)</p></li> <li><p><code>CONSTRUCTOR</code>：可以作用于构造器上。Constructor declaration</p></li> <li><p><code>METHOD</code>：可以作用于方法上。Method declaration</p></li> <li><p><code>PARAMETER</code>：Formal parameter declaration</p></li> <li><p><code>LOCAL_VARIABLE</code>：Local variable declaration</p></li> <li><p><code>ANNOTATION_TYPE</code>：Annotation type declaration</p></li> <li><p><code>PACKAGE</code>：Package declaration</p></li> <li><p><code>TYPE_PARAMETER</code>：since 1.8，Type parameter declaration，能写在类型变量的声明语句中(如:泛型声明)</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestTypeDefine</span><span class="token operator">&lt;</span><span class="token annotation punctuation">@TypeDefine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token class-name">U</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>TYPE_USE</code>：since 1.8，Use of a type，能写在使用类型的任何语句中</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">AnnotationTest</span><span class="token operator">&lt;</span><span class="token annotation punctuation">@MyAnnotation</span> <span class="token class-name">String</span><span class="token operator">&gt;</span> t <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token annotation punctuation">@MyAnnotation</span> <span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token number">2L</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token annotation punctuation">@MyAnnotation</span> <span class="token class-name">String</span> arg<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token annotation punctuation">@MyAnnotation</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// ...</span>
</code></pre></div></li></ul></li> <li><p><strong><code>@Retention</code></strong>：只能用于修饰一个 <code>Annotation</code> 定义，用于指定该 <code>Annotation</code> 被<strong>保留</strong>到的阶段，<code>@Rentention</code> 包含一个 <code>RetentionPolicy</code><strong>枚举类型</strong>的成员变量：</p> <ul><li><code>SOURCE</code>：注解只在<code>.java</code>源文件级别有效。编译器直接丢弃这种策略的注释</li> <li><code>CLASS</code>：默认值，注解在<code>.java</code>源文件级别和<code>.class</code>字节码文件级别都有效。运行Java 程序时，JVM 丢弃</li> <li><code>RUNTIME</code>：在运行时有效，会保留到<code>.class</code>字节码文件中，并被JVM读取到，可<strong>通过反射获取该注释</strong></li></ul></li> <li><p><strong><code>@Repeatable</code></strong>：since 1.8，<strong>可重复注解</strong>。<code>Target</code> 和 <code>Retenton</code> 等元注解需相同，否则编译或运行报错</p> <ul><li><p>1.8之前</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">,</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>FIELD<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotations</span> <span class="token punctuation">{</span>

    <span class="token class-name">MyAnnotation</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">,</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>FIELD<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotation</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;hello annotation&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@MyAnnotations</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token annotation punctuation">@MyAnnotation</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@MyAnnotation</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnnotationTest</span><span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>1.8及之后</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">,</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>FIELD<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotations</span> <span class="token punctuation">{</span>

    <span class="token class-name">MyAnnotation</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Repeatable</span><span class="token punctuation">(</span><span class="token class-name">MyAnnotations</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">,</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>FIELD<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotation</span> <span class="token punctuation">{</span>

    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;hello annotation&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@MyAnnotation</span>
<span class="token annotation punctuation">@MyAnnotation</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnnotationTest</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> 
</code></pre></div></li></ul></li> <li><p><code>@Documented</code>：描述注解是否被javadoc抽取到api文档中，如<code>Date</code>类中有些<code>@Deprecated</code>方法</p></li> <li><p><code>@Inherited</code>：描述注解是否被子类继承</p></li></ul></li> <li><p>自定义注解必须配上注解的信息处理流程（使用反射）才有意义</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>METHOD<span class="token punctuation">,</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnno</span> <span class="token punctuation">{</span>
	<span class="token comment">//注解的属性</span>
	<span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">28</span><span class="token punctuation">;</span>	
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h4 id="注解的应用"><a href="#注解的应用" class="header-anchor">#</a> 注解的应用</h4> <ul><li><p>目前而言最主流的应用：<strong>代替配置文件</strong>，例如改写反射中加载配置文件的例子</p> <ul><li>配置文件与注解开发的优缺点：
<ul><li>注解优点：<strong>开发效率高、成本低</strong></li> <li>注解缺点：<strong>耦合性大</strong>、并且<strong>不利于后期维护</strong>，但是过虑了！</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">,</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>METHOD<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Prop</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">className</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">methodName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Prop</span><span class="token punctuation">(</span>className <span class="token operator">=</span> <span class="token string">&quot;test.Person&quot;</span><span class="token punctuation">,</span>methodName <span class="token operator">=</span> <span class="token string">&quot;show&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserTest1</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Prop</span><span class="token punctuation">(</span>className <span class="token operator">=</span> <span class="token string">&quot;test.Person&quot;</span><span class="token punctuation">,</span>methodName <span class="token operator">=</span> <span class="token string">&quot;show&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">NoSuchMethodException</span><span class="token punctuation">,</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">InvocationTargetException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span> <span class="token punctuation">{</span>
        <span class="token comment">//获取类上注解对象，并调用方法获取值</span>
        <span class="token class-name">Class</span> c <span class="token operator">=</span> <span class="token class-name">UserTest1</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
        <span class="token comment">//Prop prop = (Prop) c.getAnnotation(Prop.class);</span>
        <span class="token comment">//String className = prop.className();</span>
        <span class="token comment">//String methodName = prop.methodName();</span>
        
        <span class="token comment">//获取方法上注解对象，并调用方法获取值</span>
        <span class="token class-name">Method</span> main <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;main&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Prop</span> prop <span class="token operator">=</span> main<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Prop</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> className <span class="token operator">=</span> prop<span class="token punctuation">.</span><span class="token function">className</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> prop<span class="token punctuation">.</span><span class="token function">methodName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	    
        <span class="token comment">//同反射一致</span>
        <span class="token class-name">Class</span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Constructor</span> con <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getConstructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> o <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Method</span> show <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span>methodName<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        show<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token string">&quot;牛逼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>案例：简单的测试框架</p> <ul><li>通过反射获取加了注解要被测试类的方法，<code>method.isAnnotationPresent(Prop.class)</code></li> <li>通过返回值是否来执行该方法，若抛异常则通过IO流记录在文件中</li></ul></li> <li><p>小结：</p> <ol><li>以后大多数时候，我们会使用注解，而不是自定义注解</li> <li>注解给谁用？</li> <li>编译器</li> <li>给解析程序用，如上面的测试框架程序</li> <li>注解不是程序的一部分，可以理解为注解就是一个标签</li></ol></li></ul> <h3 id="package-import-jar"><a href="#package-import-jar" class="header-anchor">#</a> package / import / jar</h3> <ul><li><p>package语句作为Java源文件的<strong>第一条语句</strong>，指明该文件中定义的类所在的包（若缺省该语句，则指定为无名包）</p></li> <li><p>用处：</p> <ul><li>包帮助管理大型软件系统:将功能相近的类划分到同一个包中。比如：MVC的设计模式</li> <li>包可以包含类和子包，划分项目层次，便于管理</li> <li>解决类命名冲突的问题</li> <li>控制访问权限</li></ul></li> <li><p>JDK中主要的包：</p> <ul><li><code>java.lang</code>----包含一些Java语言的核心类，如String、Math、Integer、 System和Thread，提供常用功能</li> <li><code>java.util</code>----包含一些实用工具类，如定义系统特性、接口的集合框架类、使用与日期日历相关的函数。</li> <li><code>java.io</code> ----包含能提供多种输入/输出功能的类。</li> <li><code>java.net</code>----包含执行与网络相关的操作的类和接口。</li> <li><code>java.text</code>----包含了一些java格式化相关的类</li> <li><code>java.sql</code>----包含了java进行JDBC数据库编程的相关类/接口</li></ul></li> <li><p>生成与包名对应目录(目录中可以是绝对地址、相对地址、“.”可以表示当前目录)，运行时要加上包名</p> <div class="language-java extra-class"><pre class="language-java"><code>javac <span class="token operator">-</span>d <span class="token punctuation">[</span>目录<span class="token punctuation">]</span> <span class="token class-name">Hello</span><span class="token punctuation">.</span>java
cd 目录
java cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>chapter01<span class="token punctuation">.</span><span class="token class-name">Hello</span>
</code></pre></div></li></ul> <hr> <ul><li>为使用定义在不同包中的Java类，需用import语句来引入指定包层次下所需要的类或全部类(.*)。import语句告诉编译器到哪里去寻找类。import一般出现在package后，类定义之前</li> <li>注意：
<ul><li>在源文件中使用import显式的导入指定包下的类或接口</li> <li>声明在包的声明和类的声明之间。</li> <li>如果需要导入多个类或接口，那么就并列显式多个import语句即可</li> <li>如果在代码中使用不同包下的同名的类。那么就需要使用类的全类名的方式指明调用的是哪个类。</li> <li><strong>已经导入java.lang包下的类。那么如果需要使用其子包下的类的话，仍然需要导入</strong></li> <li><strong>import static组合</strong>的使用：调用指定类或接口下的静态的<strong>属性或方法</strong></li></ul></li></ul> <hr> <ul><li><p>Java Archive File，Java档案文件，是一种压缩文件，独立于任何操作系统。操作步骤如下：</p> <ol><li><p><strong>编译生成</strong>与包名对应目录的<strong>class文件</strong></p> <div class="language- extra-class"><pre class="language-text"><code>java -d . Hello.java
</code></pre></div></li> <li><p>利用<strong>jar命令</strong>将cn及其目录下的文件都<strong>压缩成jar包</strong></p> <div class="language- extra-class"><pre class="language-text"><code>jar -cvf Hello.jar cn
</code></pre></div></li> <li><p>由于目前jar包中没有<strong>主清单属性</strong>，修改jar包<code>META-INF</code>中<code>MANIFEST.MF</code>文件，<strong>指定main方法所在类</strong></p> <div class="language- extra-class"><pre class="language-text"><code>Main-Class: cn.itcast.chapter01.Hello	//注意“:”后有空格
</code></pre></div></li> <li><p><strong>运行jar包</strong></p> <div class="language- extra-class"><pre class="language-text"><code>java -jar Hello.jar
</code></pre></div></li> <li><p><strong>解压jar包</strong></p> <div class="language- extra-class"><pre class="language-text"><code>jar -xvf Hello.jar
</code></pre></div></li></ol></li></ul> <h3 id="权限修饰符"><a href="#权限修饰符" class="header-anchor">#</a> 权限修饰符</h3> <p><strong>权限修饰符（访问控制）</strong></p> <ul><li><p><strong>private（类访问级别）</strong>：被修饰的类成员只能被<strong>该类其他成员</strong>访问</p></li> <li><p><strong>default（包访问级别）</strong>：<strong>类或类成员</strong>没有修饰符为默认访问级别，只能被<strong>本包中其他类</strong>访问</p></li> <li><p><strong>protected（子类访问级别）</strong>：被修饰的类成员能被<strong>本包中其他类</strong>、<strong>不同包中该类子类</strong>访问</p></li> <li><p><strong>public（公共访问级别）</strong>：<strong>类或类成员</strong>能被所有都能访问</p> <p><strong>外部类即class的修饰符只能是 public 或默认</strong>；</p> <p><strong>类的成员（属性、方法、构造器、内部类）的权限修饰符可以是以上四种</strong></p> <p>一个Java文件中可以有多个类，但是public修饰的只能有一个，且类名和文件名一致！</p></li></ul> <p><strong>访问控制级别</strong></p> <table><thead><tr><th style="text-align:center;">访问范围</th> <th style="text-align:center;">private</th> <th style="text-align:center;">default</th> <th style="text-align:center;">protected</th> <th style="text-align:center;">public</th></tr></thead> <tbody><tr><td style="text-align:center;">同一类</td> <td style="text-align:center;">√</td> <td style="text-align:center;">√</td> <td style="text-align:center;">√</td> <td style="text-align:center;">√</td></tr> <tr><td style="text-align:center;">同一包</td> <td style="text-align:center;"></td> <td style="text-align:center;">√</td> <td style="text-align:center;">√</td> <td style="text-align:center;">√</td></tr> <tr><td style="text-align:center;">不同包的子类</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;">√</td> <td style="text-align:center;">√</td></tr> <tr><td style="text-align:center;">同一工程</td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;">√</td></tr></tbody></table> <h2 id="对象实例化过程-属性赋值顺序"><a href="#对象实例化过程-属性赋值顺序" class="header-anchor">#</a> 对象实例化过程&amp;属性赋值顺序</h2> <ol><li><p>JVM加载<code>main()</code>所属的类的<code>.class</code>文件，<strong>若有基类则先加载基类</strong>（总是在使用时加载其<code>.class</code>文件）</p> <p>执行<strong>根基类</strong>对应<code>.class</code>中<strong>static默认初始化</strong>（<u>静态成员变量显示初始化和静态代码块初始化，按其定义顺序执行</u>)，然后是下一个派生类的static初始化，以此类推。（类<strong>第一次</strong>被加载或创建对象或访问静态数据成员时）注：虽然加载了父类，但是并没创建对象！</p></li> <li><p>在用构造器<strong>创建对象</strong>时，在<strong>堆中为对象分配空间</strong>，执行构造器初始化</p> <ol><li>先根据隐藏的第一行**<code>super()</code><strong>来到</strong>根基类**的无参构造器</li> <li>执行根基类的<strong>非静态成员变量的默认初始化，显式初始化</strong>和<strong>构造代码块的初始化</strong>（<u>后俩按其定义顺序执行</u>）</li> <li>然后执行根基类<strong>构造器定义的初始化</strong></li> <li>然后执行下一个派生类的<code>super()</code>后的以上操作</li></ol></li> <li><p>初始化完毕后，将地址<strong>赋值</strong>给引用变量。</p></li></ol> <p>【注意】方法重写</p> <p>对属性可以赋值的位置：</p> <ul><li><p>①默认初始化</p></li> <li><p>②显式初始化/⑤在代码块中赋值</p></li> <li><p>③构造器中初始化</p></li> <li><p>④有了对象以后，可以通过&quot;对象.属性&quot;或&quot;对象.方法&quot;的方式，进行赋值</p> <p>执行的先后顺序：① - ② / ⑤ - ③ - ④</p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Order</span> order <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>order<span class="token punctuation">.</span>orderId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Order</span><span class="token punctuation">{</span>
    <span class="token punctuation">{</span>
        orderId <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> orderId <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <p>习题1：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;1 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;2 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;3 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;4 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;5 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;6 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;7 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;8 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;9 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;10 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//也可以放在其他类中</span>
        <span class="token class-name">Son</span> son1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//5 1 10 6 9 3 2 9 8 7 </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Son</span> son2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//9 3 2 9 8 7 </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>习题2：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//总结：由父及子，静态先行</span>
<span class="token keyword">class</span> <span class="token class-name">Root</span><span class="token punctuation">{</span>
    <span class="token keyword">static</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Root的静态初始化块&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Root的普通初始化块&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Root</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Root的无参数的构造器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Mid</span> <span class="token keyword">extends</span> <span class="token class-name">Root</span><span class="token punctuation">{</span>
    <span class="token keyword">static</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Mid的静态初始化块&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Mid的普通初始化块&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Mid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Mid的无参数的构造器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Mid</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//通过this调用同一类中重载的构造器</span>
        <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Mid的带参数构造器，其参数值：&quot;</span>
                           <span class="token operator">+</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Leaf</span> <span class="token keyword">extends</span> <span class="token class-name">Mid</span><span class="token punctuation">{</span>
    <span class="token keyword">static</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Leaf的静态初始化块&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Leaf的普通初始化块&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>	
    <span class="token keyword">public</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//通过super调用父类中有一个字符串参数的构造器</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">&quot;尚硅谷&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Leaf的构造器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LeafTest</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Leaf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/*
    Root的静态初始化块
    Mid的静态初始化块
    Leaf的静态初始化块
    Root的普通初始化块
    Root的无参数的构造器
    Mid的普通初始化块
    Mid的无参数的构造器
    Mid的带参数构造器，其参数值：尚硅谷
    Leaf的普通初始化块
    Leaf的构造器

    Root的普通初始化块
    Root的无参数的构造器
    Mid的普通初始化块
    Mid的无参数的构造器
    Mid的带参数构造器，其参数值：尚硅谷
    Leaf的普通初始
    */</span>
<span class="token punctuation">}</span>
</code></pre></div><p>习题3：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;11111111111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;22222222222&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;33333333333&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Father</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;44444444444&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;55555555555&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;66666666666&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 由父及子 静态先行</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;77777777777&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;************************&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;************************&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;************************&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
11111111111
44444444444
77777777777
************************
22222222222
33333333333
55555555555
66666666666
************************
22222222222
33333333333
55555555555
66666666666
************************
22222222222
33333333333
*/</span>
</code></pre></div><p><img src="/assets/img/page38image59470016.0d63de05.jpg" alt="page38image59470016.jpg"></p> <ul><li><p>为什么super(...)和this(...)调用语句不能同时在一个构造器中出现？</p> <p>因为两个都要出现在首行！所以只能存在一个</p></li> <li><p>为什么super(...)或this(...)调用语句只能作为构造器中的第一句出现？</p> <p>无论通过哪个构造器创建子类对象，需要保证先初始化父类。目的在于当子类继承父类后，会继承父类中所有属性和方法，因此子类有必要知道父类如何为对象初始化！</p></li></ul> <h2 id="习题"><a href="#习题" class="header-anchor">#</a> 习题</h2> <h3 id="值传递习题1"><a href="#值传递习题1" class="header-anchor">#</a> 值传递习题1</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TransferTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">TransferTest</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransferTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    test<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token class-name">Value</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    v<span class="token punctuation">.</span>i <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>
    <span class="token function">second</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 20</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">second</span><span class="token punctuation">(</span><span class="token class-name">Value</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    v<span class="token punctuation">.</span>i <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    <span class="token class-name">Value</span> val <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    v <span class="token operator">=</span> val<span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>i <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 15,0</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Value</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="非值传递习题"><a href="#非值传递习题" class="header-anchor">#</a> 非值传递习题</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token function">method</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 需要在method方法被调用后，仅打印出a=100，b=200，完成method的编码</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;a=&quot;</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;b=&quot;</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 方法编写处</span>
  <span class="token comment">// 方法1。直接输出并exit</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;a=&quot;</span> <span class="token operator">+</span> a<span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;b=&quot;</span> <span class="token operator">+</span> b<span class="token operator">*</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 方法2，重写打印流</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">PrintStream</span> printStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintStream</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;a=10&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          s <span class="token operator">=</span> <span class="token string">&quot;a=100&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;b=10&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          s <span class="token operator">=</span> <span class="token string">&quot;b=200&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">setOut</span><span class="token punctuation">(</span>printStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="递归简单练习"><a href="#递归简单练习" class="header-anchor">#</a> 递归简单练习</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">+</span> <span class="token function">sum</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

<span class="token comment">// 计算1-n之间所有自然数的乘积:n!</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getSum1</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">getSum1</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 已知有一个数列:f(0) = 1,f(1) = 4, f(n+2)=2*f(n+1) + f(n),其中n是大于0的整数，求f(10)的值。</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span><span class="token operator">*</span><span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 已知一个数列:f(20) = 1,f(21) = 4,f(n+2) = 2*f(n+1)+f(n),其中n是大于0的整数，求f(10)的值。</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">m1</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token operator">==</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">==</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">m1</span><span class="token punctuation">(</span>num<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">*</span><span class="token function">m1</span><span class="token punctuation">(</span>num<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="递归练习"><a href="#递归练习" class="header-anchor">#</a> 递归练习</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 递归调用的次数？若k为10，则？</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">recursion</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  count<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;count:&quot;</span><span class="token operator">+</span>count<span class="token operator">+</span><span class="token string">&quot; k:&quot;</span><span class="token operator">+</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>k<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">recursion</span><span class="token punctuation">(</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">recursion</span><span class="token punctuation">(</span>k<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="斐波那契数列"><a href="#斐波那契数列" class="header-anchor">#</a> 斐波那契数列</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 输入一个数据n，计算斐波那契数列(Fibonacci)的第n个值 1 1 2 3 5 8 13 21 34 55</span>

</code></pre></div><h3 id="汉诺塔"><a href="#汉诺塔" class="header-anchor">#</a> 汉诺塔</h3> <p>递归</p> <h3 id="快排"><a href="#快排" class="header-anchor">#</a> 快排</h3> <p>递归</p> <h3 id="多态练习1"><a href="#多态练习1" class="header-anchor">#</a> 多态练习1</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FieldMethodTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Sub</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sub</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//20</span>
    s<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//20</span>

    <span class="token class-name">Base</span> b <span class="token operator">=</span> s<span class="token punctuation">;</span><span class="token comment">//多态性</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b <span class="token operator">==</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//10</span>
    b<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//20</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Sub</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="多态练习—可变参数重写"><a href="#多态练习—可变参数重写" class="header-anchor">#</a> 多态练习—可变参数重写</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InterviewTest1</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Base1</span> base <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sub1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    base<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 此处父类引用调用方法，此方法被重写了，所以结果为sub_1</span>

    <span class="token class-name">Sub1</span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Sub1</span><span class="token punctuation">)</span> base<span class="token punctuation">;</span>
    s<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 此处子类引用调用方法，直接调用确定的方法，所以结果为sub_2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Base1</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;base1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Sub1</span> <span class="token keyword">extends</span> <span class="token class-name">Base1</span> <span class="token punctuation">{</span>

  <span class="token comment">// @Override //就是重写了</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;sub_1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 不是这个方法重写父类！！！</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;sub_2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="如何证明多态是运行时绑定的？"><a href="#如何证明多态是运行时绑定的？" class="header-anchor">#</a> 如何证明多态是运行时绑定的？</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span>  <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;animal eat food&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span>  <span class="token keyword">extends</span> <span class="token class-name">Animal</span>  <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;cat eat fish&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span>  <span class="token keyword">extends</span> <span class="token class-name">Animal</span>  <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Dog eat bone&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Sheep</span>  <span class="token keyword">extends</span> <span class="token class-name">Animal</span>  <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Sheep eat grass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InterviewTest</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Animal</span>  <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">default</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Sheep</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> key <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Animal</span>  animal <span class="token operator">=</span> <span class="token function">getInstance</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    animal<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="接口、抽象类问题1"><a href="#接口、抽象类问题1" class="header-anchor">#</a> 接口、抽象类问题1</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span> 
    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token keyword">extends</span> <span class="token class-name">B</span> <span class="token keyword">implements</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 编译不通过，因为x不明确。可以写super.x 和 A.x来调用类中和接口中的x</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// </span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div><h3 id="接口、抽象类问题2"><a href="#接口、抽象类问题2" class="header-anchor">#</a> 接口、抽象类问题2</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">Playable</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Bounceable</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Rollable</span> <span class="token keyword">extends</span> <span class="token class-name">Playable</span><span class="token punctuation">,</span><span class="token class-name">Bounceable</span> <span class="token punctuation">{</span>
    <span class="token class-name">Ball</span> ball <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ball</span><span class="token punctuation">(</span><span class="token string">&quot;PingPang&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Ball</span> <span class="token keyword">implements</span> <span class="token class-name">Rollable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">Ball</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 接口中已定义了该常量，且默认为public static final，此处重新赋值则编译报错</span>
        ball <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ball</span><span class="token punctuation">(</span><span class="token string">&quot;Football&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ball<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div><h3 id="接口和抽象类的对比"><a href="#接口和抽象类的对比" class="header-anchor">#</a> 接口和抽象类的对比</h3> <table><thead><tr><th>No.</th> <th>区别点</th> <th>抽象类</th> <th>接口</th></tr></thead> <tbody><tr><td>1</td> <td>定义</td> <td>包含抽象方法的类</td> <td>主要是抽象方法和全局常量的集合 `</td></tr> <tr><td>2</td> <td>组成</td> <td>构造方法、抽象方法、普通方法、 常量、变量</td> <td>常量、抽象方法、(jdk8.0:默认方法、静态方法)</td></tr> <tr><td>3</td> <td>使用</td> <td>子类继承抽象类(extends)</td> <td>子类实现接口(implements)</td></tr> <tr><td>4</td> <td>关系</td> <td>抽象类可以实现多个接口</td> <td>接口不能继承抽象类，但允许继承多个接口</td></tr> <tr><td>5</td> <td>常见设计模式</td> <td>模板方法</td> <td>简单工厂、工厂方法、代理模式</td></tr> <tr><td>6</td> <td>对象</td> <td>都通过对象的多态性产生实例化对象</td> <td></td></tr> <tr><td>7</td> <td>局限</td> <td>抽象类有单继承的局限</td> <td>接口没有此局限</td></tr> <tr><td>8</td> <td>实际</td> <td>作为一个模板</td> <td>是作为一个标准或是表示一种能力</td></tr> <tr><td>9</td> <td>选择</td> <td>如果抽象类和接口都可以使用的话，优先使用接口，因为避免单继承的局限</td> <td></td></tr></tbody></table> <h3 id="定义一个类的时候，权限修饰符规则"><a href="#定义一个类的时候，权限修饰符规则" class="header-anchor">#</a> 定义一个类的时候，权限修饰符规则</h3> <ul><li><p>外部类：public / (default)</p></li> <li><p>成员内部类：public / protected / (default) / private</p></li> <li><p><strong>局部内部类</strong>：什么都不能写</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//匿名对象，匿名内部类</span>
            <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello</span>
        <span class="token comment">//若是给对象起名，并用该名调用show方法，则编译不通过，因为父类中没有此方法，当前所属方法才能使用它</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">11/10/2019, 1:13:27 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Java/Core/1 Basic Syntax.html" class="prev">1 Basic Syntax</a></span> <span class="next"><a href="/Java/Core/3 Error &amp; Exception.html">3 Error &amp; Exception</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.11b86352.js" defer></script><script src="/assets/js/2.dc2cb52a.js" defer></script><script src="/assets/js/3.4d99fa19.js" defer></script>
  </body>
</html>
