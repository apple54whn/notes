<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>4 API | Conanan&#39;s Notes</title>
    <meta name="description" content="Good Good Study, Day Day Up!">
    
    
    <link rel="preload" href="/assets/css/0.styles.5d7a53ce.css" as="style"><link rel="preload" href="/assets/js/app.11b86352.js" as="script"><link rel="preload" href="/assets/js/2.dc2cb52a.js" as="script"><link rel="preload" href="/assets/js/9.1d245c90.js" as="script"><link rel="prefetch" href="/assets/js/10.7ed53a9f.js"><link rel="prefetch" href="/assets/js/11.85d70dc7.js"><link rel="prefetch" href="/assets/js/12.6ca0a4c7.js"><link rel="prefetch" href="/assets/js/13.b66f44be.js"><link rel="prefetch" href="/assets/js/14.f7d36314.js"><link rel="prefetch" href="/assets/js/15.c9169b45.js"><link rel="prefetch" href="/assets/js/16.b3affa03.js"><link rel="prefetch" href="/assets/js/17.24a97ffb.js"><link rel="prefetch" href="/assets/js/18.f19a0f23.js"><link rel="prefetch" href="/assets/js/19.ccd87043.js"><link rel="prefetch" href="/assets/js/20.81aafd3b.js"><link rel="prefetch" href="/assets/js/21.0ca18de8.js"><link rel="prefetch" href="/assets/js/22.2ce051e4.js"><link rel="prefetch" href="/assets/js/23.e2addba7.js"><link rel="prefetch" href="/assets/js/24.10dbecb4.js"><link rel="prefetch" href="/assets/js/25.8641a27b.js"><link rel="prefetch" href="/assets/js/26.e5fad68f.js"><link rel="prefetch" href="/assets/js/27.07d175e0.js"><link rel="prefetch" href="/assets/js/3.4d99fa19.js"><link rel="prefetch" href="/assets/js/4.4809e9ae.js"><link rel="prefetch" href="/assets/js/5.9f00f578.js"><link rel="prefetch" href="/assets/js/6.3ac5cf54.js"><link rel="prefetch" href="/assets/js/7.d18e475f.js"><link rel="prefetch" href="/assets/js/8.73262d74.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5d7a53ce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Conanan's Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Study" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/Core/1 Basic Syntax.html" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/Java/Framwork/1 Spring.html" class="nav-link">Framwork</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages2" class="dropdown-title"><span class="title">Languages2</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Group1</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li><li class="dropdown-item"><h4>Group2</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Study" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/Core/1 Basic Syntax.html" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/Java/Framwork/1 Spring.html" class="nav-link">Framwork</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages2" class="dropdown-title"><span class="title">Languages2</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Group1</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li><li class="dropdown-item"><h4>Group2</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Core</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Java/Core/0 Basic.html" class="sidebar-link">0 Basic</a></li><li><a href="/Java/Core/1 Basic Syntax.html" class="sidebar-link">1 Basic Syntax</a></li><li><a href="/Java/Core/2 Object Orientation.html" class="sidebar-link">2 Object Orientation</a></li><li><a href="/Java/Core/3 Error &amp; Exception.html" class="sidebar-link">3 Error &amp; Exception</a></li><li><a href="/Java/Core/4 API.html" class="active sidebar-link">4 API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Core/4 API.html#字符串相关类" class="sidebar-link">字符串相关类</a></li><li class="sidebar-sub-header"><a href="/Java/Core/4 API.html#日期时间类（java8）" class="sidebar-link">日期时间类（Java8）</a></li><li class="sidebar-sub-header"><a href="/Java/Core/4 API.html#日期时间类（旧）" class="sidebar-link">日期时间类（旧）</a></li><li class="sidebar-sub-header"><a href="/Java/Core/4 API.html#比较器类" class="sidebar-link">比较器类</a></li><li class="sidebar-sub-header"><a href="/Java/Core/4 API.html#精确数据类型" class="sidebar-link">精确数据类型</a></li><li class="sidebar-sub-header"><a href="/Java/Core/4 API.html#object（java-lang）" class="sidebar-link">Object（java.lang）</a></li><li class="sidebar-sub-header"><a href="/Java/Core/4 API.html#system（java-lang）-2" class="sidebar-link">System（java.lang）</a></li><li class="sidebar-sub-header"><a href="/Java/Core/4 API.html#math（java-lang）" class="sidebar-link">Math（java.lang）</a></li><li class="sidebar-sub-header"><a href="/Java/Core/4 API.html#random（java-util）" class="sidebar-link">Random（java.util）</a></li><li class="sidebar-sub-header"><a href="/Java/Core/4 API.html#习题" class="sidebar-link">习题</a></li></ul></li><li><a href="/Java/Core/5 Generic.html" class="sidebar-link">5 Generic</a></li><li><a href="/Java/Core/6 Container.html" class="sidebar-link">6 Container</a></li><li><a href="/Java/Core/7 Thread.html" class="sidebar-link">7 Thread</a></li><li><a href="/Java/Core/7 Thread2.html" class="sidebar-link">7 Thread2</a></li><li><a href="/Java/Core/8 IO.html" class="sidebar-link">8 IO</a></li><li><a href="/Java/Core/9 NIO.html" class="sidebar-link">9 NIO（暂时未完成）</a></li><li><a href="/Java/Core/10 AIO.html" class="sidebar-link">10 AIO（暂时未完成）</a></li><li><a href="/Java/Core/11 Network.html" class="sidebar-link">11 Network</a></li><li><a href="/Java/Core/12 Reflect.html" class="sidebar-link">12 Reflect—java.lang.reflect</a></li><li><a href="/Java/Core/13 Lambda.html" class="sidebar-link">13 Lambda</a></li><li><a href="/Java/Core/14 Stream API.html" class="sidebar-link">14 Stream API</a></li><li><a href="/Java/Core/15 Optional.html" class="sidebar-link">15 Optional</a></li><li><a href="/Java/Core/16 Test.html" class="sidebar-link">16 Test</a></li><li><a href="/Java/Core/17 设计原则&amp;设计模式.html" class="sidebar-link">17 设计原则及设计模式</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Code</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_4-api"><a href="#_4-api" class="header-anchor">#</a> 4 API</h1> <p></p><div class="table-of-contents"><ul><li><a href="#_4-api">4 API</a><ul><li><a href="#字符串相关类">字符串相关类</a><ul><li><a href="#string（java-lang）">String（java.lang）</a></li><li><a href="#stringbuilder（java-lang）">StringBuilder（java.lang）</a></li></ul></li><li><a href="#日期时间类（java8）">日期时间类（Java8）</a><ul><li><a href="#instant">Instant</a></li><li><a href="#localdate、localtime、localdatetime">LocalDate、LocalTime、LocalDateTime</a></li><li><a href="#datetimeformatter">DateTimeFormatter</a></li><li><a href="#其它api">其它API</a></li><li><a href="#新旧api转换">新旧API转换</a></li></ul></li><li><a href="#日期时间类（旧）">日期时间类（旧）</a><ul><li><a href="#system（java-lang）">System（java.lang）</a></li><li><a href="#date（java-util）">Date（java.util）</a></li><li><a href="#date（java-sql）">Date（java.sql）</a></li><li><a href="#dateformat（java-text）">DateFormat（java.text）</a></li><li><a href="#calendar（java-util）">Calendar（java.util）</a></li></ul></li><li><a href="#比较器类">比较器类</a><ul><li><a href="#comparable—compareto">Comparable—compareTo</a></li><li><a href="#comparator—compare">Comparator—compare</a></li></ul></li><li><a href="#精确数据类型">精确数据类型</a><ul><li><a href="#biginteger">BigInteger</a></li><li><a href="#bigdecimal">BigDecimal</a></li></ul></li><li><a href="#object（java-lang）">Object（java.lang）</a><ul><li><a href="#objects">Objects</a></li></ul></li><li><a href="#system（java-lang）">System（java.lang）</a></li><li><a href="#math（java-lang）">Math（java.lang）</a></li><li><a href="#random（java-util）">Random（java.util）</a></li><li><a href="#习题">习题</a><ul><li><a href="#包装类型转换">包装类型转换</a></li><li><a href="#string-练习1—值传递">String 练习1—值传递</a></li><li><a href="#string-练习2">String 练习2</a></li><li><a href="#string-练习3">String 练习3</a></li><li><a href="#string-常见算法题">String 常见算法题</a></li><li><a href="#string、stringbuffer、stringbuilder区别及底层">String、StringBuffer、StringBuilder区别及底层</a></li><li><a href="#stringbuilder常见面试题">StringBuilder常见面试题</a></li></ul></li></ul></li></ul></div><p></p> <ul><li>API（Application Programming Interface），应用程序编程接口</li></ul> <h2 id="字符串相关类"><a href="#字符串相关类" class="header-anchor">#</a> 字符串相关类</h2> <h3 id="string（java-lang）"><a href="#string（java-lang）" class="header-anchor">#</a> String（java.lang）</h3> <ul><li><p><code>String</code>效果上相当于<code>char[]</code>（Java 8及之前），但<strong>底层是被<code>final</code>修饰的<code>byte[]</code></strong>（Java 9及之后）。</p> <p>且其实现了<code>Serializable</code>，<code>Comparable</code>，<code>CharSequence</code>接口。<code>String</code><strong>类</strong>及其所有<strong>属性</strong>都被<strong>声明为<code>final</code></strong>，是<strong>常量</strong>，其<strong>值在创建后不能被更改</strong>。</p> <p>由于它的底层结构，具有<strong>不可变性</strong>：</p> <ul><li><p>当对字符串重新赋值时，需要<strong>重写指定内存区域赋值</strong>，不能使用原有的value进行赋值</p></li> <li><p>当执行<code>concat</code>，<code>substring</code>，<code>replace</code>等操作都<strong>需要重新指定内存区域赋值</strong>（与常量池无关）</p></li> <li><p>字符串的<code>+</code>运算，若是<strong>存在变量相加，先开空间再拼接，结果在堆中</strong>；<strong>只有常量则先拼接（类似字面量赋值），然后在常量池中找</strong>，有就返回，没有就创建并放入常量池。如果拼接的结果调用<code>intern()</code>方法，<strong>返回值就在常量池中</strong>。字符串常量池中不会存储相同内容的字符串。</p></li> <li><p>加<code>final</code>修饰的也是常量！</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> charArray <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'h'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>charArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str4 <span class="token operator">=</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str5 <span class="token operator">=</span> <span class="token string">&quot;helloworld&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1 <span class="token operator">==</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1 <span class="token operator">==</span> str3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false，同理str2!=str3</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str5 <span class="token operator">==</span> str1 <span class="token operator">+</span> str4<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str5 <span class="token operator">==</span> <span class="token string">&quot;hello&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str5 <span class="token operator">==</span> str1 <span class="token operator">+</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str5 <span class="token operator">==</span> <span class="token punctuation">(</span>str1 <span class="token operator">+</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str3<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>

<span class="token comment">// 注意final</span>
<span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;helloworld&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s3 <span class="token operator">=</span> s2 <span class="token operator">+</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// false</span>

<span class="token class-name">String</span> s11 <span class="token operator">=</span> <span class="token string">&quot;helloworld&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token class-name">String</span> s22 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s33 <span class="token operator">=</span> s22 <span class="token operator">+</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s11<span class="token operator">==</span> s33<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
</code></pre></div></li></ul></li> <li><p>通过<strong>字面量直接赋值</strong>的定义字符串的会<strong>放入（Java8）方法区（具体实现为元空间）的字符串常量池</strong>中；但是**<code>new String</code>方式定义的不会放入**。</p></li></ul> <p><img src="/assets/img/String-cache.7a88603e.png" alt=""></p> <ul><li><p>特别的，注意<strong>对象中的String属性</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Person</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;hh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;hh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>name <span class="token operator">==</span> t2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true，值在常量池中！</span>
</code></pre></div></li></ul> <ul><li><p>构造方法</p> <ul><li><p><code>String()</code>：初始化一个新创建的 String 对象，使其表示一个空字符序列</p></li> <li><p><code>String(String original)</code>：初始化一个新创建的 String 对象</p></li> <li><p><code>String(char/byte[] value [, int offset ,int count])</code>：分配一个新的 String，它包含取自字符数组参数全部（或一个子数组）的字符</p></li> <li><p><code>String(byte[] bytes[, int offset, int length][, String charsetName])</code>：通过使用指定的<strong>字符集解码</strong>指定的 byte （或子）数组，构造一个新的 String</p></li> <li><p><code>String s = &quot;hello&quot;</code>：直接创建新的 String</p> <p><strong>字面值</strong>作为<strong>字符串对象</strong>（新创建的字符串是该参数字符串的副本）和通过<strong>构造方法</strong>创建对象的不同</p> <p><code>String s = new String(&quot;hello&quot;)</code>和<code>String s = &quot;hello&quot;</code>前者最多创建两对象，后者最多创建一个对象</p></li> <li><p>……</p></li></ul></li> <li><p>String常用方法（<strong>不改变原String值</strong>）</p> <ul><li><p><strong>判断功能</strong></p> <ul><li><p><code>boolean isEmpty()</code>						          字符串长度是否为0</p></li> <li><p><code>boolean contains(CharSequence cs)</code>                       字符串中是否包含指定字符序列</p></li> <li><p><code>boolean equals(Object anObject)</code>          字符串与指定字符串是否相等(<strong>内容</strong>)，推荐<strong>常量放前面</strong></p> <p><code>boolean equalsIgnoreCase(String str)</code>                 字符串与指定字符串是否相等，忽略大小写</p></li> <li><p><code>boolean startsWith(String prefix[,int toffset])</code> 从指定索引开始的子串是否以prefix开始</p> <p><code>boolean endsWith(String suffix)</code>                             字符串是否以suffix后缀结尾</p></li> <li><p><code>boolean matches(String regex)</code>       判断此字符串是否匹配给定的正则表达式</p></li></ul></li> <li><p><strong>获取功能</strong></p> <ul><li><p><code>int length()</code>：返回字符串长度</p></li> <li><p><code>String concat(String str)</code>                                        将字符串<strong>拼接，本字符串不变</strong>，常用<code>+</code></p></li> <li><p><code>char charAt(int index)</code>                                              返回指定索引的字符</p></li> <li><p><code>int indexOf/lastIndexOf(int ch/String str)</code>   获取指定字符/字符串第一次/最后一次出现的索引</p></li> <li><p><code>int indexOf/lastIndexOf(int ch/String str,int fromIndex)</code>   获取指定~从**[某索引开始<strong>第一次出现的索引/最后一次出现的索引（从指定的索引开始</strong>反向搜索**，但返回值还是正向数数）</p> <p><code>ch</code>是<code>int</code>类型原因：<code>'a'</code>和<code>97</code>都能代表<code>'a'</code></p> <div class="language-JAVA extra-class"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;qqqqqaq&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//大于等于5都能搜到，值为5；小于则返回值为-1</span>
</code></pre></div></li> <li><p><code>String substring(int startIndex[,int endIndex])</code> 获取<code>[start,end)</code>子串，没end到结尾</p></li></ul></li> <li><p><strong>替换</strong></p> <ul><li><p><code>String replace(CharSequence/char target, CharSequence/char replacement)</code>将<strong>所有</strong>target 字符或字符串替换为新的 replacement 字符串。CharSequence是接口，String实现了它。用于敏感词汇过滤</p></li> <li><p><code>String replaceAll(String regex, String replacement)</code>使用给定的 replacement 替换此字符串所有<strong>匹配给定的正则表达式的子字符串</strong></p></li> <li><p><code>String replaceFirst(String regex, String replacement)</code>使用给定的 replacement 替换此字符串<strong>匹配给定的正则表达式的第一个子字符串</strong></p></li></ul></li></ul></li> <li><p><strong>转换功能</strong></p> <ul><li><p><code>String static valueOf(int i/char[] chs)</code> <strong>静态方法</strong>将int型和<strong>字符数组型</strong>数据转为字符串</p></li> <li><p><code>String toLowerCase() /toUpperCase()</code>                     将所有字符都转换为小写/大写，本身不变</p></li> <li><p><code>byte[] getBytes([Charset c/String c])</code>  将字符串<strong>转换为字节数组</strong>；相反则直接构造器传入</p></li> <li><p><code>char[] toCharArray()</code>                                  将字符串<strong>转换为字符数组</strong>；相反则直接构造器传入</p></li></ul></li> <li><p><strong>其他功能</strong></p> <ul><li><p><strong>去空格</strong>（去掉字符串<strong>首尾</strong>空格）</p> <p><code>String trim()</code></p></li> <li><p><strong>按字典比较</strong>（按字典顺序比较，在str前返回负数，在str后返回正数，相等则返回0）</p> <p><code>int compareTo(String str)/compareIgnoreCase(String str)</code></p></li> <li><p><strong>切片</strong>：根据给定<strong>正则表达式regex</strong>的匹配切片，返回字符串数组，<strong>不包括regex字符串</strong>。<strong>最多不超过limit个</strong>，如果超过了，剩下的全部都放到最后一个元素中。若要用英文句点<code>.</code>切分，必须写<code>\\.</code>（两个反斜杠）</p> <p><code>String[] split(String regex [,int limit])</code></p></li> <li><p>若常量池中包括了一个等于此String对象的字符串（由equals确定），则返回池中字符串；否则将此字符串添加到池中，并返回其引用</p> <p><code>inter()</code></p></li> <li><p><strong>String 与 基本类型或包装类型之间转换</strong>（见<a href="#baozhuanglei">基本语法中包装类</a>）</p></li></ul></li></ul> <ul><li><p>练习题</p> <ul><li><p>字符串遍历 <code>char charAt(int index)</code>或<code>char[] toCharArray()</code></p></li> <li><p>统计大串中小串出现的次数 <code>int indexOf(String str,int fromIndex)</code>或<code>substring</code></p></li> <li><p>把字符串的首字母转成大写，其他小写 <code>String substring(int start,int end)</code></p></li> <li><p>把一个小数转换为保留两位小数的字符串，不考虑四舍五入：加空串转为字符串，再用split即可</p> <ul><li>若考虑四舍五入，则可以将保留的数转为整数，再根据后一位值对整数进行加1与否</li></ul></li> <li><p>字符串必须只有字母和数字，如下是不是这种情况的：</p> <p><code>(ch&lt;='0'||ch&gt;='9') &amp;&amp; (ch&lt;='A'||ch&gt;='Z') &amp;&amp; (ch&lt;='a'||ch&gt;='z')</code></p></li></ul></li></ul> <h3 id="stringbuilder（java-lang）"><a href="#stringbuilder（java-lang）" class="header-anchor">#</a> StringBuilder（java.lang）</h3> <blockquote><p>StringBuffer比StringBuilder每个方法都多synchronized</p></blockquote> <ul><li><p><code>StringBuilder</code>(字符串缓冲区)，又称为<strong>可变字符序列</strong>，表示<strong>字符容器</strong>，其<strong>内容和长度可变</strong>，不同步，线程不安全。没有<code>override</code>Object类的<code>equals()</code>方法，不能像String类对象可以用操作符+进行连接。</p></li> <li><p><strong>底层分析</strong>：</p> <ul><li><p>它的<strong>底层</strong>是一个**<code>char[]</code>**（<strong>Java 9后为<code>byte[]</code></strong>），用来存放字符串内容</p></li> <li><p>调用构造方法（默认长度为<code>s.length()+16</code>）或添加字符串时都会调用<code>append()</code>，并更新<code>count</code>即StringBuilder的长度，可通过<code>length()</code>获取</p> <p>它还有个属性<code>capacity</code>代表StringBuilder的容量，即底层数组的<code>length</code>，可通过<code>capacity()</code>获取</p></li> <li><p>若添加的数据导致底层数据存不下了（大于），需扩容底层数组：</p> <ul><li><p>先通过<code>count+s.length()</code>减去底层数组的<code>length</code>即StringBuilder的<code>capacity()</code> ，若大于0则扩容</p></li> <li><p>调用<code>Arrays.copyOf(char[] original,int newLength)</code>将原数组拷贝到新数组，底层为<code>System.arraycopy</code>，其中<code>newLength</code>为底层数组原有<code>capacity</code><strong>左移一位（即乘2）并加2</strong></p> <p>若左移一次后还不够，则直接用<code>count+s.length()</code>；甚至左移后超出范围变负值（之后再总结）</p></li></ul></li></ul></li> <li><p>构造方法：</p> <ul><li><code>StringBuilder();</code>构造一个空的StringBuilder容器。</li> <li><code>StringBuilder(String str)</code>：构造一个StringBuilder容器，并将字符串添加进去。</li> <li><code>StringBuilder(int capacity)</code>：构造一个StringBuilder容器，并设置初始<code>capacity</code>。<strong>推荐</strong>使用。</li></ul></li> <li><p>StringBuilder常用方法（<strong>在原StringBuilder对象中改变并返回本身</strong>，原对象也改变）</p> <ul><li><strong>增</strong> <ul><li><code>StringBuilder append(Object o)</code>   添加<strong>任意类型数据</strong>的<strong>字符串形式</strong>到末尾，并<strong>返回当前对象</strong>自身</li> <li><code>StringBuilder append(CharSequence c,int start,int end)</code>：插入其中[start,end)部分</li> <li><code>StringBuilder insert(int offset,Object o)</code>  在字符串的<strong>offset位置</strong>插入<strong>任意对象</strong>，其余后移</li></ul></li> <li><strong>删</strong> <ul><li><code>StringBuilder delete(int start,int end)</code>                       删除从**[start到end)**的字符串</li> <li><code>StringBuilder deleteCharAt(int index)</code>                           删除指定位置字符</li></ul></li> <li><strong>改</strong> <ul><li><code>StringBuilder replace(int start,int end,String s)</code> 从**[start到end)**的对象替换为指定字符串</li> <li><code>void setCharAt(int index,char ch)</code> <strong>替换指定位置的字符</strong></li></ul></li> <li><strong>查</strong> <ul><li><code>char charAt(int n)</code>				 	                          返回指定索引处的字符</li> <li><code>int indexOf(String str)</code>  				 	                 返回指定字符串所在索引</li></ul></li> <li><strong>反转</strong> <ul><li><code>StringBuilder reverse()</code>                                                       反转</li></ul></li> <li><strong>截取（返回值类型不再是StringBuilder本身，原有对象不改变）</strong> <ul><li><code>String substring(int start,int end)</code>                             截取子串，没有end参数时截取到尾部</li></ul></li> <li><strong>其他</strong> <ul><li><code>int length()</code>                                                        返回StringBuilder的长度（不是capacity）</li> <li><code>void setLength(int newLength)</code>                                          设置StringBuilder长度</li> <li><code>int capacity()</code>                                                      返回StringBuilder的容量</li> <li><code>public String toString()</code>                          将当前StringBuilder对象<strong>转换为String对象</strong></li></ul></li></ul></li> <li><p><strong>String和StringBuilder转换</strong></p> <ol><li><p><strong>String ---&gt; StringBuilder</strong>			通过构造函数传入或构造好之后append()</p></li> <li><p><strong>StringBuilder ---&gt; String</strong>                     调用<code>toString()</code>或String类的<code>valueOf()</code>静态方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> str1 <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol></li> <li><p><strong>【面试】</strong></p> <ul><li><p><strong>String、StringBuffer、StringBuilder区别</strong></p> <ul><li><strong>String内容、长度不可变，后两个可变</strong>。String拼接时，总是会在内存中创建一个新对象，影响性能</li> <li><strong>StringBuffer是同步的，数据安全，效率低；StringBuilder（5.0新增）是不同步的，数据不安全，效率高</strong></li> <li>底层都是<code>char[]</code>（java8中）；后两个初始创建<strong>长度为<code>s.length()+16</code>的数组</strong>，</li></ul></li> <li><p><strong>StringBuilder和数组的区别</strong></p> <p>二者都可以看做装其他数据的容器，但是StringBuilder的数据最终是一个字符串数据，而数组可以存放多种类型的数据，但必须是同一种数据类型的</p></li> <li><p><strong>参数传递问题</strong></p> <ul><li><p>注意：（以下画图即可理解，如下图）</p> <p><strong>包装类、String作为引用数据类型，是常量，具有不可变性。</strong></p> <p><strong>StringBuffer、StringBuilder在赋值时不改变内容，调用方法时改变</strong></p> <p><strong>【重点】在于String内容不可变并且变量相加需要开空间再拼接，StringBuilder等内容可以变</strong></p></li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code>  <span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
  <span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token operator">+</span><span class="token string">&quot;---&quot;</span><span class="token operator">+</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello---world</span>
  <span class="token function">change</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token operator">+</span><span class="token string">&quot;---&quot;</span><span class="token operator">+</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello---world</span>
  
  <span class="token class-name">StringBuffer</span> sb1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">StringBuffer</span> sb2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb1<span class="token operator">+</span><span class="token string">&quot;---&quot;</span><span class="token operator">+</span>sb2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello---world</span>
  <span class="token function">change</span><span class="token punctuation">(</span>sb1<span class="token punctuation">,</span>sb2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb1<span class="token operator">+</span><span class="token string">&quot;---&quot;</span><span class="token operator">+</span>sb2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello---worldworld</span>
  
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token class-name">String</span> s1<span class="token punctuation">,</span> <span class="token class-name">String</span> s2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	s1 <span class="token operator">=</span> s2<span class="token punctuation">;</span>
  	s2 <span class="token operator">=</span> s1<span class="token operator">+</span>s2<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token class-name">StringBuffer</span> sb1<span class="token punctuation">,</span> <span class="token class-name">StringBuffer</span> sb2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	sb1 <span class="token operator">=</span> sb2<span class="token punctuation">;</span>
  	sb2 <span class="token operator">=</span> sb1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>sb2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p><img src="/assets/img/params.4d1e2d02.png" alt=""></p></li></ul> <h2 id="日期时间类（java8）"><a href="#日期时间类（java8）" class="header-anchor">#</a> 日期时间类（Java8）</h2> <p>计算世界时间的主要标准有：</p> <ul><li>UTC(Coordinated Universal Time)</li> <li>GMT(Greenwich Mean Time)</li> <li>CST(Central Standard Time)</li></ul> <p>时间戳：是指格林威治时间1970年01月01日00时00分00秒(北京时间1970年01月01日08时00分00秒)起至现在的总秒数。</p> <blockquote><p>JDK 1.0中包含了 一个java.util.Date类，但是它的大多数方法已经在JDK 1.1引入Calendar类之后被弃用 了。而Calendar并不比Date好多少。它们面临的问题是:</p> <ul><li><p>可变性：像日期和时间这样的类应该是不可变的。</p></li> <li><p>偏移性：Date中的年份是从1900开始的，而月份都从0开始。 （<code>new Date(...)</code>时体现，已被Deprecated）</p></li> <li><p>格式化：格式化只对Date有用，Calendar则不行。</p></li> <li><p>线程不安全：不是线程安全的；不能处理闰秒等。</p> <p>闰秒，是指为保持协调世界时接近于世界时时刻，由国际计量局统一规定在年底或年中（也可能在季末）对协调世界时增加或减少1秒的调整。由于地球自转的不均匀性和长期变慢性（主要由潮汐摩擦引起的），会使世界时（民用时）和原子时之间相差超过到±0.9秒时，就把协调世界时向前拨1秒（负闰秒，最后一分钟为59秒）或向后拨1秒（正闰秒，最后一分钟为61秒）； 闰秒一般加在公历年末或公历六月末。目前，全球已经进行了27次闰秒，均为正闰秒。最近一次闰秒在北京时间2017年1月1日7时59分59秒（时钟显示07:59:60）出现。这也是本世纪的第五次闰秒。</p></li></ul></blockquote> <p>第三次在Java 8中引入的 java.time API 是成功的，并且纠正了过去的缺陷，将来很长一段时间内它都会为我们服务。</p> <p>Java 8 吸收了 Joda-Time 的精华，以一个新的开始为 Java 创建优秀的 API。 新的 java.time 中包含了所有关于本地日期(LocalDate)、本地时间 (LocalTime)、本地日期时间(LocalDateTime)、时区(ZonedDateTime) 和持续时间(Duration)的类。历史悠久的 Date 类新增了 toInstant() 方法， 用于把 Date 转换成新的表示形式。这些新增的本地化时间日期 API 大大简 化了日期时间和本地化的管理。</p> <p>时间API有如下（大多数开发者只会用到基础包和format包，也可能会用到temporal包。因此，尽管有68个新的公开类型，大多数开发者，大概将只会用到其中的三分之一）：</p> <ul><li><code>java.time</code> – 包含值对象的<strong>基础包</strong></li> <li><code>java.time.chrono</code> – 提供对不同的日历系统的访问</li> <li><code>java.time.format</code> – <strong>格式化和解析时间和日期</strong></li> <li><code>java.time.temporal</code> – <strong>包括底层框架和扩展特性</strong></li> <li><code>java.time.zone</code> – 包含时区支持的类</li></ul> <h3 id="instant"><a href="#instant" class="header-anchor">#</a> Instant</h3> <p><code>java.time.Instant</code>：时间线上的一个<strong>瞬时点</strong>。 这可能被用来记录应用程序中的事件<strong>时间戳的毫秒值</strong>。类似Date。</p> <p>在处理时间和日期的时候，我们通常会想到年,月,日,时,分,秒。然而，这只是时间的一个模型，是面向人类的。第二种通用模型是面向机器的，或者说是连续的。在此模型中，时间线中的一个点表示为一个很大的数，这有利于计算机处理。在UNIX中，这个数从1970年开始，以秒为的单位；同样在Java中，也是从1970年开始，但以毫秒为单位。</p> <p><code>java.time</code>包通过值类型<code>Instant</code>提供机器视图，不提供处理人类意义上的时间单位。<code>Instant</code>表示时间线上的一点，而不需要任何上下文信息，例如，时区。 概念上讲，它只是简单的表示自1970年1月1日0时0分0秒(UTC)开始的秒数。因为<code>java.time</code>包是基于纳秒计算的，所以<code>Instant</code>的精度可以达到<strong>纳秒</strong>级。<code>1s = 10^3ms = 10^6us = 10^9ns</code></p> <p>常用方法：</p> <ul><li><p><code>now()</code> ：静态方法，返回默认<strong>UTC</strong>时区（本初子午线时区）的<code>Instant</code>类的对象</p></li> <li><p><code>ofEpochMilli(long epochMilli)</code>：静态方法，返回在1970-01-01 00:00:00基础上加上指定毫秒数之后的<code>Instant</code>类的对象</p></li> <li><p><code>toEpochMilli()</code>：返回1970-01-01 00:00:00（UTC）到当前时间的毫秒数，即为时间戳的毫秒值</p></li> <li><p><code>atOffset(ZoneOffset offset)</code>：<code>Instant</code>对象调用，结合即时的偏移来创建一个 <code>OffsetDateTime</code></p></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Instant</span> instant <span class="token operator">=</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>instant<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T10:28:53.822283Z，是本初子午线时区时间</span>

<span class="token class-name">Instant</span> instant1 <span class="token operator">=</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">ofEpochMilli</span><span class="token punctuation">(</span><span class="token number">1570271687516L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>instant1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T10:34:47.516Z</span>

<span class="token keyword">long</span> l <span class="token operator">=</span> instant<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1570271540852</span>

<span class="token class-name">OffsetDateTime</span> offsetDateTime <span class="token operator">=</span> instant<span class="token punctuation">.</span><span class="token function">atOffset</span><span class="token punctuation">(</span><span class="token class-name">ZoneOffset</span><span class="token punctuation">.</span><span class="token function">ofHours</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>offsetDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T18:35:07.753807+08:00</span>
</code></pre></div><h3 id="localdate、localtime、localdatetime"><a href="#localdate、localtime、localdatetime" class="header-anchor">#</a> LocalDate、LocalTime、LocalDateTime</h3> <p><code>java.time</code>包下的<code>LocalDate</code>、<code>LocalTime</code>、<code>LocalDateTime</code> 类是其中较重要的几个类，它们的实例是<strong>不可变的对象</strong>，分别表示使用 ISO-8601日历系统的日期、时间、日期和时间。 它们提供了简单的本地日期或时间，并不包含当前的时间信息，也不包含与时区相关的信息。（ISO-8601日历系统是国际标准化组织制定的现代公民的日期和时间的表示法，也就是公历）类似Calendar。</p> <p><code>LocalDate</code>：代表IOS格式(yyyy-MM-dd)的日期，可以存储 生日、纪念日等日期。</p> <p><code>LocalTime</code>：表示一个时间，而不是日期。</p> <p><code>LocalDateTime</code>：用来表示日期和时间的，这是一个最常用的类之一。</p> <p>构造方法：</p> <ul><li><code>now([ZoneId zone])</code>：静态方法，根据<strong>当前时间</strong>创建对象/指定时区的对象</li> <li><code>of(...)</code>：静态方法，根据<strong>指定</strong>日期/时间创建对象，没有偏移量</li></ul> <p>获取方法：</p> <ul><li><code>getYear()</code>：获得年份</li> <li><code>getMonth()</code>：获得月份, 返回一个 <code>Month</code> 枚举值，可通过<code>getValue()</code>获取其值（1-12）</li> <li><code>getMonthValue()</code>：获得月份（1-12）</li> <li><code>getDayOfMonth()/getDayOfYear()</code>：获得月份天数(1-31) /获得年份天数(1-366)</li> <li><code>getDayOfWeek()</code>：获得星期几，返回一个 <code>DayOfWeek</code> 枚举值，可通过<code>getValue()</code>获取其值（1-7）</li> <li><code>getHour()/getMinute()/getSecond()/getNano()</code>：获得当前对象对应的小时、分钟、秒、纳秒</li></ul> <p>设置方法（<strong>返回新的对象</strong>）：</p> <ul><li><code>withYear() / withMonth() / withDayOfMonth() / withDayOfYear() / withHour() / withMinute() / withSecond() / withNano()</code>：将 年份 / 月份 / 月份天数 / 年份天数 / 时 / 分 / 秒 修改为指定的值并<strong>返回新的对象</strong></li></ul> <p>计算方法（<strong>返回新的对象</strong>）：</p> <ul><li><code>plusYears() / plusMonths() / plusDays() / plusWeeks() / plusHours() / plusMinutes() / plusSeconds() / plusNanos()</code>：向当前对象添加 几年 / 几月 / 几天 / 几周 / 几小时 / 几分 / 几秒 / 几纳秒，并<strong>返回新的对象</strong></li> <li><code>minusYears() / minusMonths() / minusDays() / minusWeeks() / minusHours() / minusMinutes() / minusSeconds() / minusNanos()</code>：向当前对象减去 几年 / 几月 / 几天 / 几周 / 几小时 / 几分 / 几秒 / 几纳秒，并<strong>返回新的对象</strong></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 当前时区年月日时分秒纳秒</span>
<span class="token class-name">LocalDateTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T15:34:50.420465</span>
<span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>localDate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05</span>
<span class="token class-name">LocalTime</span> localTime <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>localTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 16:01:27.076062</span>

<span class="token comment">// 指定年月日时分秒纳秒</span>
<span class="token class-name">LocalDateTime</span> of <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">111111111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>of<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T11:11:11.111111111</span>

<span class="token comment">// 获取API</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// OCTOBER</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMonthValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 10</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 5</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getDayOfYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 278</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// SATURDAY</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 15</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 45</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 28</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 576880000</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getChronology</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ISO</span>

<span class="token comment">// 设置API，会返回新的对象！</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">withYear</span><span class="token punctuation">(</span><span class="token number">2222</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2222-10-05T15:56:28.583009</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">withMonth</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-11-05T15:56:28.583009</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">withDayOfMonth</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-11T15:56:28.583009</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">withDayOfYear</span><span class="token punctuation">(</span><span class="token number">222</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-08-10T15:56:28.583009</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">withHour</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T11:56:28.583009</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">withMinute</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T15:11:28.583009</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">withSecond</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T15:56:11.583009</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">withNano</span><span class="token punctuation">(</span><span class="token number">111111111</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T15:56:28.111111111</span>

<span class="token comment">// 计算API，会返回新的对象！minus就不演示了</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">plusYears</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2020-10-05T16:07:11.942319</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">plusMonths</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-11-05T16:07:11.942319</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-06T16:07:11.942319</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">plusWeeks</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-12T16:07:11.942319</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">plusHours</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T17:07:11.942319</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">plusMinutes</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T16:08:11.942319</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">plusSeconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T16:07:12.942319</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">plusNanos</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T16:07:11.942319001</span>
</code></pre></div><h3 id="datetimeformatter"><a href="#datetimeformatter" class="header-anchor">#</a> DateTimeFormatter</h3> <p><code>java.time.format.DateTimeFormatter</code>类，类似<code>DateFormat</code>，提供格式化和解析方法：</p> <p>构造方法：</p> <ul><li><p><code>ISO_LOCAL_DATE_TIME</code>;<code>ISO_LOCAL_DATE</code>;<code>ISO_LOCAL_TIME</code>等：静态方法，预定义的标准格式</p></li> <li><p><code>ofLocalizedDateTime/Date/Time(FormatStyle style)</code>：静态方法，本地化相关的格式</p> <ul><li><p><code>FormatStyle.FULL</code></p> <ul><li>Java8：<code>2019年10月5日 星期六 下午07时32分13秒 +08:00</code></li> <li>Java11：<code>2019年10月5日星期六 +08:00 下午7:32:13</code></li></ul></li> <li><p><code>FormatStyle.LONG</code>：<code>2019年10月5日 +08:00 下午7:30:58</code></p> <ul><li>Java8：<code>2019年10月5日 下午07时33分32秒</code></li> <li>Java11：<code>2019年10月5日 +08:00 下午7:33:58</code></li></ul></li> <li><p><code>FormatStyle.MEDIUM</code>：<code>2019年10月5日 下午7:31:31</code></p> <ul><li>Java8：<code>2019-10-5 19:34:52</code></li> <li>Java11：<code>2019年10月5日 下午7:34:26</code></li></ul></li> <li><p><code>FormatStyle.SHORT</code>：<code>2019/10/5 下午7:31</code></p> <ul><li>Java8：<code>19-10-5 下午7:36</code></li> <li>Java11：<code>2019/10/5 下午7:36</code></li></ul> <blockquote><p>⚠️注意</p> <p>使用<code>FULL</code>和<code>LONG</code>参数时，在<code>format()</code>一个<code>LocalDateTime</code>，Java8中OK，Java11中报错，提示<code>Unable to extract ZoneId from temporal</code>。可以给LocalDateTime设置时区即可解决：<code>localDateTime.atZone(ZoneId.of(&quot;Asia/Shanghai&quot;))</code></p></blockquote></li></ul></li> <li><p><code>ofPattern(String pattern)</code>：静态方法，<strong>指定字符串格式</strong>。常用，如<code>yyyy-MM-dd HH:mm:ss</code></p></li></ul> <p>常用方法：</p> <ul><li><code>format(TemporalAccessor t)</code>：格式化一个日期、时间、日期时间（<code>Local***</code>），返回字符串</li> <li><code>parse(CharSequence text)</code>：将指定格式的字符序列解析为一个日期、时间、日期时间（<code>Local***</code>）</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T18:56:54.511646</span>

<span class="token comment">// 1 预定义的标准格式</span>
<span class="token class-name">DateTimeFormatter</span> formatter1 <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span>ISO_LOCAL_DATE_TIME<span class="token punctuation">;</span>
<span class="token comment">// format</span>
<span class="token class-name">String</span> format1 <span class="token operator">=</span> formatter1<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T18:56:54.511646，此时使用默认的，若是ISO_LOCAL_DATE则只有年月日，其他同理</span>
<span class="token comment">// parse</span>
<span class="token class-name">TemporalAccessor</span> parse1 <span class="token operator">=</span> formatter1<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2019-10-05T18:55:25.737715&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parse1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// {},ISO resolved to 2019-10-05T18:55:25.737715，接口中内容多，可以指定Field</span>


<span class="token comment">// 2 预定义的标准格式</span>
<span class="token class-name">DateTimeFormatter</span> formatter2 <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofLocalizedDateTime</span><span class="token punctuation">(</span><span class="token class-name">FormatStyle</span><span class="token punctuation">.</span>MEDIUM<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 只列举一个</span>
<span class="token comment">// format</span>
<span class="token class-name">String</span> format2 <span class="token operator">=</span> formatter2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;+8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-5 19:38:48</span>
<span class="token comment">//parse</span>
<span class="token class-name">TemporalAccessor</span> parse2 <span class="token operator">=</span> formatter2<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2019-10-5 19:38:48&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parse2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// {},ISO resolved to 2019-10-05T19:38:48</span>


<span class="token comment">// 3 指定字符串格式，常用</span>
<span class="token class-name">DateTimeFormatter</span> formatter3 <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// format</span>
<span class="token class-name">String</span> format3 <span class="token operator">=</span> formatter3<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;+8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>format3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05 19:43:34</span>
<span class="token comment">//parse</span>
<span class="token class-name">TemporalAccessor</span> parse3 <span class="token operator">=</span> formatter3<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2019-10-05 19:43:04&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parse3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// {},ISO resolved to 2019-10-05T19:43:04</span>
</code></pre></div><h3 id="其它api"><a href="#其它api" class="header-anchor">#</a> 其它API</h3> <ul><li><p><code>ZoneId</code>：该类中包含了所有的时区信息，一个时区的ID，可以用三种格式定义：</p> <ul><li>在区域偏移中，可以是“Z”，“+ hh:mm:ss”或“-hh:mm:ss”，例如“+01:00”。</li> <li>前缀为“UTC”，“GMT”或“UT”，后跟区域偏移量，例如“UTC + 01:00”。</li> <li>在区域名称中，例如，“Europe/Paris”。</li></ul></li> <li><p><code>ZonedDateTime</code>：一个在ISO-8601日历系统时区的日期时间</p> <p>如<code>2019-10-05T22:29:08.174+08:00[Asia/Shanghai]</code>，其中每个时区都对应着ID，地区ID都为<code>{区域}/{城市}</code>的格式，例如：<code>Asia/Shanghai</code>等</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// ZoneId的getAvailableZoneIds():获取所有可用的ZoneId</span>
<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> zoneIds <span class="token operator">=</span> <span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">getAvailableZoneIds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> zoneIds<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zoneIds<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 600</span>

<span class="token comment">// ZoneId的of():获取指定时区的时间</span>
<span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Shanghai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T22:29:08.169</span>


<span class="token comment">// ZonedDateTime:带时区的日期时间</span>
<span class="token comment">// ZonedDateTime的now():获取本时区的ZonedDateTime对象</span>
<span class="token class-name">ZonedDateTime</span> zonedDateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zonedDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T22:29:08.174+08:00[Asia/Shanghai]</span>

<span class="token comment">// ZonedDateTime的now(ZoneId id):获取指定时区的ZonedDateTime对象</span>
<span class="token class-name">ZonedDateTime</span> zonedDateTime1 <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Shanghai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zonedDateTime1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-05T22:29:08.174+08:00[Asia/Shanghai]</span>
</code></pre></div></li> <li><p><code>Clock</code>：使用时区提供对当前即时、日期和时间的访问的时钟。</p></li> <li><p><code>Duration</code>：持续时间，用于计算两个“时间”间隔</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//Duration:用于计算两个“时间”间隔，以秒和纳秒为基准</span>
<span class="token class-name">LocalTime</span> localTime <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalTime</span> localTime1 <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//between():静态方法，返回Duration对象，表示两个时间的间隔</span>
<span class="token class-name">Duration</span> duration <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>localTime1<span class="token punctuation">,</span> localTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// PT7H16M18.397S</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>duration<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 26178</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>duration<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 397000000</span>

<span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2016</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDateTime</span> localDateTime1 <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Duration</span> duration1 <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">,</span> localDateTime1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>duration1<span class="token punctuation">.</span><span class="token function">toDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 365</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>duration1<span class="token punctuation">.</span><span class="token function">toHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 8760</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>duration1<span class="token punctuation">.</span><span class="token function">toMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 525600</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>duration1<span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 31536000000毫秒</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>duration1<span class="token punctuation">.</span><span class="token function">toNanos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 31536000000000000</span>
</code></pre></div></li> <li><p><code>Period</code>：日期间隔，用于计算两个“日期”间隔</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//Period:用于计算两个“日期”间隔，以年、月、日衡量</span>
<span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDate</span> localDate1 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2028</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Period</span> period <span class="token operator">=</span> <span class="token class-name">Period</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>localDate<span class="token punctuation">,</span> localDate1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>period<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// P8Y5M13D</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>period<span class="token punctuation">.</span><span class="token function">getYears</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 8</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>period<span class="token punctuation">.</span><span class="token function">getMonths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 5</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>period<span class="token punctuation">.</span><span class="token function">getDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 13</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>period<span class="token punctuation">.</span><span class="token function">getChronology</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ISO</span>

<span class="token class-name">Period</span> period1 <span class="token operator">=</span> period<span class="token punctuation">.</span><span class="token function">withYears</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 类似于set</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>period1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// P2Y5M13D</span>
</code></pre></div></li> <li><p><code>TemporalAdjuster</code>：时间校正器。有时我们可能需要获取例如，将日期调整到“下一个工作日”等操作。</p></li> <li><p><code>TemporalAdjusters</code>：该类通过静态方法<code>firstDayOfXxx()/lastDayOfXxx()/nextXxx()</code>提供了大量的常用<code>TemporalAdjuster</code>的实现</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// TemporalAdjuster:时间校正器</span>
<span class="token comment">// 获取当前日期的下一个周日是哪天?</span>
<span class="token class-name">TemporalAdjuster</span> temporalAdjuster <span class="token operator">=</span> <span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>SUNDAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span>temporalAdjuster<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2019-10-06T22:47:44.501</span>

<span class="token comment">// 获取下一个工作日是哪天? @FunctionalInterface-&gt;TemporalAdjuster::adjustInto()</span>
<span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span>temporal <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token class-name">LocalDate</span> date <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">LocalDate</span><span class="token punctuation">)</span> temporal<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>FRIDAY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> date<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>SATURDAY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> date<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> date<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;下一个工作日是:&quot;</span> <span class="token operator">+</span> localDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="新旧api转换"><a href="#新旧api转换" class="header-anchor">#</a> 新旧API转换</h3> <table><thead><tr><th>类</th> <th>To 遗留类</th> <th>From 遗留类</th></tr></thead> <tbody><tr><td>java.time.Instant与java.util.Date</td> <td>Date.from(instant)</td> <td>date.toInstant()</td></tr> <tr><td>java.time.Instant与java.sql.Timestamp</td> <td>Timestamp.from(instant)</td> <td>timestamp.toInstant()</td></tr> <tr><td>java.time.ZonedDateTime与java.util.GregorianCalendar</td> <td>GregorianCalendar.from(zonedDateTime)</td> <td>cal.toZonedDateTime()</td></tr> <tr><td>java.time.LocalDate与java.sql.Time</td> <td>Date.valueOf(localDate)</td> <td>date.toLocalDate()</td></tr> <tr><td>java.time.LocalTime与java.sql.Time</td> <td>Date.valueOf(localDate)</td> <td>date.toLocalTime()</td></tr> <tr><td>java.time.LocalDateTime与java.sql.Timestamp</td> <td>Timestamp.valueOf(localDateTime)</td> <td>timestamp.toLocalDateTime()</td></tr> <tr><td>java.time.ZoneId与java.util.TimeZone</td> <td>Timezone.getTimeZone(id)</td> <td>timeZone.toZoneId()</td></tr> <tr><td>java.time.format.DateTimeFormatter与java.text.DateFormat</td> <td>formatter.toFormat()</td> <td>无</td></tr></tbody></table> <h2 id="日期时间类（旧）"><a href="#日期时间类（旧）" class="header-anchor">#</a> 日期时间类（旧）</h2> <h3 id="system（java-lang）"><a href="#system（java-lang）" class="header-anchor">#</a> System（java.lang）</h3> <ul><li><code>long currentTimeMillis()</code> <strong>获取当前时间戳的毫秒值</strong>，东八区应加8个小时。测试程序效率</li></ul> <h3 id="date（java-util）"><a href="#date（java-util）" class="header-anchor">#</a> Date（java.util）</h3> <ul><li><p><strong>Date</strong>用于表示日期和时间，可以精确到<strong>毫秒</strong></p></li> <li><p><strong>时间戳</strong>是指格林威治时间1970年01月01日00时00分00秒起至现在的总<strong>秒</strong>数</p></li> <li><p><strong>构造方法</strong>（只有两个没过时）</p> <ul><li><code>Date()</code>                   用于创建<strong>当前</strong>日期时间的Date对象</li> <li><code>Date(long date)</code> 用于创建<strong>指定时间戳毫秒值</strong>的Date对象，也可用时间戳/1000</li></ul></li> <li><p><strong>成员方法</strong></p> <ul><li><code>getTime()</code>          返回此对象的<strong>时间戳的毫秒值</strong></li> <li><code>setTime()</code>          设置此对象的<strong>时间戳的毫秒值</strong></li> <li><code>toString()</code>         把此 Date 对象转换为以下形式的 String：<code>dow mon dd hh:mm:ss zzz yyyy</code>，dow 是一周中的某一天 (Sun, Mon, Tue, Wed, Thu, Fri, Sat)，zzz是时间标准</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Sun Oct 28 15:49:55 CST 2018，就是本地时间，这个CST是什么意思？</span>
		
<span class="token keyword">long</span> date <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//当前时间戳的毫秒值</span>
<span class="token class-name">Date</span> dd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dd<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Sun Oct 28 15:49:55 CST 2018</span>
</code></pre></div></li></ul> <h3 id="date（java-sql）"><a href="#date（java-sql）" class="header-anchor">#</a> Date（java.sql）</h3> <ul><li><p>对应数据库中date类型，是<code>util.Date</code>的<strong>子类</strong></p></li> <li><p><strong>构造方法</strong>（只有一个没过时）</p></li> <li><p><code>Date(long date)</code> 用于创建<strong>指定时间戳毫秒值</strong>的Date对象，也可用时间戳/1000</p></li> <li><p><strong>成员方法</strong></p> <ul><li><code>getTime()</code>          返回此对象的<strong>时间戳的毫秒值</strong></li> <li><code>setTime()</code>          设置此对象的<strong>时间戳的毫秒值</strong></li> <li><code>toString()</code>         把此 Date 对象转换为以下形式的 String：<code>yyyy-MM-dd</code></li></ul> <div class="language-java extra-class"><pre class="language-java"><code>java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span><span class="token class-name">Date</span> date1 <span class="token operator">=</span> <span class="token keyword">new</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span><span class="token class-name">Date</span><span class="token punctuation">(</span>timeMillis<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>date1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2019-10-04</span>
<span class="token comment">//其他方法同java.util.Date类似</span>
</code></pre></div></li> <li><p><code>sql.Date</code> —&gt; <code>util.Date</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 多态，直接赋值</span>
java<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token class-name">Date</span> d <span class="token operator">=</span> <span class="token keyword">new</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span><span class="token class-name">Date</span><span class="token punctuation">(</span>timeMillis<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>util.Date</code> —&gt; <code>sql.Date</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 通过时间戳的毫秒值间接转换</span>
java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span><span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span><span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="dateformat（java-text）"><a href="#dateformat（java-text）" class="header-anchor">#</a> DateFormat（java.text）</h3> <ul><li><p>Date类的API不易于国际化，大部分被废弃了，<code>java.text.DateFormat</code>抽象类是一个不与语言环境有关的方式来格式化和解析日期的类。使用其实现类**<code>SimpleDateFormat</code> **</p></li> <li><p>构造方法（无参构造为默认格式）</p> <ul><li><p><strong>指定格式构造</strong>：<code>SimpleDateFormat sdf = new SimpleDateFormat(String pattern)</code></p></li> <li><p><strong>pattern</strong>：指定格式，一般为 <code>yyyy-MM-dd HH:mm:ss</code>二十四小时制，详细的查看API</p> <p><img src="/assets/img/image-20191005144753166.f3ea922b.png" alt="image-20191005144753166"></p></li></ul></li> <li><p><strong>格式化</strong><code>String format(Date d)</code>：Date---&gt;String</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Sun Oct 28 16:46:42 CST 2018</span>
<span class="token class-name">SimpleDateFormat</span> format <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy年MM月dd日 HH：mm：ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2018年10月28日 16：45：43</span>
</code></pre></div></li> <li><p><strong>解析</strong><code>Date parse(String str)</code>：String---&gt;Date</p> <p>该方法声明了一个异常，如果字符串和构造方法中格式不一致，程序会抛出<code>ParseException</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;2018年10月28日 16：45：43&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">SimpleDateFormat</span> format <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy年MM月dd日 HH：mm：ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Date</span> parse <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//try...catch处理或throws处理</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>parse<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Sun Oct 28 16:46:42 CST 2018</span>
</code></pre></div></li> <li><p>出生多少天</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//System.out.println(&quot;出生天数计算（不足一天按一天算）&quot;);</span>
<span class="token comment">//System.out.println(&quot;输入您的出生年月日（例，2000年01月01日）：&quot;);</span>
<span class="token class-name">String</span> birth <span class="token operator">=</span> sc<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SimpleDateFormat</span> format <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy年MM月dd日&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Date</span> date <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>birth<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> birthTime <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>birthTime<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">1000</span><span class="token operator">*</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 注意不足一天按一天算</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;您出生&quot;</span><span class="token operator">+</span>day<span class="token operator">+</span><span class="token string">&quot;天了。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="calendar（java-util）"><a href="#calendar（java-util）" class="header-anchor">#</a> Calendar（java.util）</h3> <ul><li>日历类，是<strong>抽象类</strong>。在Date后出现（JDK1.1），替换掉了许多Date的方法。该类将所有可能用到的时间信息封装为<strong>静态成员变量</strong>，方便获取。日历类就是方便获取各个时间属性的。</li></ul> <ul><li><p><strong>调用静态方法获取一个Calendar对象，就是GregorianCalendar对象</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Calendar</span> calendar <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">gerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>调用它的子类<code>GregorianCalendar</code>的构造器</p></li> <li><p>提供了如下字段等：</p> <ul><li><code>YEAR</code>、<code>MONTH</code>、<code>DAY_OF_MONTH（DATE）</code>、<code>DAY_OF_WEEK</code>（周日为1,1~7）</li> <li><code>HOUR</code>、<code>HOUR_OF_DAY</code>、<code>MINUTE</code>、<code>SECOND</code></li></ul></li> <li><p><strong>常用方法</strong>(注意，<strong>MONTH从0开始</strong>)</p> <ul><li><p><strong>获取指定日历字段</strong>的<strong>值</strong></p> <p><code>int get(int field)</code></p></li> <li><p>设置<strong>指定日历字段</strong>的<strong>值</strong></p> <p><code>void set(int field,int value)</code></p></li> <li><p>设置<strong>日历字段的值</strong>(年月日时分秒等)</p> <p><code>void set(int year,int month,int date,int hourofday,int minute,int second)</code></p></li> <li><p>根据日历规则，为指定日历字段<strong>加上</strong>或<strong>减去指定时间量</strong></p> <p><code>void add(int field,int amount)</code></p></li> <li><p><strong>得到</strong>对应的<strong>Date对象</strong></p> <p><code>Date getTime()</code></p></li> <li><p>使用给定的 <code>Date</code> 设置此 Calendar 的时间</p> <p><code>void setTime(Date date)</code></p></li></ul></li> <li><p>计算任意二月有多少天</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getNumOfDay</span><span class="token punctuation">(</span><span class="token keyword">int</span> year<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Calendar</span> c <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><strong>【面试】</strong></p> <ul><li>Date类用来表示某个特定的瞬间，能够精确到毫秒。而在实际应用中，往往需要把一个日期中的年、月、日等信息单独返回进行显示或处理，这个类中的大部分方法都已被标记过时。Calendar类基本取代了Date类，该类中定义了一系列用于完成日期和时间字段操作的方法。
Calendar的<code>getTime()</code>方法)返回一个表示Calendar时间值的Date对象，同时Calendar有一个<code>setTime(Date date)</code>方法接收一个Date对象，将Date对象表示的时间值设置给Calendar对象，通过这两个方法就可以完成Date和Calendar对象之间的转换。</li></ul></li></ul> <h2 id="比较器类"><a href="#比较器类" class="header-anchor">#</a> 比较器类</h2> <p>在Java中经常会涉及到对象数组的排序问题，那么就涉及到<strong>对象之间的比较</strong>问题，Java实现对象排序的方式有两种：</p> <ul><li>自然排序：<code>java.lang.Comparable</code></li> <li>比较器排序：<code>java.util.Comparator</code></li></ul> <h3 id="comparable—compareto"><a href="#comparable—compareto" class="header-anchor">#</a> Comparable—compareTo</h3> <ul><li><p><code>Comparable</code>接口<strong>强行对实现它的每个类的对象进行整体排序</strong>。这种排序被称为类的<strong>自然排序</strong>。</p></li> <li><p>实现<code>Comparable</code> 的类必须重写<code>compareTo(Object obj)</code> 方法，两个对象通过该方法的返回值来比较大小。</p> <ul><li>如果当前对象this大于形参对象obj，则返回正整数</li> <li>如果当前对象this小于形参对象obj，则返回负整数</li> <li>如果当前对象this等于形参对象obj，则返回零。</li></ul></li> <li><p>实现<code>Comparable</code>接口的对象列表(和数组)可以通过 <code>Collections.sort</code> 或 <code>Arrays.sort</code>进行自动排序。实现此接口的对象可以用作有序映射中的键或有序集合中的元素，无需指定比较器。</p></li> <li><p>对于类 C 的每一个 e1 和 e2 来说，当且仅当 <code>e1.compareTo(e2) == 0</code> 与 <code>e1.equals(e2)</code> 具有相同的 boolean 值时，类 C 的自然排序才叫做与 equals 一致。建议（虽然不是必需的）<strong>最好使自然排序与 equals 一致</strong>。</p></li> <li><p><code>Comparable</code> 的典型实现（<strong>默认都是从小到大排列</strong>的）：</p> <ul><li><code>8种包装类</code>：按照对应的数值大小进行比较。都实现了<code>compareTo()</code>（底层调用后者），提供了<code>compare()</code>。其中：
<ul><li><code>Character</code>按照字符的<code>Unicode</code>值来进行比较。</li> <li><code>Boolean</code>中<code>true</code>对应的包装类实例大于<code>false</code>对应的包装类实例。</li></ul></li> <li><code>String</code>：按照字符串中字符的Unicode值进行比较。实现了<code>compareTo()</code></li> <li><code>Date</code>、<code>*Date/Time</code>等：后面的日期时间比前面的日期时间大。实现了<code>compareTo()</code></li> <li><code>BigInteger</code>、<code>BigDecimal</code>，实现了<code>compareTo()</code></li></ul></li></ul> <h3 id="comparator—compare"><a href="#comparator—compare" class="header-anchor">#</a> Comparator—compare</h3> <ul><li><p>当元素的类型没有实现<code>java.lang.Comparable</code>接口而又<strong>不方便修改代码</strong>， 或者实现了<code>java.lang.Comparable</code>接口的<strong>排序规则不适合当前的操作</strong>，那 么可以使用 <code>Comparator</code> 的对象来排序，强行对多个对象进行整体排序的比较。</p></li> <li><p>重写<code>compare(Object o1,Object o2)</code>方法，比较o1和o2的大小</p> <ul><li>如果方法返回正整数，则表示o1大于o2</li> <li>如果返回0，表示相等</li> <li>返回负整数，表示 o1小于o2。</li></ul></li> <li><p>可以将 <code>Comparator</code> <strong>传递给 <code>sort</code> 方法</strong>（如<code>Collections.sort</code> 或 <code>Arrays.sort</code>）， 实现精确控制排序。</p></li> <li><p>还可以使用 <code>Comparator</code> 来控制某些数据结构（如有序set或有序map）的顺序，或者为那些没有自然顺序的对象 <code>container</code> 提供排序。</p></li> <li><p><strong>方法（结合 Lambda 使用）</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> people <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token punctuation">(</span>
    <span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparingInt</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenComparing</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">getName</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reversed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h2 id="精确数据类型"><a href="#精确数据类型" class="header-anchor">#</a> 精确数据类型</h2> <h3 id="biginteger"><a href="#biginteger" class="header-anchor">#</a> BigInteger</h3> <ul><li><code>Integer</code>类作为int的包装类，能存储的最大整型值为<code>2^31-1</code>，<code>Long</code>类也是有限的， 最大为<code>2^63-1</code>。如果要表示再大的整数，不管是基本数据类型还是他们的包装类都无能为力，更不用说进行运算了。</li> <li><code>java.math</code>包的<code>BigInteger</code>可以表示不可变的<strong>任意精度</strong>的整数。<code>BigInteger</code> 提供所有 Java 的基本整数操作符的对应物，并提供 <code>java.lang.Math</code> 的所有相关方法。 另外，<code>BigInteger</code> 还提供以下运算：模算术、GCD 计算、质数测试、素数生成、位操作以及一些其他操作。</li> <li>构造方法
<ul><li><code>BigInteger(String val)</code>：根据字符串构建BigInteger对象</li></ul></li> <li>常用方法
<ul><li><code>public BigInteger abs()</code>:返回此 BigInteger 的绝对值的 BigInteger</li> <li><code>BigInteger add(BigInteger val)</code> :返回其值为 (this + val) 的 BigInteger</li> <li><code>BigInteger subtract(BigInteger val)</code> :返回其值为 (this - val) 的 BigInteger</li> <li><code>BigInteger multiply(BigInteger val)</code> :返回其值为 (this * val) 的 BigInteger</li> <li><code>BigInteger divide(BigInteger val)</code> :返回其值为 (this / val) 的 BigInteger。整数相除只保留整数部分。</li> <li><code>BigInteger remainder(BigInteger val)</code> :返回其值为 (this % val) 的 BigInteger</li> <li><code>BigInteger[] divideAndRemainder(BigInteger val)</code>:返回包含 (this / val) 后跟(this % val) 的两个 BigInteger 的数组</li> <li><code>BigInteger pow(int exponent)</code> :返回其值为 <code>this^exponent</code> 的 BigInteger。</li></ul></li></ul> <h3 id="bigdecimal"><a href="#bigdecimal" class="header-anchor">#</a> BigDecimal</h3> <p>一般的Float类和Double类可以用来做科学计算或工程计算，但在商业计算中，要求数字精度比较高，故用到<code>java.math.BigDecimal</code>类。浮点数据做运算，会丢失精度。所以，针对浮点数据的操作建议采用<code>BigDecimal</code></p> <ul><li><p>构造方法（尽量使用参数类型为<strong>String</strong>的构造方法）</p> <ul><li><code>BigDecimal(double val)</code></li> <li><code>BigDecimal(String val)</code></li></ul></li> <li><p>常用方法</p> <ul><li><code>BigDecimal add(BigDecimal augend)</code></li> <li><code>BigDecimal subtract(BigDecimal subtrahend)</code></li> <li><code>BigDecimal multiply(BigDecimal multiplicand)</code></li> <li><code>BigDecimal divide(BigDecimal divisor, int scale, int roundingMode)</code></li></ul></li> <li><p>BigDecimal都是不可变的（immutable）的，在进行每一步运算时，都会产生一个新的对象，所以在做加减乘除运算时千万要<strong>保存操作后的值</strong>。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">BigInteger</span> bi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">&quot;12433241123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> bd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;12435.351&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> bd2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;11&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// java.lang.ArithmeticException: Non-terminating decimal expansion; no exact representable decimal result.</span>
<span class="token comment">// System.out.println(bd.divide(bd2)); // 不能除尽，需指定精度</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bd<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>bd2<span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ROUND_HALF_UP<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 除数;精度;四舍五入</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bd<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>bd2<span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ROUND_HALF_UP<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h2 id="object（java-lang）"><a href="#object（java-lang）" class="header-anchor">#</a> Object（java.lang）</h2> <ul><li><p>Object是Java语言中的根类，所有类的父类（直接或间接继承），所有对象（包括数组）都实现这个类的方法。有且只有一个无参构造方法，在对象实例化的时候，最终找的父类就是Object。</p></li> <li><p><strong>方法：</strong></p> <ul><li><p>**<code>toString()</code>**其返回值是String类型，返回类名和它的引用地址。直接输出一个对象引用时，默认调用该方法</p> <p><strong>默认打印的值</strong>是由类的全名+'@'+哈希值的十六进制表示<code>getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());</code>，没意义所以一般由<strong>子类重写</strong>。String、Date、File、包装类等都重写了该方法</p></li> <li><p><strong><code>equals()</code><strong>比较两个对象是否相同，底层用的是</strong><code>==</code></strong>。<code>String</code>重写了该方法
<strong>默认</strong>情况下<strong>比较的是对象地址值</strong>是否相同，没意义所以一般由<strong>子类重写</strong>，注意多态向下转型问题。重写原则如下：</p> <ul><li><p>对称性:如果x.equals(y)返回是“true”，那么y.equals(x)也应该返回是 “true”</p></li> <li><p>自反性:x.equals(x)必须返回是“true”</p></li> <li><p>传递性:如果x.equals(y)返回是“true”，而且y.equals(z)返回是“true”，那么z.equals(x)也应该返回是“true”</p></li> <li><p>一致性:如果x.equals(y)返回是“true”，只要x和y内容一直不变，不管你重复x.equals(y)多少次，返回都是“true”</p> <p>任何情况下，x.equals(null)，永远返回是“false”；x.equals(和x不同类型的对象)永远返回是“false”</p></li></ul></li> <li><p><strong><code>hashCode()</code><strong>返回</strong>对象的哈希值</strong>，十进制整数，不是实际地址值，是<strong>逻辑地址值</strong>
使用带Hash的	<strong>Set、Map中键</strong>时需要<strong>给添加的自定义类重写</strong><code>hashCode()</code>和<code>equals()</code></p></li> <li><p><code>getClass()</code>返回对象的字节码文件对象，反射中讲解</p></li> <li><p><code>finalize()</code>未被引用的对象（为null）将被垃圾回收。也可以调用<code>System.gc()</code>或<code>Runtime.getRuntime().gc()</code>来通知系统进行垃圾回收，但是系统是否进行垃圾回收依然不确定。在垃圾回收机制回收任何对象之前，总会调用该对象的<code>finalize()</code>方法。但若重写该方法，则又激活该对象（明白？）。总之不要主动调用该方法，应该交给垃圾回收机制来调用。</p></li> <li><p><code>clone()</code>实现对象<strong>克隆</strong>，包括成员变量的数据复制，但是它和两个引用指向同一个对象是有区别的</p></li> <li><p>wait / notify / notifyAll</p></li></ul></li> <li><p>只声明了一个空参构造器</p></li> <li><p><strong>【面试】</strong>==和equals()区别：</p> <ol><li><code>==</code>：<strong>基本类型</strong>：比较值是否相等；<strong>引用类型</strong>：比较地址值是否相等；左右两边类型必须一致！</li> <li><code>equals()</code>：只能比较<strong>引用类型</strong>，比较地址值是否相等，底层是<code>==</code>，可以根据需要重写。String、Date、File、包装类等都重写了该方法，比较两对象的“内容”是否相同。</li></ol></li></ul> <p>String重写equals()方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// JDK8</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> anObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> anObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>anObject <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> anotherString <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>anObject<span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> anotherString<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">char</span> v1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
      <span class="token keyword">char</span> v2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> anotherString<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
      <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> v2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// JDK11</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> anObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> anObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>anObject <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> aString <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>anObject<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">coder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> aString<span class="token punctuation">.</span><span class="token function">coder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">isLatin1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token class-name">StringLatin1</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> aString<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        								<span class="token operator">:</span> <span class="token class-name">StringUTF16</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> aString<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="objects"><a href="#objects" class="header-anchor">#</a> Objects</h3> <p>在<strong>JDK7</strong>添加的，它提供了一些静态方法来<strong>操作对象</strong>，这些方法是null-save（空指针安全的）或null-tolerant（容忍空指针的），计算对象的<code>toString</code>、<code>hashCode</code>、<code>equals</code>、<code>requireNonNull</code>等等。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//Objects.toString()源码</span>
    <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//Objects.hashCode()源码</span>
    <span class="token keyword">return</span> o <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> o<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> a<span class="token punctuation">,</span> <span class="token class-name">Object</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//Objects.equals()源码</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>a <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">requireNonNull</span><span class="token punctuation">(</span><span class="token class-name">T</span> obj<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">//Objects.requireNonNull()源码</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">[</span>message<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="system（java-lang）-2"><a href="#system（java-lang）-2" class="header-anchor">#</a> System（java.lang）</h2> <ul><li><p>System类代表系统，系统级的很多<strong>属性</strong>和控制<strong>方法</strong>都放置在该类的内部，并且都是<strong>静态</strong>的，且该类的构造器是private的</p></li> <li><p>成员变量</p> <ul><li><code>in</code>：标准输入流（键盘输入）</li> <li><code>out</code>：标准输出流（显示器）</li> <li><code>err</code>：标准错误输出流（显示器）</li></ul></li> <li><p>成员方法</p> <ul><li><p><code>long currentTimeMillis()</code>：返回当前计算机时间和GMT时间(格林威治时间)1970年1月1号0时0分0秒所差的毫秒数，即<strong>获取当前时间戳的毫秒值</strong>。测试程序效率</p></li> <li><p><code>void exit(int status)</code>：退出当前运行的JVM，status表示状态码，0表示正常退出，非0表示异常终止。使用该方法可以在图形界面编程中实现程序的退出功能等</p></li> <li><p><code>void gc()</code>：请求系统进行垃圾回收，至于系统是否立刻回收，则 取决于系统中垃圾回收算法的实现以及系统执行时的情况</p> <ul><li><strong>垃圾回收</strong>（当一个对象在内存中被释放时，它的**<code>finalize()</code>方法**会被自动调用）</li></ul></li> <li><p><code>void arraycopy(Object src,int srcPos,Object dest,int destPos,int length)</code>：<strong>数组拷贝</strong></p> <p><code>arraycopy(arr1, 1, arr2, 3, 2)</code>：从arr1的1开始长度为2的数据复制到arr2从3开始的地方</p></li> <li><p><code>String getProperty(String key)</code>：获得系统中属性名为key的属性对应的值</p> <table><thead><tr><th style="text-align:center;">属性名</th> <th style="text-align:center;">属性说明</th></tr></thead> <tbody><tr><td style="text-align:center;">java.version</td> <td style="text-align:center;">Java 运行时环境版本</td></tr> <tr><td style="text-align:center;">java.home</td> <td style="text-align:center;">Java 安装目录</td></tr> <tr><td style="text-align:center;">os.name</td> <td style="text-align:center;">操作系统名称</td></tr> <tr><td style="text-align:center;">os.version</td> <td style="text-align:center;">操作系统版本</td></tr> <tr><td style="text-align:center;">user.name</td> <td style="text-align:center;">用户的账户名称</td></tr> <tr><td style="text-align:center;">user.home</td> <td style="text-align:center;">用户的主目录</td></tr> <tr><td style="text-align:center;">user.dir</td> <td style="text-align:center;">用户的当前工作目录</td></tr></tbody></table> <div class="language-java extra-class"><pre class="language-java"><code>java的version<span class="token operator">:</span><span class="token number">1.8</span><span class="token number">.0_222</span>
java的home<span class="token operator">:</span><span class="token operator">/</span><span class="token class-name">Library</span><span class="token operator">/</span><span class="token class-name">Java</span><span class="token operator">/</span><span class="token class-name">JavaVirtualMachines</span><span class="token operator">/</span>zulu<span class="token operator">-</span><span class="token number">8.</span>jdk<span class="token operator">/</span><span class="token class-name">Contents</span><span class="token operator">/</span><span class="token class-name">Home</span><span class="token operator">/</span>jre
os的name<span class="token operator">:</span><span class="token class-name">Mac</span> OS <span class="token class-name">X</span>
os的version<span class="token operator">:</span><span class="token number">10.14</span><span class="token number">.6</span>
user的name<span class="token operator">:</span>conanan
user的home<span class="token operator">:</span><span class="token operator">/</span><span class="token class-name">Users</span><span class="token operator">/</span>conanan
user的dir<span class="token operator">:</span><span class="token operator">/</span><span class="token class-name">Users</span><span class="token operator">/</span>conanan<span class="token operator">/</span><span class="token class-name">IdeaProjects</span><span class="token operator">/</span><span class="token class-name">JavaDemo</span>
</code></pre></div></li></ul></li></ul> <h2 id="math（java-lang）"><a href="#math（java-lang）" class="header-anchor">#</a> Math（java.lang）</h2> <ul><li><p>Math工具类是针对数学运算进行操作的类，提供了大量<strong>静态方法</strong>完成数学相关操作，其方法的参数和返回值类型一般为<code>double</code>型</p></li> <li><p>成员变量</p> <ul><li><code>Math.PI</code>：近似圆周率</li></ul></li> <li><p>成员方法</p> <ul><li>绝对值<strong>abs</strong>：<code>int abs(int/long/float/double a)</code></li> <li>向上取整，<strong>取大的ceil</strong>：<code>double ceil(double a)</code> ，-2.4变为-2.0</li> <li>向下取整，<strong>取小的floor</strong>：<code>double floor(double a)</code>，-2.4变为-3.0</li> <li>四舍五入<strong>round</strong>：<code>long/int round(double a/float a)</code>-4.9四舍五入后为-5。算法<code>Math.floor(x+0.5)</code></li> <li>a的b次幂<strong>pow</strong>：<code>double pow(double a,double b)</code></li> <li>随机数<code>[0.0,1.0)</code><strong>random</strong>：<code>double random()</code></li> <li>平方根<strong>sqrt</strong>：<code>double sqrt(double a)</code></li> <li>三角函数：<code>asin/acos/atan/sin/cos/tan</code></li> <li>自然对数：<code>log</code></li> <li>e为底指数：<code>exp</code></li> <li>弧度转角度：<code>toDegrees(double angrad)</code></li> <li>角度转弧度：<code>toRadians(double angdeg)</code></li> <li>两数据中大者：<code>max(int/long/float/double a,int/long/float/double b)</code></li> <li>两数据中小者：<code>min(int/long/float/double a,int/long/float/double b)</code></li></ul></li> <li><p>任意<strong>整数</strong>范围的随机数</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>end<span class="token operator">-</span>start<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span>start<span class="token punctuation">;</span> <span class="token comment">//+1是为了包括右极限</span>
</code></pre></div></li></ul> <h2 id="random（java-util）"><a href="#random（java-util）" class="header-anchor">#</a> Random（java.util）</h2> <ul><li><p>生成随机数的两个构造方法</p> <ul><li><code>Random()</code>                          创建一个伪随机数生成器，因为种子随机所以每个对象产生<strong>随机数不同</strong></li> <li><code>Random(long seed)</code>         创建一个伪随机数生成器，因为种子一定，每个对象产生<strong>随机数序列相同</strong></li></ul></li> <li><p>Random类的方法</p> <ul><li><code>int nextInt()/nextLong()/nextFloat()/nextDouble()/nextBoolean()</code>  随机生成~类型所有范围内的随机数</li> <li><code>int nextInt(int n)</code> <strong>随机生成[0,n)之间的随机数</strong></li></ul></li> <li><p>生成<strong>任意范围内的随机数</strong>[]</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Random</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>end<span class="token operator">-</span>start<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>start<span class="token punctuation">;</span><span class="token comment">//+1是为了保留右极限</span>
</code></pre></div></li> <li><p>每次生成10组6位随机验证码</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chs <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'0'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> chs<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token class-name">Random</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//10组</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;随机验证码：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//6位</span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>chs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="习题"><a href="#习题" class="header-anchor">#</a> 习题</h2> <h3 id="包装类型转换"><a href="#包装类型转换" class="header-anchor">#</a> 包装类型转换</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Object</span> o1 <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1.0</span>
<span class="token comment">// 编译时类型提升为Double，所以是1.0</span>

<span class="token class-name">Object</span> o2<span class="token punctuation">;</span> 
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  o2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">else</span>
  o2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Integer</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token class-name">Integer</span> j <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i <span class="token operator">==</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// false</span>
  <span class="token class-name">Integer</span> m <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token class-name">Integer</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> 
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m <span class="token operator">==</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
  <span class="token class-name">Integer</span> x <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span>
  <span class="token class-name">Integer</span> y <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span> 
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x <span class="token operator">==</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// false</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="string-练习1—值传递"><a href="#string-练习1—值传递" class="header-anchor">#</a> String 练习1—值传递</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;good&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ch <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'t'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'s'</span><span class="token punctuation">,</span> <span class="token string">'t'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    str <span class="token operator">=</span> <span class="token string">&quot;test ok&quot;</span><span class="token punctuation">;</span>
    ch<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">StringTest</span> ex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ex<span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span>ex<span class="token punctuation">.</span>str<span class="token punctuation">,</span> ex<span class="token punctuation">.</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>ex<span class="token punctuation">.</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//good</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ex<span class="token punctuation">.</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//best</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="string-练习2"><a href="#string-练习2" class="header-anchor">#</a> String 练习2</h3> <p><code>String s = new String(&quot;hello&quot;)</code>和<code>String s = &quot;hello&quot;</code>前者最多创建两对象，后者最多创建一个对象</p> <h3 id="string-练习3"><a href="#string-练习3" class="header-anchor">#</a> String 练习3</h3> <ul><li><p>当对字符串重新赋值时，需要<strong>重写指定内存区域赋值</strong>，不能使用原有的value进行赋值</p></li> <li><p>当执行<code>concat</code>，<code>substring</code>，<code>replace</code>等操作都<strong>需要重新指定内存区域赋值</strong>（与常量池无关）</p></li> <li><p>字符串的<code>+</code>运算，若是<strong>存在变量相加，先开空间再拼接，结果在堆中</strong>；<strong>只有常量则先拼接（类似字面量赋值），然后在常量池中找</strong>，有就返回，没有就创建并放入常量池。如果拼接的结果调用<code>intern()</code>方法，<strong>返回值就在常量池中</strong>。字符串常量池中不会存储相同内容的字符串。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> charArray <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'h'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>charArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str4 <span class="token operator">=</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> str5 <span class="token operator">=</span> <span class="token string">&quot;helloworld&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1 <span class="token operator">==</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str1 <span class="token operator">==</span> str3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false，同理str2!=str3</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str5 <span class="token operator">==</span> str1 <span class="token operator">+</span> str4<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str5 <span class="token operator">==</span> <span class="token string">&quot;hello&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str5 <span class="token operator">==</span> str1 <span class="token operator">+</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str5 <span class="token operator">==</span> <span class="token punctuation">(</span>str1 <span class="token operator">+</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str3<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
</code></pre></div></li> <li><p>通过<strong>字面量直接赋值</strong>的定义字符串的会<strong>放入堆内存的字符串常量池</strong>中；但是**<code>new String</code>方式定义的不会放入**。</p></li> <li><p>特别的，注意<strong>对象中的属性</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Person</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;hh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;hh&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
t2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>name <span class="token operator">==</span> t2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true，值在常量池中！</span>
</code></pre></div></li></ul> <h3 id="string-常见算法题"><a href="#string-常见算法题" class="header-anchor">#</a> String 常见算法题</h3> <p>答案见doc</p> <h4 id="模拟一个trim方法，去除字符串两端的空格"><a href="#模拟一个trim方法，去除字符串两端的空格" class="header-anchor">#</a> 模拟一个trim方法，去除字符串两端的空格</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">myTrim</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// 用于记录从前往后首次索引位置不是空格的位置的索引</span>
        <span class="token keyword">int</span> end <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// 用于记录从后往前首次索引位置不是空格的位置的索引</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">' '</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            start<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;</span> end <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">' '</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            end<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">' '</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="将一个字符串进行反转，将字符串中指定部分进行反转"><a href="#将一个字符串进行反转，将字符串中指定部分进行反转" class="header-anchor">#</a> 将一个字符串进行反转，将字符串中指定部分进行反转</h4> <p>比如“abcdefg”反转为”abfedcg”</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 方式一：</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">reverse1</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// start:2,end:5</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1.</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> charArray <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 2.</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> start<span class="token punctuation">,</span> j <span class="token operator">=</span> end<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> j<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">char</span> temp <span class="token operator">=</span> charArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            charArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> charArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            charArray<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 3.</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>charArray<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>


<span class="token comment">//方式二：使用String的拼接</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">reverse1</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span><span class="token keyword">int</span> startIndex<span class="token punctuation">,</span><span class="token keyword">int</span> endIndex<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>str <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//第1部分</span>
        <span class="token class-name">String</span> reverseStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>startIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//第2部分</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> endIndex<span class="token punctuation">;</span>i <span class="token operator">&gt;=</span> startIndex<span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            reverseStr <span class="token operator">+=</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//第3部分</span>
        reverseStr <span class="token operator">+=</span> str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>endIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> reverseStr<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//方式三：使用StringBuffer/StringBuilder替换String</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">reverse2</span><span class="token punctuation">(</span><span class="token class-name">String</span> str<span class="token punctuation">,</span> <span class="token keyword">int</span> startIndex<span class="token punctuation">,</span> <span class="token keyword">int</span> endIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//第1部分</span>
        builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> startIndex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//第2部分</span>
        <span class="token comment">//builder.append(new StringBuilder(str.substring(startIndex, endIndex + 1)).reverse());</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> endIndex<span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> startIndex<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//第3部分</span>
        builder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>endIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><h4 id="获取一个字符串在另一个字符串中出现的次数"><a href="#获取一个字符串在另一个字符串中出现的次数" class="header-anchor">#</a> 获取一个字符串在另一个字符串中出现的次数</h4> <p>比如:获取“ ab”在 “abkkcadkabkebfkabkskab” 中出现的次数</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token class-name">String</span> mainStr<span class="token punctuation">,</span> <span class="token class-name">String</span> subStr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mainStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> subStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// while((index = mainStr.indexOf(subStr)) != -1){</span>
        <span class="token comment">// count++;</span>
        <span class="token comment">// mainStr = mainStr.substring(index + subStr.length());</span>
        <span class="token comment">// }</span>
        <span class="token comment">// 改进：</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">=</span> mainStr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>subStr<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            index <span class="token operator">+=</span> subStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="获取两个字符串中最大相同子串"><a href="#获取两个字符串中最大相同子串" class="header-anchor">#</a> 获取两个字符串中最大相同子串</h4> <p>比如：str1 = &quot;abcwerthelloyuiodef“;str2 = &quot;cvhellobnm&quot;。</p> <p>提示：将短的那个串进行长度依次递减的子串与较长的串比较。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 如果只存在一个最大长度的相同子串</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMaxSameSubString</span><span class="token punctuation">(</span><span class="token class-name">String</span> str1<span class="token punctuation">,</span> <span class="token class-name">String</span> str2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str1 <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> str2 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> maxStr <span class="token operator">=</span> <span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> str2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> str1 <span class="token operator">:</span> str2<span class="token punctuation">;</span>
        <span class="token class-name">String</span> minStr <span class="token operator">=</span> <span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> str2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> str2 <span class="token operator">:</span> str1<span class="token punctuation">;</span>

        <span class="token keyword">int</span> len <span class="token operator">=</span> minStr<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// 0 1 2 3 4 此层循环决定要去几个字符</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> len <span class="token operator">-</span> i<span class="token punctuation">;</span> y <span class="token operator">&lt;=</span> len<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">,</span> y<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>maxStr<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>minStr<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

                    <span class="token keyword">return</span> minStr<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 如果存在多个长度相同的最大相同子串</span>
<span class="token comment">// 此时先返回String[]，后面可以用集合中的ArrayList替换，较方便</span>
<span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getMaxSameSubString1</span><span class="token punctuation">(</span><span class="token class-name">String</span> str1<span class="token punctuation">,</span> <span class="token class-name">String</span> str2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str1 <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> str2 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuffer</span> sBuffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> maxString <span class="token operator">=</span> <span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> str2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> str1 <span class="token operator">:</span> str2<span class="token punctuation">;</span>
        <span class="token class-name">String</span> minString <span class="token operator">=</span> <span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> str2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> str2 <span class="token operator">:</span> str1<span class="token punctuation">;</span>

        <span class="token keyword">int</span> len <span class="token operator">=</span> minString<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> len <span class="token operator">-</span> i<span class="token punctuation">;</span> y <span class="token operator">&lt;=</span> len<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">,</span> y<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> subString <span class="token operator">=</span> minString<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>maxString<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>subString<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    sBuffer<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>subString <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>sBuffer<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> split <span class="token operator">=</span> sBuffer<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;,$&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\\,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> split<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 如果存在多个长度相同的最大相同子串：使用ArrayList</span>
<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getMaxSameSubString1</span><span class="token punctuation">(</span><span class="token class-name">String</span> str1<span class="token punctuation">,</span> <span class="token class-name">String</span> str2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>str1 <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> str2 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> maxString <span class="token operator">=</span> <span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> str2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> str1 <span class="token operator">:</span> str2<span class="token punctuation">;</span>
        <span class="token class-name">String</span> minString <span class="token operator">=</span> <span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> str2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> str2 <span class="token operator">:</span> str1<span class="token punctuation">;</span>

        <span class="token keyword">int</span> len <span class="token operator">=</span> minString<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> len <span class="token operator">-</span> i<span class="token punctuation">;</span> y <span class="token operator">&lt;=</span> len<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">,</span> y<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> subString <span class="token operator">=</span> minString<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>maxString<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>subString<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>subString<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="对字符串中字符进行自然顺序排序"><a href="#对字符串中字符进行自然顺序排序" class="header-anchor">#</a> 对字符串中字符进行自然顺序排序</h4> <p>提示:</p> <ul><li>字符串变成字符数组。</li> <li>对数组排序，选择，冒泡，Arrays.sort();</li> <li>将排序后的数组变成字符串。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;abcwerthelloyuiodef&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> newStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="string、stringbuffer、stringbuilder区别及底层"><a href="#string、stringbuffer、stringbuilder区别及底层" class="header-anchor">#</a> String、StringBuffer、StringBuilder区别及底层</h3> <p>见笔记</p> <h3 id="stringbuilder常见面试题"><a href="#stringbuilder常见面试题" class="header-anchor">#</a> StringBuilder常见面试题</h3> <h4 id="程序输出1"><a href="#程序输出1" class="header-anchor">#</a> 程序输出1</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">StringBuffer</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 若String为null，则append后当做字符串&quot;null&quot;添加了</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 4，因为把null当字符串添加了</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//null</span>
<span class="token class-name">StringBuffer</span> sb1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//NullPointerException，底层会获取str的长度进行容量初始化</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sb1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="程序输出2"><a href="#程序输出2" class="header-anchor">#</a> 程序输出2</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> a <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> b <span class="token operator">=</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c <span class="token operator">==</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">11/10/2019, 1:13:27 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Java/Core/3 Error &amp; Exception.html" class="prev">3 Error &amp; Exception</a></span> <span class="next"><a href="/Java/Core/5 Generic.html">5 Generic</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.11b86352.js" defer></script><script src="/assets/js/2.dc2cb52a.js" defer></script><script src="/assets/js/9.1d245c90.js" defer></script>
  </body>
</html>
