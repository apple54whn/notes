<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>9 NIO（暂时未完成） | Conanan&#39;s Notes</title>
    <meta name="description" content="Good Good Study, Day Day Up!">
    
    
    <link rel="preload" href="/assets/css/0.styles.5d7a53ce.css" as="style"><link rel="preload" href="/assets/js/app.11b86352.js" as="script"><link rel="preload" href="/assets/js/2.dc2cb52a.js" as="script"><link rel="preload" href="/assets/js/24.10dbecb4.js" as="script"><link rel="prefetch" href="/assets/js/10.7ed53a9f.js"><link rel="prefetch" href="/assets/js/11.85d70dc7.js"><link rel="prefetch" href="/assets/js/12.6ca0a4c7.js"><link rel="prefetch" href="/assets/js/13.b66f44be.js"><link rel="prefetch" href="/assets/js/14.f7d36314.js"><link rel="prefetch" href="/assets/js/15.c9169b45.js"><link rel="prefetch" href="/assets/js/16.b3affa03.js"><link rel="prefetch" href="/assets/js/17.24a97ffb.js"><link rel="prefetch" href="/assets/js/18.f19a0f23.js"><link rel="prefetch" href="/assets/js/19.ccd87043.js"><link rel="prefetch" href="/assets/js/20.81aafd3b.js"><link rel="prefetch" href="/assets/js/21.0ca18de8.js"><link rel="prefetch" href="/assets/js/22.2ce051e4.js"><link rel="prefetch" href="/assets/js/23.e2addba7.js"><link rel="prefetch" href="/assets/js/25.8641a27b.js"><link rel="prefetch" href="/assets/js/26.e5fad68f.js"><link rel="prefetch" href="/assets/js/27.07d175e0.js"><link rel="prefetch" href="/assets/js/3.4d99fa19.js"><link rel="prefetch" href="/assets/js/4.4809e9ae.js"><link rel="prefetch" href="/assets/js/5.9f00f578.js"><link rel="prefetch" href="/assets/js/6.3ac5cf54.js"><link rel="prefetch" href="/assets/js/7.d18e475f.js"><link rel="prefetch" href="/assets/js/8.73262d74.js"><link rel="prefetch" href="/assets/js/9.1d245c90.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5d7a53ce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Conanan's Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Study" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/Core/1 Basic Syntax.html" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/Java/Framwork/1 Spring.html" class="nav-link">Framwork</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages2" class="dropdown-title"><span class="title">Languages2</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Group1</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li><li class="dropdown-item"><h4>Group2</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Study" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/Core/1 Basic Syntax.html" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/Java/Framwork/1 Spring.html" class="nav-link">Framwork</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages2" class="dropdown-title"><span class="title">Languages2</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Group1</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li><li class="dropdown-item"><h4>Group2</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Chinese</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Japanese</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Core</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Java/Core/0 Basic.html" class="sidebar-link">0 Basic</a></li><li><a href="/Java/Core/1 Basic Syntax.html" class="sidebar-link">1 Basic Syntax</a></li><li><a href="/Java/Core/2 Object Orientation.html" class="sidebar-link">2 Object Orientation</a></li><li><a href="/Java/Core/3 Error &amp; Exception.html" class="sidebar-link">3 Error &amp; Exception</a></li><li><a href="/Java/Core/4 API.html" class="sidebar-link">4 API</a></li><li><a href="/Java/Core/5 Generic.html" class="sidebar-link">5 Generic</a></li><li><a href="/Java/Core/6 Container.html" class="sidebar-link">6 Container</a></li><li><a href="/Java/Core/7 Thread.html" class="sidebar-link">7 Thread</a></li><li><a href="/Java/Core/7 Thread2.html" class="sidebar-link">7 Thread2</a></li><li><a href="/Java/Core/8 IO.html" class="sidebar-link">8 IO</a></li><li><a href="/Java/Core/9 NIO.html" class="active sidebar-link">9 NIO（暂时未完成）</a></li><li><a href="/Java/Core/10 AIO.html" class="sidebar-link">10 AIO（暂时未完成）</a></li><li><a href="/Java/Core/11 Network.html" class="sidebar-link">11 Network</a></li><li><a href="/Java/Core/12 Reflect.html" class="sidebar-link">12 Reflect—java.lang.reflect</a></li><li><a href="/Java/Core/13 Lambda.html" class="sidebar-link">13 Lambda</a></li><li><a href="/Java/Core/14 Stream API.html" class="sidebar-link">14 Stream API</a></li><li><a href="/Java/Core/15 Optional.html" class="sidebar-link">15 Optional</a></li><li><a href="/Java/Core/16 Test.html" class="sidebar-link">16 Test</a></li><li><a href="/Java/Core/17 设计原则&amp;设计模式.html" class="sidebar-link">17 设计原则及设计模式</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Code</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_9-nio（暂时未完成）"><a href="#_9-nio（暂时未完成）" class="header-anchor">#</a> 9 NIO（暂时未完成）</h1> <p></p><div class="table-of-contents"><ul><li><a href="#_9-nio（暂时未完成）">9 NIO（暂时未完成）</a></li></ul></div><p></p> <ul><li>Java NIO (New IO，Non-Blocking IO) 是从Java 1.4版本开始引入的一套新的IO API，可以替代标准的Java IO API。NIO与原来的IO有同样的作用和目的，但是使用的方式完全不同，NIO支持<strong>面向缓冲区</strong>的(IO是面向流的)、<strong>基于通道</strong>的IO操作。NIO将以更加高效的方式进行文件的读写操作。</li> <li>Java API中提供了两套NIO，一套是针对<strong>标准输入输出</strong>NIO，另一套就是<strong>网络编程</strong>NIO。</li> <li><code>java.nio.channels.Channel</code> <ul><li><code>FileChannel</code>：处理本地文件</li> <li><code>SocketChannel</code>：TCP网络编程的客户端的Channel</li> <li><code>ServerSocketChannel</code>：TCP网络编程的服务器端的Channel</li> <li><code>DatagramChannel</code>：UDP网络编程中发送端和接收端的Channel</li></ul></li> <li>随着 JDK 7 的发布，Java对NIO进行了极大的扩展，增强了对文件处理和文件系统特性的支持，以至于我们称他们为 NIO.2。 因为 NIO 提供的一些功能，NIO已经成为文件处理中越来越重要的部分。</li></ul> <ul><li><p>早期的Java只提供了一个<code>File</code>类来访问文件系统，但<code>File</code>类的功能比较有限，所提供的方法性能也不高。而且，大多数方法在出错时仅返回失败，并不会提供异常信息（如<code>renameTo</code>只返回 boolean，文件存在时重命名失败）。</p> <p>NIO. 2为了弥补这种不足，引入了<code>Path</code><strong>接口</strong>，代表一个平台无关的平台<strong>路径</strong>，描述了<strong>目录结构中文件的位置</strong>。<code>Path</code>可以看成是<code>File</code>类的升级版本，实际引用的资源也可以不存在。<code>Paths</code>则包含了两个返回<code>Path</code>的静态工厂方法。</p> <ul><li><p>在以前IO操作都是这样写的</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io</span><span class="token punctuation">.</span><span class="token class-name">File</span><span class="token punctuation">;</span>
<span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <ul><li><p>在Java7 中，我们可以这样写</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file</span><span class="token punctuation">.</span><span class="token class-name">Path</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file</span><span class="token punctuation">.</span><span class="token class-name">Paths</span><span class="token punctuation">;</span>
<span class="token class-name">Path</span> path <span class="token operator">=</span> <span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		
</code></pre></div></li></ul></li> <li><p><code>Path</code>：看成是<code>File</code>类的升级版本，实际引用的资源也可以不存在</p> <ul><li><code>String toString()</code> : 返回调用 Path 对象的字符串表示形式</li> <li><code>boolean startsWith(String path)</code> : 判断是否以 path 路径开始</li> <li><code>boolean endsWith(String path)</code> : 判断是否以 path 路径结束</li> <li><code>boolean isAbsolute()</code> : 判断是否是绝对路径</li> <li><code>Path getParent()</code> :返回Path对象包含整个路径，不包含 Path 对象指定的文件路径</li> <li><code>Path getRoot()</code>:返回调用 Path 对象的根路径</li> <li><code>Path getFileName()</code> : 返回与调用 Path 对象关联的文件名</li> <li><code>int getNameCount()</code> : 返回Path 根目录后面元素的数量</li> <li><code>Path getName(int idx)</code> : 返回指定索引位置 idx 的路径名称</li> <li><code>Path toAbsolutePath()</code> : 作为绝对路径返回调用 Path 对象</li> <li><code>Path resolve(Path p)</code> :合并两个路径，返回合并后的路径对应的Path对象</li> <li><code>File toFile()</code>: 将Path转化为File类的对象</li></ul></li> <li><p><code>Paths</code>：包含了两个返回<code>Path</code>的静态工厂方法</p> <ul><li><code>static Path get(String first, String ... more)</code>：用于将多个字符串串连成路径</li> <li><code>static Path get(URI uri)</code>：返回指定uri对应的Path路径</li></ul></li> <li><p><code>Files</code>：包含了大量静态的工具方法来操作文件或目录</p> <ul><li>常用方法
<ul><li><code>Path copy(Path src, Path dest, CopyOption ... how)</code> : 文件的复制</li> <li><code>Path createDirectory(Path path, FileAttribute&lt;?&gt; ... attr)</code> : 创建一个目录</li> <li><code>Path createFile(Path path, FileAttribute&lt;?&gt; ... arr)</code> : 创建一个文件</li> <li><code>void delete(Path path)</code> : 删除一个文件/目录，如果不存在，执行报错</li> <li><code>void deleteIfExists(Path path)</code> : Path对应的文件/目录如果存在，执行删除</li> <li><code>Path move(Path src, Path dest, CopyOption...how)</code> : 将 src 移动到 dest 位置</li> <li><code>long size(Path path)</code> : 返回 path 指定文件的大小</li></ul></li></ul> <ul><li>判断
<ul><li><code>boolean exists(Path path, LinkOption ... opts)</code> : 判断文件是否存在</li> <li><code>boolean isDirectory(Path path, LinkOption ... opts)</code> : 判断是否是目录</li> <li><code>boolean isRegularFile(Path path, LinkOption ... opts)</code> : 判断是否是文件</li> <li><code>boolean isHidden(Path path)</code> : 判断是否是隐藏文件</li> <li><code>boolean isReadable(Path path)</code>: 判断文件是否可读</li> <li><code>boolean isWritable(Path path)</code>: 判断文件是否可写</li> <li><code>boolean notExists(Path path, LinkOption ... opts)</code> : 判断文件是否不存在</li></ul></li> <li>操作内容
<ul><li><code>SeekableByteChannel newByteChannel(Path path, OpenOption...how)</code> : 获取与指定文件的连 接，how 指定打开方式。</li> <li><code>DirectoryStream&lt;Path&gt; newDirectoryStream(Path path)</code> : 打开 path 指定的目录</li> <li><code>InputStream newInputStream(Path path, OpenOption...how)</code>:获取 InputStream 对象</li> <li><code>OutputStream newOutputStream(Path path, OpenOption...how)</code> : 获取 OutputStream 对象</li></ul></li></ul></li> <li><p>Java7中新加的类</p> <ul><li><p><strong>Path接口</strong>表示路径</p></li> <li><p><strong>Paths类</strong>中<code>Paths.get()</code>接收一个或多个字符串，表示路径，<strong>可以不存在</strong></p></li> <li><p>Files类中有静态方法</p> <ul><li><p><code>public static long copy(Path source,OutputStream out)throws IOException</code> <strong>复制文件</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;数据库.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BufferedOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span>                          <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;copy数据库.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">11/10/2019, 1:13:27 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Java/Core/8 IO.html" class="prev">8 IO</a></span> <span class="next"><a href="/Java/Core/10 AIO.html">10 AIO（暂时未完成）</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.11b86352.js" defer></script><script src="/assets/js/2.dc2cb52a.js" defer></script><script src="/assets/js/24.10dbecb4.js" defer></script>
  </body>
</html>
