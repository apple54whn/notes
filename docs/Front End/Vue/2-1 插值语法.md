# 插值语法

## 文本—Mustache 语法

Mustache 语法 (双大括号) 

```html
<span>Message: {{ msg }}</span>
```

Mustache 标签将会被替代为对应数据对象上 `msg` 属性的值。无论何时，绑定的数据对象上 `msg` 属性发生了改变，插值处的内容都会更新。

**Mustache 中存放的是变量对象，即可以放方法（需带括号）**，若**用引号引用则视作字符串**不再解析。



## 文本—v-once

只渲染元素和组件**一次**。随后的重新渲染，**元素/组件及其所有的子节点**将被视为静态内容并跳过。这可以用于优化更新性能。通过使用 [v-once 指令](https://cn.vuejs.org/v2/api/#v-once)，你也能执行一次性地插值，当数据改变时，插值处的内容不会更新。但请留心这会影响到该节点上的其它数据绑定

```html
<!-- 单个元素 -->
<span v-once>This will never change: {{msg}}</span>
<!-- 有子元素 -->
<div v-once>
  <h1>comment</h1>
  <p>{{msg}}</p>
</div>
<!-- 组件 -->
<my-component v-once :comment="msg"></my-component>
<!-- `v-for` 指令-->
<ul>
  <li v-for="i in list" v-once>{{i}}</li>
</ul>
```



## 文本—v-text

作用和 Mustache 相似，更新元素的 `textContent`。如果要更新部分的 `textContent` ，需要使用 `{{ Mustache }}` 插值。但是**会覆盖该标签的内容**！不灵活，一般使用较少！



## 原始 HTML—v-html

**双大括号会将数据解释为普通文本**，而非 HTML 代码。为了输出真正的 HTML，你需要使用 `v-html`[ 指令](https://cn.vuejs.org/v2/api/#v-html)：

```html
<p>Using mustaches: {{ rawHtml }}</p>
<p>Using v-html directive: <span v-html="rawHtml"></span></p>
```

这个 `span` 的内容将会被替换成为属性值 `rawHtml`，直接作为 HTML——会忽略解析属性值中的数据绑定。注意，你不能使用 `v-html` 来复合局部模板，因为 Vue 不是基于字符串的模板引擎。反之，对于用户界面 (UI)，组件更适合作为可重用和可组合的基本单位。



## v-pre

如`<pre>`，**跳过这个元素和它的子元素**的**编译过程**。可用来**显示原始 Mustache 标签**。跳过大量没有指令的节点会加快编译。

```html
<span v-pre>{{ this will not be compiled }}</span>
```



## v-cloak

::: tip cloak

披风; 斗篷; 大衣; 氅

:::

这个指令**保持在元素上直到关联实例结束编译**，可以据此来实现判断。和 CSS 规则如 `[v-cloak] { display: none }` 一起用时，这个指令可以隐藏未编译的 Mustache 标签直到实例准备完毕。基本也不会使用，和虚拟DOM有关，没懂。

```css
[v-cloak] {
  display: none;
}
```

```html
<div v-cloak>
  {{ message }}
</div>
```

不会显示，直到编译结束。
