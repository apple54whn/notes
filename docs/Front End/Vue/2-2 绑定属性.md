# Class 与 Style 绑定属性

## 使用`:` 或 `v-bind`

-   **预期**：`any (with argument) | Object (without argument)`

-   **参数**：`attrOrProp (optional)`。大致理解 attr 为 HTML 属性（可自定义），prop 为 JS 属性

-   **修饰符**：

    -   `.prop` - 作为一个 DOM property 绑定而不是作为 attribute 绑定。([差别在哪里？](https://stackoverflow.com/questions/6003819/properties-and-attributes-in-html#answer-6004028))
    -   `.camel` - (2.1.0+) 将 kebab-case 特性名转换为 camelCase. (从 2.1.0 开始支持)。见Style绑定
    -   `.sync` (2.3.0+) 语法糖，会扩展成一个更新父组件绑定值的 `v-on` 侦听器。

-   **用法**：

    动态地绑定一个或多个特性，或一个组件 prop 到表达式。

    在绑定 `class` 或 `style` 特性时，**支持其它类型的值，如数组或对象**。可以通过下面的教程链接查看详情。

    在绑定 prop 时，prop 必须在子组件中声明。可以用修饰符指定不同的绑定类型。

    没有参数时，可以绑定到一个包含键值对的对象。注意此时 `class` 和 `style` 绑定不支持数组和对象。

-   **示例**：

    ```html
    <!-- 绑定一个属性 -->
    <img v-bind:src="imageSrc">
    <!-- 缩写 -->
    <img :src="imageSrc">
    
    <!-- 动态特性名 (2.6.0+) -->
    <button v-bind:[key]="value"></button>
    <!-- 动态特性名缩写 (2.6.0+) -->
    <button :[key]="value"></button>
    
    <!-- 绑定一个有属性的对象 -->
    <div v-bind="{ id: someProp, 'other-attr': otherProp }"></div>
    
    <!-- 通过 prop 修饰符绑定 DOM 属性 -->
    <div v-bind:text-content.prop="text"></div>
    
    <!-- prop 绑定。“prop”必须在 my-component 中声明。-->
    <my-component :prop="someThing"></my-component>
    
    <!-- 通过 $props 将父组件的 props 一起传给子组件 -->
    <child-component v-bind="$props"></child-component>
    
    <!-- XLink -->
    <svg><a :xlink:special="foo"></a></svg>
    ```

    `.camel` 修饰符允许在使用 DOM 模板时将 `v-bind` 属性名称驼峰化，例如 SVG 的 `viewBox` 属性：

    ```html
    <svg :view-box.camel="viewBox"></svg>
    ```

    在使用字符串模板或通过 `vue-loader`/`vueify` 编译时，无需使用 `.camel`。



## 绑定 HTML Class

*   绑定**对象**（使用很多）

    根据**值**的`truthy`（真值，除 `false`、`0`、`""`、`null`、`undefined` 和 `NaN` 以外）来**决定键的渲染**。

    会和**普通的 class 共存**。

    若过于**复杂**，可放入 methods 或 compute 中。**method必须加括号来调用**该方法（与@不一样！）；**compute 属性不用加括号**。**方法中只要返回对象或数组**。

    ```html
    <div class="my-class" :class="{ red: isRed, blod: isBlod }"></div>
    ```

    ```html
    <div class="my-class" :class="MyClassMethod()"></div>
    <div class="my-class" :class="MyClassCompute"></div>
    ```

    上述事例中若 isRed 为 false，isBlod 为 true，则渲染后的 class 只有 isBlod。常用于 toggle 切换 class，取反即可。

*   绑定**数组**（使用较少）细节同绑定对象

    ```html
    <!-- 若classA添加了引号如：'classA'则和普通class属性一样，没有响应式 -->
    <div :class="[classA, classB]"></div>
    ```

    当有多个条件 class 时，可以在数组中包含对象

    ```html
    <div :class="[classA, { classB: isB, classC: isC }]">
    ```

    当 isB 和 isC 都为真时，渲染为三个 class，其值根据变量取得



## 绑定内联样式 Style

常用于**组件化开发**时改变组建的样式

*   绑定对象（使用很多）

    与绑定 Class  不同的是：对象的键不是类名，而是属性名，且**属性名称支持 kebab-case 和 camelCase**。值为一个**变量**，**常量需要使用引号包裹**，否则当变量编译时报错。

    ```html
    <!-- style 绑定，size 为变量 -->
    <div :style="{ fontSize: size + 'px' }"></div>
    ```

*   绑定数组

    ```html
    <!-- styleObjectA,styleObjectB 为变量，保存的是对象-->
    <div :style="[styleObjectA, styleObjectB]"></div>
    ```



## 内联字符串拼接

```html
<!-- 内联字符串拼接，fileName为变量 -->
<img :src="'/path/to/images/' + fileName">
```

