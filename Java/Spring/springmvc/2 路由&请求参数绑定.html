<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š | Conanan</title>
    <meta name="description" content="Good Good Study, Day Day Up!">
    <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    
    <link rel="preload" href="/assets/css/0.styles.721694fb.css" as="style"><link rel="preload" href="/assets/js/app.4c2406b8.js" as="script"><link rel="preload" href="/assets/js/2.4ce794f3.js" as="script"><link rel="preload" href="/assets/js/176.8a72d21e.js" as="script"><link rel="preload" href="/assets/js/33.9b523a1b.js" as="script"><link rel="prefetch" href="/assets/js/10.23584843.js"><link rel="prefetch" href="/assets/js/100.c8b7e6eb.js"><link rel="prefetch" href="/assets/js/101.22710827.js"><link rel="prefetch" href="/assets/js/102.369790c1.js"><link rel="prefetch" href="/assets/js/103.a7c7b572.js"><link rel="prefetch" href="/assets/js/104.7e45de8b.js"><link rel="prefetch" href="/assets/js/105.4791b02d.js"><link rel="prefetch" href="/assets/js/106.61e23a2f.js"><link rel="prefetch" href="/assets/js/107.8ae0e37f.js"><link rel="prefetch" href="/assets/js/108.ad785e65.js"><link rel="prefetch" href="/assets/js/109.f6c3b7e5.js"><link rel="prefetch" href="/assets/js/11.1af6c419.js"><link rel="prefetch" href="/assets/js/110.55979e31.js"><link rel="prefetch" href="/assets/js/111.09bcf468.js"><link rel="prefetch" href="/assets/js/112.17a7c3b1.js"><link rel="prefetch" href="/assets/js/113.9f55e6f6.js"><link rel="prefetch" href="/assets/js/114.ae0d1063.js"><link rel="prefetch" href="/assets/js/115.2b45ae89.js"><link rel="prefetch" href="/assets/js/116.286c2ead.js"><link rel="prefetch" href="/assets/js/117.bd5437e0.js"><link rel="prefetch" href="/assets/js/118.4dd27249.js"><link rel="prefetch" href="/assets/js/119.7be1a2b0.js"><link rel="prefetch" href="/assets/js/12.bc5e4411.js"><link rel="prefetch" href="/assets/js/120.03a04cae.js"><link rel="prefetch" href="/assets/js/121.b657ffcb.js"><link rel="prefetch" href="/assets/js/122.eb76f0ee.js"><link rel="prefetch" href="/assets/js/123.cebd7ceb.js"><link rel="prefetch" href="/assets/js/124.be49618b.js"><link rel="prefetch" href="/assets/js/125.d7aa08e6.js"><link rel="prefetch" href="/assets/js/126.4ad7d0d8.js"><link rel="prefetch" href="/assets/js/127.fe7a1fc9.js"><link rel="prefetch" href="/assets/js/128.18adee58.js"><link rel="prefetch" href="/assets/js/129.65155f32.js"><link rel="prefetch" href="/assets/js/13.46b8bbae.js"><link rel="prefetch" href="/assets/js/130.115199fd.js"><link rel="prefetch" href="/assets/js/131.c30c37e8.js"><link rel="prefetch" href="/assets/js/132.800d09de.js"><link rel="prefetch" href="/assets/js/133.485f2c5a.js"><link rel="prefetch" href="/assets/js/134.68cc802a.js"><link rel="prefetch" href="/assets/js/135.b48b5611.js"><link rel="prefetch" href="/assets/js/136.273edc30.js"><link rel="prefetch" href="/assets/js/137.c51bf33b.js"><link rel="prefetch" href="/assets/js/138.cc73926e.js"><link rel="prefetch" href="/assets/js/139.7f0835b0.js"><link rel="prefetch" href="/assets/js/14.813fdf39.js"><link rel="prefetch" href="/assets/js/140.4b5c8664.js"><link rel="prefetch" href="/assets/js/141.f645668a.js"><link rel="prefetch" href="/assets/js/142.9c31754b.js"><link rel="prefetch" href="/assets/js/143.8dbb577a.js"><link rel="prefetch" href="/assets/js/144.615f3d5a.js"><link rel="prefetch" href="/assets/js/145.3372b6f7.js"><link rel="prefetch" href="/assets/js/146.9d166547.js"><link rel="prefetch" href="/assets/js/147.b35e2060.js"><link rel="prefetch" href="/assets/js/148.2ca9cb36.js"><link rel="prefetch" href="/assets/js/149.b7aae87e.js"><link rel="prefetch" href="/assets/js/15.c027e524.js"><link rel="prefetch" href="/assets/js/150.bad9858c.js"><link rel="prefetch" href="/assets/js/151.fd17d6b4.js"><link rel="prefetch" href="/assets/js/152.2567ef97.js"><link rel="prefetch" href="/assets/js/153.74559d88.js"><link rel="prefetch" href="/assets/js/154.7acecdef.js"><link rel="prefetch" href="/assets/js/155.f457419c.js"><link rel="prefetch" href="/assets/js/156.6fe3ee1a.js"><link rel="prefetch" href="/assets/js/157.fd08fd72.js"><link rel="prefetch" href="/assets/js/158.2b46cf37.js"><link rel="prefetch" href="/assets/js/159.3ace6e8d.js"><link rel="prefetch" href="/assets/js/16.485682dd.js"><link rel="prefetch" href="/assets/js/160.512cf1fa.js"><link rel="prefetch" href="/assets/js/161.0d0ee2ea.js"><link rel="prefetch" href="/assets/js/162.bbdff718.js"><link rel="prefetch" href="/assets/js/163.4fdc9dff.js"><link rel="prefetch" href="/assets/js/164.20d6ef11.js"><link rel="prefetch" href="/assets/js/165.2881201e.js"><link rel="prefetch" href="/assets/js/166.3c7c3ba0.js"><link rel="prefetch" href="/assets/js/167.2143078a.js"><link rel="prefetch" href="/assets/js/168.9f3840f3.js"><link rel="prefetch" href="/assets/js/169.2da8b99f.js"><link rel="prefetch" href="/assets/js/17.53e3a4c9.js"><link rel="prefetch" href="/assets/js/170.997a014a.js"><link rel="prefetch" href="/assets/js/171.addd9a55.js"><link rel="prefetch" href="/assets/js/172.d3d12b0c.js"><link rel="prefetch" href="/assets/js/173.ebd6be51.js"><link rel="prefetch" href="/assets/js/174.c3546734.js"><link rel="prefetch" href="/assets/js/175.e786b04c.js"><link rel="prefetch" href="/assets/js/177.4d74c35d.js"><link rel="prefetch" href="/assets/js/178.05b55aba.js"><link rel="prefetch" href="/assets/js/179.06c93c02.js"><link rel="prefetch" href="/assets/js/18.dac780ce.js"><link rel="prefetch" href="/assets/js/180.7a721d6a.js"><link rel="prefetch" href="/assets/js/181.854b3f72.js"><link rel="prefetch" href="/assets/js/182.19f58d6b.js"><link rel="prefetch" href="/assets/js/183.8f49d5b6.js"><link rel="prefetch" href="/assets/js/184.2128f02f.js"><link rel="prefetch" href="/assets/js/19.5bd66b43.js"><link rel="prefetch" href="/assets/js/20.8b0be400.js"><link rel="prefetch" href="/assets/js/21.26154688.js"><link rel="prefetch" href="/assets/js/22.75f3ad5d.js"><link rel="prefetch" href="/assets/js/23.205b8a93.js"><link rel="prefetch" href="/assets/js/24.78eaf948.js"><link rel="prefetch" href="/assets/js/25.5ac44d02.js"><link rel="prefetch" href="/assets/js/26.44e96c5e.js"><link rel="prefetch" href="/assets/js/27.9149de82.js"><link rel="prefetch" href="/assets/js/28.a117fe70.js"><link rel="prefetch" href="/assets/js/29.03c4dd26.js"><link rel="prefetch" href="/assets/js/3.a07e7c66.js"><link rel="prefetch" href="/assets/js/30.add3b4ce.js"><link rel="prefetch" href="/assets/js/31.c168f15b.js"><link rel="prefetch" href="/assets/js/32.6df3dd67.js"><link rel="prefetch" href="/assets/js/34.87d0684d.js"><link rel="prefetch" href="/assets/js/35.07031e68.js"><link rel="prefetch" href="/assets/js/36.b2d8e023.js"><link rel="prefetch" href="/assets/js/37.6693f2b8.js"><link rel="prefetch" href="/assets/js/38.0adc87b6.js"><link rel="prefetch" href="/assets/js/39.4ee1b450.js"><link rel="prefetch" href="/assets/js/4.3601d982.js"><link rel="prefetch" href="/assets/js/40.3a15c4d2.js"><link rel="prefetch" href="/assets/js/41.5089de95.js"><link rel="prefetch" href="/assets/js/42.b6c516e6.js"><link rel="prefetch" href="/assets/js/43.4d729b64.js"><link rel="prefetch" href="/assets/js/44.afb6ada5.js"><link rel="prefetch" href="/assets/js/45.f90fef77.js"><link rel="prefetch" href="/assets/js/46.3f992a07.js"><link rel="prefetch" href="/assets/js/47.3df4792a.js"><link rel="prefetch" href="/assets/js/48.b1b42695.js"><link rel="prefetch" href="/assets/js/49.1f57735c.js"><link rel="prefetch" href="/assets/js/5.c77010ac.js"><link rel="prefetch" href="/assets/js/50.fb1f131c.js"><link rel="prefetch" href="/assets/js/51.621e6bbe.js"><link rel="prefetch" href="/assets/js/52.d3c5f8e8.js"><link rel="prefetch" href="/assets/js/53.fc428b5d.js"><link rel="prefetch" href="/assets/js/54.a8c7b4e7.js"><link rel="prefetch" href="/assets/js/55.9491ad4c.js"><link rel="prefetch" href="/assets/js/56.cc5535aa.js"><link rel="prefetch" href="/assets/js/57.08a4a942.js"><link rel="prefetch" href="/assets/js/58.ea5e0d13.js"><link rel="prefetch" href="/assets/js/59.e9ab1cc2.js"><link rel="prefetch" href="/assets/js/6.3dc37407.js"><link rel="prefetch" href="/assets/js/60.a0651ffe.js"><link rel="prefetch" href="/assets/js/61.9657adee.js"><link rel="prefetch" href="/assets/js/62.5522a97a.js"><link rel="prefetch" href="/assets/js/63.2c5c6db3.js"><link rel="prefetch" href="/assets/js/64.57e79c12.js"><link rel="prefetch" href="/assets/js/65.5e0e9f19.js"><link rel="prefetch" href="/assets/js/66.e80de9ef.js"><link rel="prefetch" href="/assets/js/67.147e8e38.js"><link rel="prefetch" href="/assets/js/68.26a3c0d4.js"><link rel="prefetch" href="/assets/js/69.8f293aac.js"><link rel="prefetch" href="/assets/js/7.53864b7a.js"><link rel="prefetch" href="/assets/js/70.291565bb.js"><link rel="prefetch" href="/assets/js/71.fe0bdf0f.js"><link rel="prefetch" href="/assets/js/72.61d2bc84.js"><link rel="prefetch" href="/assets/js/73.9fcb62aa.js"><link rel="prefetch" href="/assets/js/74.9d682c13.js"><link rel="prefetch" href="/assets/js/75.3264a4ce.js"><link rel="prefetch" href="/assets/js/76.1f8b1f97.js"><link rel="prefetch" href="/assets/js/77.32b48d28.js"><link rel="prefetch" href="/assets/js/78.b50a8708.js"><link rel="prefetch" href="/assets/js/79.e9abf630.js"><link rel="prefetch" href="/assets/js/8.50c01faa.js"><link rel="prefetch" href="/assets/js/80.180a3806.js"><link rel="prefetch" href="/assets/js/81.7800a9ae.js"><link rel="prefetch" href="/assets/js/82.388bd268.js"><link rel="prefetch" href="/assets/js/83.27d7c820.js"><link rel="prefetch" href="/assets/js/84.a7be62b6.js"><link rel="prefetch" href="/assets/js/85.e286c095.js"><link rel="prefetch" href="/assets/js/86.84fed10f.js"><link rel="prefetch" href="/assets/js/87.4b95dccb.js"><link rel="prefetch" href="/assets/js/88.dd70f5b5.js"><link rel="prefetch" href="/assets/js/89.4a04d404.js"><link rel="prefetch" href="/assets/js/9.947b77c2.js"><link rel="prefetch" href="/assets/js/90.699f3eeb.js"><link rel="prefetch" href="/assets/js/91.9f21bc4f.js"><link rel="prefetch" href="/assets/js/92.8e8caa65.js"><link rel="prefetch" href="/assets/js/93.08b1a369.js"><link rel="prefetch" href="/assets/js/94.8aa7234f.js"><link rel="prefetch" href="/assets/js/95.1d25fc22.js"><link rel="prefetch" href="/assets/js/96.8bb62cc7.js"><link rel="prefetch" href="/assets/js/97.eed16352.js"><link rel="prefetch" href="/assets/js/98.623e948b.js"><link rel="prefetch" href="/assets/js/99.45cfef32.js">
    <link rel="stylesheet" href="/assets/css/0.styles.721694fb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Conanan</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Basic" class="dropdown-title"><span class="title">Basic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>OS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Basic/OS/Linux/0 Intro.html" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/Basic/OS/Docker/0 Docker.html" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/Basic/OS/K8/0 Intro.html" class="nav-link">K8</a></li></ul></li><li class="dropdown-item"><h4>Network</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Basic/Network/TCP/IP/0 Intro.html" class="nav-link">TCP/IP</a></li><li class="dropdown-subitem"><a href="/Basic/Network/HTTP/0 Intro.html" class="nav-link">HTTP</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DataBase" class="dropdown-title"><span class="title">DataBase</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/DataBase/RDBMS/0 Primer.html" class="nav-link">RDBMS</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Redis/0 Intro.html" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Mongo/0 Intro.html" class="nav-link">Mongo</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Lucene/0 Primer.html" class="nav-link">Lucene</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Solr/0 Primer.html" class="nav-link">Solr</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Elasticsearch/0 Primer.html" class="nav-link">Elasticsearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Design" class="dropdown-title"><span class="title">Design</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Design/Design Pattern/0 Intro.html" class="nav-link">Design Pattern</a></li><li class="dropdown-item"><!----> <a href="/Design/DDD/0 Basic.html" class="nav-link">DDD</a></li><li class="dropdown-item"><!----> <a href="/Design/MicroServer/0 Intro.html" class="nav-link">MicroServer</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Study" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/Core/0 Basic.html" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/Java/Jakarta EE/0 Servlet.html" class="nav-link">Jakarta EE</a></li><li class="dropdown-item"><!----> <a href="/Java/Spring/primer/0 Primer.html" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/Java/Persistence/Mybatis/0 Primer.html" class="nav-link">Persistence</a></li><li class="dropdown-item"><!----> <a href="/Java/Authe&amp;Autho/0 Primer.html" class="nav-link">è®¤è¯&amp;æˆæƒ</a></li><li class="dropdown-item"><h4>åˆ†å¸ƒå¼&amp;å¾®æœåŠ¡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Dubbo</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Spring Cloud Netflix</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Spring Cloud Alibaba</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Tools/Vim/Vim.html" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/Tools/Git/Git.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/Tools/Maven/Maven.html" class="nav-link">Maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Server" class="dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Server/Tomcat/0 Primer.html" class="nav-link">Tomcat</a></li><li class="dropdown-item"><!----> <a href="/Server/Nginx/0 Primer.html" class="nav-link">Nginx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><span class="title">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Front End/H5&amp;CSS3/1 HTML.html" class="nav-link">H5&amp;CSS3</a></li><li class="dropdown-item"><!----> <a href="/Front End/JS/0 å…¥é—¨-0 å…¥é—¨.html" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/Front End/NodeJS/NodeJS-1 å…¥é—¨.html" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/Front End/Vue/1-1 Primer.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/Front End/å¾®ä¿¡å°ç¨‹åº/1-1 Primer.html" class="nav-link">å¾®ä¿¡å°ç¨‹åº</a></li><li class="dropdown-item"><!----> <a href="/Front End/Android/0 Intro.html" class="nav-link">Android</a></li><li class="dropdown-item"><!----> <a href="/Front End/Flutter/0 Intro.html" class="nav-link">Flutter</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Environment" class="dropdown-title"><span class="title">Environment</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Environment/macOS/macOS.html" class="nav-link">macOS</a></li><li class="dropdown-item"><!----> <a href="/Environment/Windows/Windows.html" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/Environment/Software/IDEA.html" class="nav-link">Software</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project" class="dropdown-title"><span class="title">Project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Project/ç”µå•†/ç®€ä»‹.html" class="nav-link">ç”µå•†</a></li><li class="dropdown-item"><!----> <a href="/Environment/Linux/Linux.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/Environment/Windows/Windows.html" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/Environment/Software/Software.html" class="nav-link">Software</a></li></ul></div></div> <a href="https://github.com/apple54whn/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Basic" class="dropdown-title"><span class="title">Basic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>OS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Basic/OS/Linux/0 Intro.html" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/Basic/OS/Docker/0 Docker.html" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/Basic/OS/K8/0 Intro.html" class="nav-link">K8</a></li></ul></li><li class="dropdown-item"><h4>Network</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Basic/Network/TCP/IP/0 Intro.html" class="nav-link">TCP/IP</a></li><li class="dropdown-subitem"><a href="/Basic/Network/HTTP/0 Intro.html" class="nav-link">HTTP</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DataBase" class="dropdown-title"><span class="title">DataBase</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/DataBase/RDBMS/0 Primer.html" class="nav-link">RDBMS</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Redis/0 Intro.html" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Mongo/0 Intro.html" class="nav-link">Mongo</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Lucene/0 Primer.html" class="nav-link">Lucene</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Solr/0 Primer.html" class="nav-link">Solr</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Elasticsearch/0 Primer.html" class="nav-link">Elasticsearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Design" class="dropdown-title"><span class="title">Design</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Design/Design Pattern/0 Intro.html" class="nav-link">Design Pattern</a></li><li class="dropdown-item"><!----> <a href="/Design/DDD/0 Basic.html" class="nav-link">DDD</a></li><li class="dropdown-item"><!----> <a href="/Design/MicroServer/0 Intro.html" class="nav-link">MicroServer</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Study" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/Core/0 Basic.html" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/Java/Jakarta EE/0 Servlet.html" class="nav-link">Jakarta EE</a></li><li class="dropdown-item"><!----> <a href="/Java/Spring/primer/0 Primer.html" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/Java/Persistence/Mybatis/0 Primer.html" class="nav-link">Persistence</a></li><li class="dropdown-item"><!----> <a href="/Java/Authe&amp;Autho/0 Primer.html" class="nav-link">è®¤è¯&amp;æˆæƒ</a></li><li class="dropdown-item"><h4>åˆ†å¸ƒå¼&amp;å¾®æœåŠ¡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Dubbo</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Spring Cloud Netflix</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Spring Cloud Alibaba</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Tools/Vim/Vim.html" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/Tools/Git/Git.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/Tools/Maven/Maven.html" class="nav-link">Maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Server" class="dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Server/Tomcat/0 Primer.html" class="nav-link">Tomcat</a></li><li class="dropdown-item"><!----> <a href="/Server/Nginx/0 Primer.html" class="nav-link">Nginx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><span class="title">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Front End/H5&amp;CSS3/1 HTML.html" class="nav-link">H5&amp;CSS3</a></li><li class="dropdown-item"><!----> <a href="/Front End/JS/0 å…¥é—¨-0 å…¥é—¨.html" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/Front End/NodeJS/NodeJS-1 å…¥é—¨.html" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/Front End/Vue/1-1 Primer.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/Front End/å¾®ä¿¡å°ç¨‹åº/1-1 Primer.html" class="nav-link">å¾®ä¿¡å°ç¨‹åº</a></li><li class="dropdown-item"><!----> <a href="/Front End/Android/0 Intro.html" class="nav-link">Android</a></li><li class="dropdown-item"><!----> <a href="/Front End/Flutter/0 Intro.html" class="nav-link">Flutter</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Environment" class="dropdown-title"><span class="title">Environment</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Environment/macOS/macOS.html" class="nav-link">macOS</a></li><li class="dropdown-item"><!----> <a href="/Environment/Windows/Windows.html" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/Environment/Software/IDEA.html" class="nav-link">Software</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project" class="dropdown-title"><span class="title">Project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Project/ç”µå•†/ç®€ä»‹.html" class="nav-link">ç”µå•†</a></li><li class="dropdown-item"><!----> <a href="/Environment/Linux/Linux.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/Environment/Windows/Windows.html" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/Environment/Software/Software.html" class="nav-link">Software</a></li></ul></div></div> <a href="https://github.com/apple54whn/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Primer</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>SpringMVC</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Java/Spring/springmvc/1 æ¦‚è¿°.html" class="sidebar-link">æ¦‚è¿°</a></li><li><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html" class="active sidebar-link">è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#restful" class="sidebar-link">RESTful</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#è·¯ç”±" class="sidebar-link">è·¯ç”±</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#controller" class="sidebar-link">@Controller</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#restcontroller-ğŸ”¥" class="sidebar-link">@RestController ğŸ”¥</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#requestmapping" class="sidebar-link">@RequestMapping</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#getmapping" class="sidebar-link">@GetMapping</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#postmapping" class="sidebar-link">@PostMapping</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#putmapping" class="sidebar-link">@PutMapping</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#deletemapping" class="sidebar-link">@DeleteMapping</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#patchmapping" class="sidebar-link">@PatchMapping</a></li></ul></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#url-å‚æ•°" class="sidebar-link">Url å‚æ•°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#ç»å…¸â€”-requestparam" class="sidebar-link">ç»å…¸â€” @RequestParam</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#restful-â€”-pathvariable" class="sidebar-link">RESTful â€” @PathVariable</a></li></ul></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#body-å‚æ•°" class="sidebar-link">Body å‚æ•°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#get-è¡¨å•â€”åŒ-requestparam" class="sidebar-link">GET è¡¨å•â€”åŒ @RequestParam</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#post-è¡¨å•â€”ç›´æ¥-pojo-æ¥æ”¶" class="sidebar-link">POST è¡¨å•â€”ç›´æ¥ POJO æ¥æ”¶</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#jsonâ€”-requestbody" class="sidebar-link">JSONâ€”@RequestBody</a></li></ul></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#å…¶ä»–æ¥æ”¶å‚æ•°æ–¹å¼" class="sidebar-link">å…¶ä»–æ¥æ”¶å‚æ•°æ–¹å¼</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#datetimeformat" class="sidebar-link">@DateTimeFormat</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#é»˜è®¤ç±»å‹è½¬æ¢å™¨" class="sidebar-link">é»˜è®¤ç±»å‹è½¬æ¢å™¨</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨" class="sidebar-link">è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#map-æ¥æ”¶å‚æ•°" class="sidebar-link">Map æ¥æ”¶å‚æ•°</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#servlet-api" class="sidebar-link">Servlet Api</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#requestheader" class="sidebar-link">@RequestHeader</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#cookievalue" class="sidebar-link">@CookieValue</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#sessionattribute" class="sidebar-link">@SessionAttribute</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#modelattribute" class="sidebar-link">@ModelAttribute</a></li></ul></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#multipart-æ–‡ä»¶" class="sidebar-link">Multipart æ–‡ä»¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#æ–‡ä»¶ä¸Šä¼ çš„å›é¡¾" class="sidebar-link">æ–‡ä»¶ä¸Šä¼ çš„å›é¡¾</a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#springmvcä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ " class="sidebar-link">SpringMVCä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ </a></li><li class="sidebar-sub-header"><a href="/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.html#springmvcè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ " class="sidebar-link">SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ </a></li></ul></li></ul></li><li><a href="/Java/Spring/springmvc/3 å“åº”ç»“æœ.html" class="sidebar-link">å“åº”ç»“æœ</a></li><li><a href="/Java/Spring/springmvc/4 Interceptor.html" class="sidebar-link">Interceptor</a></li><li><a href="/Java/Spring/springmvc/5 ExceptionHandler.html" class="sidebar-link">ExceptionHandler &amp; å…¨å±€å¼‚å¸¸å¤„ç†</a></li><li><a href="/Java/Spring/springmvc/6 CORS.html" class="sidebar-link">è·¨æºé—®é¢˜</a></li><li><a href="/Java/Spring/springmvc/11 Jackson.html" class="sidebar-link">Jackson</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Other</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Shiro</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="è·¯ç”±-è¯·æ±‚å‚æ•°ç»‘å®š"><a href="#è·¯ç”±-è¯·æ±‚å‚æ•°ç»‘å®š" class="header-anchor">#</a> è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š</h1> <h2 id="restful"><a href="#restful" class="header-anchor">#</a> RESTful</h2> <p>RESTfulæ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚ä½¿ç”¨POSTã€DELETEã€PUTã€GETï¼Œä½¿ç”¨ä¸åŒæ–¹æ³•å¯¹èµ„æºè¿›è¡Œæ“ä½œï¼Œåˆ†åˆ«å¯¹åº”  æ·»åŠ ã€ åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢</p> <p>éœ€æ±‚ï¼šRESTfulæ–¹å¼å®ç°å•†å“ä¿¡æ¯æŸ¥è¯¢ï¼Œè¿”å›jsonæ•°æ®</p> <p><strong>ä»URLä¸Šè·å–å‚æ•°</strong>ï¼šæ ¹æ®idæŸ¥è¯¢å•†å“ï¼Œä½¿ç”¨RESTfulé£æ ¼å¼€å‘çš„æ¥å£åœ°å€æ˜¯ï¼šhttp://127.0.0.1/item/1</p> <ul><li><p>æ³¨è§£<code>@RequestMapping(&quot;item/{id}&quot;)</code>å£°æ˜è¯·æ±‚çš„URLï¼Œ<code>{xxx}</code>ä¸ºå ä½ç¬¦ï¼Œè¯·æ±‚çš„URLæ˜¯â€œ<code>item /1</code>â€</p></li> <li><p>ä½¿ç”¨<code>@PathVariable() Integer id</code>è·å–URLä¸Šçš„æ•°æ®</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;item/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@ResponseBody</span> <span class="token class-name">Item</span> <span class="token function">queryItemById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Item</span> item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>itemService<span class="token punctuation">.</span><span class="token function">queryItemById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> item<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>å¦‚æœ<code>@RequestMapping</code>ä¸­è¡¨ç¤ºä¸º&quot;<code>item/{id}</code>&quot;ï¼Œidå’Œå½¢å‚åç§°ä¸€è‡´ï¼Œ<code>@PathVariable</code>ä¸ç”¨æŒ‡å®šåç§°ã€‚å¦‚æœä¸ä¸€è‡´ï¼Œä¾‹å¦‚&quot;<code>item/{ItemId}</code>&quot;åˆ™éœ€è¦æŒ‡å®šåç§°<code>@PathVariable(&quot;itemId&quot;)</code></li></ul></li> <li><p><strong>æ³¨æ„</strong>ï¼š</p> <ul><li>@PathVariableæ˜¯è·å–urlä¸Šæ•°æ®çš„ã€‚@RequestParamè·å–è¯·æ±‚å‚æ•°çš„ï¼ˆåŒ…æ‹¬postè¡¨å•æäº¤ï¼‰</li> <li>å¦‚æœåŠ ä¸Š@ResponseBodyæ³¨è§£ï¼Œå°±ä¸ä¼šèµ°è§†å›¾è§£æå™¨ï¼Œä¸ä¼šè¿”å›é¡µé¢ï¼Œè¿”å›å¦‚jsonæ•°æ®ã€‚å¦‚æœä¸åŠ ï¼Œå°±èµ°è§†å›¾è§£æå™¨ï¼Œè¿”å›é¡µé¢</li></ul></li></ul> <ul><li>æ³¨æ„ï¼š
<ul><li><strong>è¡¨å•</strong>åªæ”¯æŒGETã€POSTè¯·æ±‚ï¼Œè‹¥è¦å‘é€å…¶ä»–è¯·æ±‚ï¼ˆä¸€èˆ¬ä¹Ÿä¸ä¼šä½¿ç”¨è¡¨å•å‘é€å…¶ä»–è¯·æ±‚ï¼‰ï¼Œ<strong>è¡¨å•</strong>æœ¬èº«è®¾ç½®ä¸ºPOSTè¯·æ±‚ï¼Œå¹¶éœ€è¦inputä¸­å±æ€§<code>name=&quot;_method&quot; value=&quot;PUT&quot;</code></li> <li>åç«¯ä¸­éœ€è¦é…ç½®è¿‡æ»¤å™¨<code>org.springframework.web.filter.HiddenHttpMethodFilter</code></li> <li>Ajax æ”¯æŒå…¶ä»–ç±»å‹çš„è¯·æ±‚</li></ul></li></ul> <h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="header-anchor">#</a> è·¯ç”±</h2> <h3 id="controller"><a href="#controller" class="header-anchor">#</a> @Controller</h3> <h3 id="restcontroller-ğŸ”¥"><a href="#restcontroller-ğŸ”¥" class="header-anchor">#</a> @RestController ğŸ”¥</h3> <p>æ˜¯<code>@Controller</code>å’Œ<code>@ResponseBody</code>çš„ç»„åˆ</p> <p>ä½¿ç”¨ @ResponseBody ä¼šè‡ªåŠ¨è®¾ç½®å¦‚ä¸‹ä»£ç ï¼š</p> <ul><li><p>è®¾ç½® ContentTypeã€MIME Typeã€‚å¦‚ä½¿ç”¨ UTF-8 è§£å†³ä¹±ç </p> <div class="language-java extra-class"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;application/json;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¿”å›å¯¹è±¡ä¸º Object æ—¶</span>
response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/plain;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¿”å›å¯¹è±¡ä¸º String æ—¶</span>
</code></pre></div></li> <li><p>åºåˆ—åŒ–ã€è°ƒç”¨ response çš„è¾“å‡ºæ–¹æ³•</p> <div class="language-java extra-class"><pre class="language-java"><code>response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello æµ‹è¯•2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è‹¥è¾“å‡ºå¯¹è±¡ï¼Œåˆ™çœæ‰æ‰‹åŠ¨åºåˆ—å·æ“ä½œ</span>
</code></pre></div></li></ul> <h3 id="requestmapping"><a href="#requestmapping" class="header-anchor">#</a> @RequestMapping</h3> <p>å°è£…äº† Servlet çš„ url-partten</p> <p>ä½œç”¨ï¼šç”¨äº<strong>å»ºç«‹è¯·æ±‚ URL</strong> å’Œ<strong>å¤„ç†è¯·æ±‚æ–¹æ³•</strong>ä¹‹é—´çš„å¯¹åº”<strong>å…³ç³»</strong>ã€‚<strong>æ‰€æœ‰è¯·æ±‚æ–¹æ³•éƒ½ä¼šç»è¿‡æ­¤è·¯ç”±</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>METHOD<span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@Mapping</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">RequestMapping</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">path</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token class-name">RequestMethod</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">params</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">headers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">consumes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">produces</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å‡ºç°ä½ç½®ï¼š</p> <ul><li><p><strong>ç±»</strong>ä¸Šï¼šè¯·æ±‚URLçš„<strong>ç¬¬ä¸€çº§è®¿é—®ç›®å½•</strong>ï¼Œæ¨¡å—åŒ–ç®¡ç†ã€‚æ­¤å¤„ä¸å†™çš„è¯ï¼Œå°±ç›¸å½“äºåº”ç”¨çš„æ ¹ç›®å½•ã€‚å†™çš„è¯éœ€è¦ä»¥<code>/</code>å¼€å¤´ï¼Œå¦‚<code>/user</code></p></li> <li><p><strong>æ–¹æ³•</strong>ä¸Šï¼šè¯·æ±‚ URL çš„<strong>ç¬¬äºŒçº§è®¿é—®ç›®å½•</strong>ã€‚ å¦‚<code>/add</code>ã€‚ä½†æ˜¯RESTfulé£æ ¼çš„å¯ä»¥ä½¿ç”¨<code>@**Mapping</code>æ›¿ä»£</p> <p>å½“ä½¿ç”¨åˆ†çº§é…ç½®æ—¶ï¼Œå‰ç«¯é¡µé¢çš„è¯·æ±‚è·¯å¾„ä¸­ï¼Œè¦ä¹ˆå†™ç»å¯¹è·¯å¾„å³å¸¦<code>/</code>å’Œé¡¹ç›®åï¼Œè¦ä¹ˆå†™<strong>ç›¸å¯¹è·¯å¾„ä¸å¸¦<code>/</code></strong>ï¼ˆè¡¨ç¤ºç›¸å¯¹åº”ç”¨çš„æ ¹ç›®å½•ï¼‰ï¼Œå¦åˆ™404</p></li></ul> <p>å±æ€§ï¼š</p> <ul><li><p><code>value</code>ï¼šç”¨äºæŒ‡å®š<strong>è¯·æ±‚çš„ URLæ•°ç»„</strong>ã€‚å®ƒå’Œ <strong>path</strong> å±æ€§çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚<strong>å¤§å°å†™æ•æ„Ÿ</strong>ã€‚</p></li> <li><p><code>method</code>ï¼šç”¨äºæŒ‡å®š<strong>è¯·æ±‚çš„æ–¹å¼</strong>ï¼Œå€¼ä¸º<code>RequestMethod</code>æšä¸¾ç±»<strong>æ•°ç»„</strong>ã€‚</p> <p>å¯ä»¥æœ‰<strong>å¤šä¸ªè¯·æ±‚æ–¹å¼æ˜ å°„ä¸€ä¸ªæ–¹æ³•</strong>ï¼Œä½†æ˜¯ä¸‹é¢çš„ç®€å†™æ³¨è§£ä¸å¯ä»¥åœ¨åŒä¸€ä¸ªæ–¹æ³•ä¸­ä½¿ç”¨å¤šä¸ªï¼Œå¦åˆ™<strong>åªæœ‰æœ€å…ˆå†™çš„èµ·ä½œç”¨</strong>ï¼</p></li> <li><p><code>params</code>ï¼šç”¨äºæŒ‡å®šé™åˆ¶è¯·æ±‚å‚æ•°çš„æ¡ä»¶ã€‚å®ƒæ”¯æŒç®€å•çš„è¡¨è¾¾å¼ã€‚è¦æ±‚è¯·æ±‚å‚æ•°çš„keyå’Œvalueå¿…é¡»å’Œé…ç½®çš„ä¸€æ¨¡ä¸€æ ·ã€‚å¦‚ï¼š</p> <ul><li><code>params = {&quot;accountName&quot;}</code>ï¼Œè¡¨ç¤ºè¯·æ±‚å‚æ•°å¿…é¡»æœ‰ accountName</li> <li><code>params = {&quot;moeny!100&quot;}</code>ï¼Œè¡¨ç¤ºè¯·æ±‚å‚æ•°ä¸­ money ä¸èƒ½æ˜¯ 100</li></ul></li> <li><p><code>headers</code>ï¼šç”¨äºé™å®šå‘é€çš„è¯·æ±‚ä¸­å¿…é¡»åŒ…å«æŸè¯·æ±‚å¤´</p></li></ul> <h3 id="getmapping"><a href="#getmapping" class="header-anchor">#</a> @GetMapping</h3> <p>ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œæ›¿ä»£æ–¹æ³•çš„<code>@RequestMapping</code></p> <h3 id="postmapping"><a href="#postmapping" class="header-anchor">#</a> @PostMapping</h3> <p>ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œæ›¿ä»£æ–¹æ³•çš„<code>@RequestMapping</code></p> <h3 id="putmapping"><a href="#putmapping" class="header-anchor">#</a> @PutMapping</h3> <p>ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œæ›¿ä»£æ–¹æ³•çš„<code>@RequestMapping</code></p> <h3 id="deletemapping"><a href="#deletemapping" class="header-anchor">#</a> @DeleteMapping</h3> <p>ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œæ›¿ä»£æ–¹æ³•çš„<code>@RequestMapping</code></p> <h3 id="patchmapping"><a href="#patchmapping" class="header-anchor">#</a> @PatchMapping</h3> <p>ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œæ›¿ä»£æ–¹æ³•çš„<code>@RequestMapping</code>ã€‚éƒ¨åˆ†æ›´æ–°</p> <h2 id="url-å‚æ•°"><a href="#url-å‚æ•°" class="header-anchor">#</a> Url å‚æ•°</h2> <h3 id="ç»å…¸â€”-requestparam"><a href="#ç»å…¸â€”-requestparam" class="header-anchor">#</a> ç»å…¸â€” <code>@RequestParam</code></h3> <p>ç”¨äºæ˜ å°„<strong>è¯·æ±‚çš„å‚æ•°å</strong>å’Œ<strong>å¤„ç†å™¨å½¢å‚å</strong>ï¼Œ å½“äºŒè€…ä¸€è‡´æ—¶ï¼ˆ<strong>åŒºåˆ†å¤§å°å†™</strong>ï¼‰å¯çœç•¥è¯¥æ³¨è§£ï¼</p> <p>æ³¨æ„ï¼š</p> <ul><li>ğŸ”¥å‚æ•°ç±»å‹<strong>æ¨è</strong>ä½¿ç”¨<strong>åŒ…è£…æ•°æ®ç±»å‹</strong>ï¼Œå› ä¸ºåŸºç¡€æ•°æ®ç±»å‹ä¸å¯ä¸ºnullï¼›</li> <li>ğŸ”¥<strong>Boolean å¸ƒå°”ç±»å‹çš„å‚æ•°ï¼Œè¯·æ±‚çš„å‚æ•°å€¼å¯ä»¥ä¸º true æˆ– falseï¼Œ1 æˆ– 0ï¼Œæ¥æ”¶åè‡ªåŠ¨æ˜ å°„ä¸ºå¸ƒå°”ç±»å‹</strong></li></ul> <p>å±æ€§ï¼š</p> <ul><li><code>value</code>æˆ–<code>name</code>ï¼šè¯·æ±‚å‚æ•°ä¸­çš„åç§°ã€‚è‹¥å‚æ•°åç§°å’Œå½¢å‚ä¸€è‡´ï¼Œå¯ä»¥ä¸ç”¨æŒ‡å®š value æˆ– name</li> <li><code>required</code>ï¼šè¯·æ±‚å‚æ•°ä¸­æ˜¯å¦å¿…é¡»æä¾›æ­¤å‚æ•°ã€‚é»˜è®¤å€¼ï¼štrueã€‚è¡¨ç¤ºå¿…é¡»æä¾›ï¼Œå¦‚æœä¸æä¾›å°†æŠ¥é”™</li> <li><code>defaultValue</code>ï¼šè¯·æ±‚å‚æ•°é»˜è®¤å€¼</li></ul> <p>Postman è¯·æ±‚å¦‚ä¸‹ï¼ˆç›´æ¥åœ¨ Params ä¸­å†™ Query Paramså³å¯ï¼‰ï¼š</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token request-line"><span class="token property">GET</span> /v1/test/url2?name=conanan&amp;flag=1 HTTP/1.1</span>
<span class="token header-name keyword">Host:</span> http://127.0.0.1:80
<span class="token header-name keyword">Content-Type:</span> application/x-www-form-urlencoded
</code></pre></div><p>å’Œ Content-Type: application/x-www-form-urlencoded æ²¡æœ‰å…³ç³»ï¼Œé»˜è®¤å°±æ˜¯è¯¥ç±»å‹ï¼Œ<strong>åªéœ€æ³¨æ„<code>?</code>åçš„é”®å€¼å¯¹</strong>å³å¯</p> <p>Java åå°å¯ä»¥å¦‚ä¸‹æ–¹å¼æ¥æ”¶ï¼ˆåªéœ€åˆ‡æ¢ä¸‹ url å³å¯ï¼‰</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/url1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">url1</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Boolean</span> flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;url1: %s, %s&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å¯çœç•¥ @RequestParam</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/url2&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">url2</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Boolean</span> flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;url2: %s, %s&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="restful-â€”-pathvariable"><a href="#restful-â€”-pathvariable" class="header-anchor">#</a> RESTful â€” <code>@PathVariable</code></h3> <p>ç”¨äº<strong>ç»‘å®š url ä¸­çš„å ä½ç¬¦</strong>ã€‚url æ”¯æŒå ä½ç¬¦æ˜¯ spring3.0 ä¹‹ååŠ å…¥çš„ã€‚æ˜¯ springmvc æ”¯æŒ RESTful é£æ ¼ URL çš„ä¸€ä¸ªé‡è¦æ ‡å¿—ã€‚</p> <p>æ³¨æ„ï¼š</p> <ul><li>ğŸ”¥å‚æ•°ç±»å‹<strong>æ¨è</strong>ä½¿ç”¨<strong>åŒ…è£…æ•°æ®ç±»å‹</strong>ï¼Œå› ä¸ºåŸºç¡€æ•°æ®ç±»å‹ä¸å¯ä¸ºnullï¼›ä½†è¿™é‡Œä¸€èˆ¬ä¸ä¼šå‡ºç°<code>/rest//1</code>æƒ…å†µ</li> <li>ğŸ”¥<strong>Boolean å¸ƒå°”ç±»å‹çš„å‚æ•°ï¼Œè¯·æ±‚çš„å‚æ•°å€¼å¯ä»¥ä¸º true æˆ– falseï¼Œ1 æˆ– 0ï¼Œæ¥æ”¶åè‡ªåŠ¨æ˜ å°„ä¸ºå¸ƒå°”ç±»å‹</strong></li></ul> <p>å±æ€§ï¼š</p> <ul><li><code>value</code>æˆ–<code>name</code>ï¼šç”¨äºæŒ‡å®š url ä¸­å ä½ç¬¦åç§°ã€‚è‹¥å ä½ç¬¦åç§°å’Œå½¢å‚ä¸€è‡´ï¼Œå¯ä»¥ä¸ç”¨æŒ‡å®švalueã€‚</li> <li><code>required</code>ï¼šæ˜¯å¦å¿…é¡»æä¾›å ä½ç¬¦ã€‚</li></ul> <p>Postman è¯·æ±‚å¦‚ä¸‹ï¼ˆç›´æ¥åœ¨ Params ä¸­å†™ Query Paramså³å¯ï¼‰ï¼š</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token request-line"><span class="token property">GET</span> /v1/test/rest/conanan/1 HTTP/1.1</span>
<span class="token header-name keyword">Host:</span> http://127.0.0.1:80
<span class="token header-name keyword">Content-Type:</span> application/x-www-form-urlencoded
</code></pre></div><p>å’Œ Content-Type: application/x-www-form-urlencoded æ²¡æœ‰å…³ç³»ï¼Œé»˜è®¤å°±æ˜¯è¯¥ç±»å‹</p> <p>Java åå°å¯ä»¥å¦‚ä¸‹æ–¹å¼æ¥æ”¶ï¼ˆåªéœ€åˆ‡æ¢ä¸‹ url å³å¯ï¼‰</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/rest/{name}/{flag}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">rest1</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span>
                    <span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Boolean</span> flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;url2: %s, %s&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="body-å‚æ•°"><a href="#body-å‚æ•°" class="header-anchor">#</a> Body å‚æ•°</h2> <div class="custom-block tip"><p class="custom-block-title">æ³¨æ„</p> <p>GET è¯·æ±‚æ²¡æœ‰ Body å‚æ•°</p></div> <h3 id="get-è¡¨å•â€”åŒ-requestparam"><a href="#get-è¡¨å•â€”åŒ-requestparam" class="header-anchor">#</a> GET è¡¨å•â€”åŒ <code>@RequestParam</code></h3> <p>è¡¨å•å‚æ•°ç»‘å®šï¼š</p> <ul><li>è¡¨å•æäº¤çš„æ•°æ®éƒ½æ˜¯k=væ ¼å¼çš„ <code>username=haha&amp;password=123</code>ï¼Œ<strong>keyå°±æ˜¯è¡¨å•ä¸­<code>name</code>çš„å€¼</strong>ã€‚GET è¯·æ±‚å°†æ•°æ®æ”¾å…¥ Url çš„<code>?</code>å</li> <li>SpringMVC çš„å‚æ•°ç»‘å®šè¿‡ç¨‹æ˜¯æŠŠ<strong>è¡¨å•æäº¤çš„è¯·æ±‚å‚æ•°</strong>ï¼Œä½œä¸ºæ§åˆ¶å™¨ä¸­<strong>æ–¹æ³•çš„å‚æ•°</strong>è¿›è¡Œç»‘å®šçš„</li> <li>å…¶ä»–å’Œç»å…¸<code>@RequestParam</code>ä¸€è‡´ï¼ï¼ï¼</li></ul> <div class="custom-block tip"><p class="custom-block-title">æ³¨æ„</p> <p>éœ€è¦<strong>æ³¨æ„</strong>çš„æ˜¯ï¼ŒPostman ä¸­ Body é€‰æ‹© x-www-form-urlencodedï¼Œä¸”æ–¹æ³•ä¸º GET çš„ä¸æ˜¯çœŸæ­£çš„ GET è¡¨å•æäº¤ï¼Œå®ƒä¸ä¼šæŠŠé”®å€¼å¯¹æ”¾å…¥<code>?</code>åï¼ï¼ï¼æ‰€ä»¥è¿˜æ˜¯æ¨èä½¿ç”¨<code>@RequestParam</code>æ—¶é‡‡ç”¨ Query Params å³å¯</p></div> <h3 id="post-è¡¨å•â€”ç›´æ¥-pojo-æ¥æ”¶"><a href="#post-è¡¨å•â€”ç›´æ¥-pojo-æ¥æ”¶" class="header-anchor">#</a> POST è¡¨å•â€”ç›´æ¥ POJO æ¥æ”¶</h3> <p>è¡¨å•å‚æ•°ç»‘å®šï¼š</p> <ul><li><p>è¡¨å•æäº¤çš„æ•°æ®éƒ½æ˜¯k=væ ¼å¼çš„ <code>username=haha&amp;password=123</code>ï¼Œ<strong>keyå°±æ˜¯è¡¨å•ä¸­<code>name</code>çš„å€¼</strong>ã€‚POST è¯·æ±‚å°†æ•°æ®æ”¾å…¥<strong>è¯·æ±‚ä½“</strong>ä¸­</p></li> <li><p>SpringMVC çš„å‚æ•°ç»‘å®šè¿‡ç¨‹æ˜¯æŠŠ<strong>è¡¨å•æäº¤çš„è¯·æ±‚å‚æ•°</strong>ï¼Œä½œä¸ºæ§åˆ¶å™¨ä¸­<strong>æ–¹æ³•çš„å‚æ•°</strong>è¿›è¡Œç»‘å®šçš„</p></li> <li><p>è¦æ±‚è¡¨å•ä¸­<strong>å‚æ•°åç§°</strong>å’Œ POJO ç±»çš„<strong>å±æ€§åç§°</strong>ä¿æŒä¸€è‡´ã€‚å¹¶ä¸”æ§åˆ¶å™¨æ–¹æ³•çš„<strong>å‚æ•°ç±»å‹æ˜¯ POJO ç±»å‹</strong></p></li> <li><p><strong>ç»™ List é›†åˆä¸­çš„å…ƒç´ èµ‹å€¼ï¼Œä½¿ç”¨ä¸‹æ ‡</strong></p></li> <li><p><strong>ç»™ Map é›†åˆä¸­çš„å…ƒç´ èµ‹å€¼ï¼Œä½¿ç”¨é”®å€¼å¯¹</strong></p></li></ul> <p>Postman è¯·æ±‚å¦‚ä¸‹ï¼ˆåœ¨ Body ä¸­ x-www-form-urlencoded å†™å‚æ•°å³å¯ï¼‰ï¼š</p> <div class="language-http extra-class"><pre class="language-http"><code><span class="token request-line"><span class="token property">POST</span> /v1/test/body1 HTTP/1.1</span>
<span class="token header-name keyword">Host:</span> http://127.0.0.1:80
<span class="token header-name keyword">Content-Type:</span> application/x-www-form-urlencoded

name=conanan&amp;
sex=1&amp;
address.provinceName=shannxi&amp;
address.cityName=xian&amp;
petList[0].nikeName=nikeName1&amp;
petList[0].sex=1&amp;
petList[1].nikeName=nikeName2&amp;
petList[1].sex=0&amp;
petMap['one'].nikeName=nikeName3&amp;
petMap['one'].sex=1&amp;
petMap['two'].nikeName=nikeName4&amp;
petMap['two'].sex=0
</code></pre></div><p>è‹¥å‚æ•°é‡å¤ï¼Œä¼šå‡ºç°å…¶ä»–é—®é¢˜ï¼Œå¦‚æœ€åä¸€ä¸ª petMap['one'].sex=0ï¼Œä¸ä¼šæ›¿æ¢ï¼</p> <p>Content-Type: application/x-www-form-urlencodedï¼Œçœ‹å…¶ä¸­ Body è¯·æ±‚ä½“ä¸ºé”®å€¼å¯¹æ•°æ®</p> <p>Java åå°å¯ä»¥å¦‚ä¸‹æ–¹å¼æ¥æ”¶</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> sex<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Address</span> address<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Pet</span><span class="token punctuation">&gt;</span></span> petList<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Pet</span><span class="token punctuation">&gt;</span></span> petMap<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Address</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> provinceName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> cityName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pet</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> nikeName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> sex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/body1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">body1</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;body1: %s, %s, %s, %s, %s, %s&quot;</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getProvinceName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCityName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getPetList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                         student<span class="token punctuation">.</span><span class="token function">getPetMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è‹¥æœ‰<strong>å¤šä¸ªå¯¹è±¡</strong>ï¼Œåˆ™è¿˜æ˜¯<strong>æ ¹æ®å±æ€§åç§°æ¥æ¥æ”¶å‚æ•°</strong>ï¼ï¼ï¼</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/body1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">body1</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">,</span> <span class="token class-name">Teacher</span> teacher<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è‹¥ Student å’Œ Teacher æœ‰åŒåå±æ€§ï¼Œåˆ™ç»‘å®šåè¯¥åŒåå±æ€§çš„å€¼ç›¸åŒï¼</p> <h3 id="jsonâ€”-requestbody"><a href="#jsonâ€”-requestbody" class="header-anchor">#</a> JSONâ€”<code>@RequestBody</code></h3> <p>ä½œç”¨ï¼šç”¨äº<strong>è·å–è¯·æ±‚ä½“</strong>å†…å®¹ï¼ˆ<strong>GET</strong>ä¹Ÿæœ‰ï¼‰ï¼Œå¸¸ç”¨äº<strong>JSONæ•°æ®å°è£…</strong>ã€‚ä¸ä½¿ç”¨åˆ™å¾—åˆ°æ˜¯<code>key=value&amp;key=value</code>ç»“æ„çš„æ•°æ®ã€‚</p> <p>å±æ€§ï¼š</p> <ul><li><code>required</code>æ˜¯å¦å¿…é¡»æœ‰è¯·æ±‚ä½“ï¼Œé»˜è®¤ä¸º trueï¼Œå³ä½¿æ˜¯ GET è¯·æ±‚ä¹Ÿå¿…é¡»æ·»åŠ è¯·æ±‚ä½“ï¼</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>springmvc/useRequestBody<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·åç§°ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>  
    ç”¨æˆ·å¯†ç ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>  
    ç”¨æˆ·å¹´é¾„ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span> 
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span> ä¿å­˜ <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/useRequestBody&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">useRequestBody</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span><span class="token punctuation">(</span>required<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">String</span> body<span class="token punctuation">)</span><span class="token punctuation">{</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><h2 id="å…¶ä»–æ¥æ”¶å‚æ•°æ–¹å¼"><a href="#å…¶ä»–æ¥æ”¶å‚æ•°æ–¹å¼" class="header-anchor">#</a> å…¶ä»–æ¥æ”¶å‚æ•°æ–¹å¼</h2> <h3 id="datetimeformat"><a href="#datetimeformat" class="header-anchor">#</a> <code>@DateTimeFormat</code></h3> <p>ç›´æ¥åœ¨JavaBean<strong>å±æ€§</strong>ä¸Šæ·»åŠ æ³¨é‡Šå³å¯ï¼ˆåœ¨getæˆ–setæ–¹æ³•ä¸Šæ·»åŠ ï¼Œå‘½åè§„èŒƒçš„è¯å­—æ®µä¸Šæ·»åŠ ä¹Ÿè¡Œã€‚ç”±äºä¸€èˆ¬è‡ªåŠ¨ç”Ÿæˆï¼Œæ‰€ä»¥éƒ½è¡Œï¼‰</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@DateTimeFormat</span><span class="token punctuation">(</span>pattern<span class="token operator">=</span><span class="token string">&quot;yyyy-MM-dd HH:mm&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Date</span> creationTime<span class="token punctuation">;</span>
</code></pre></div><h3 id="é»˜è®¤ç±»å‹è½¬æ¢å™¨"><a href="#é»˜è®¤ç±»å‹è½¬æ¢å™¨" class="header-anchor">#</a> é»˜è®¤ç±»å‹è½¬æ¢å™¨</h3> <p>å¦‚ SpringMVC ä¼šå°†<code>a,b,c</code>è½¬ä¸º<code>String[]</code> ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½ä¸“ä¸º<code>List&lt;String&gt;</code>ï¼Œè¿™å°±æ˜¯å®ƒé»˜è®¤çš„ä¸€ä¸ªç±»å‹è½¬æ¢å™¨</p> <h3 id="è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨"><a href="#è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨" class="header-anchor">#</a> è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</h3> <p>é™¤äº†ç±»å‹è½¬æ¢å™¨ï¼ŒSpringMVCè¿˜æä¾›äº†<strong>æ³¨è§£<code>@DateTimeFormate</code>æ¥è½¬æ¢æ—¥æœŸæ ¼å¼</strong>ã€‚æŸ¥çœ‹5å¸¸ç”¨æ³¨è§£è¿™ä¸€ç« ã€‚</p> <p>SpringMVCè¿˜å¯ä»¥å®ç°ä¸€äº›<strong>æ•°æ®ç±»å‹è‡ªåŠ¨è½¬æ¢</strong>ã€‚å†…ç½®è½¬æ¢å™¨å…¨éƒ½åœ¨<code>org.springframework.core.convert.support</code>åŒ…ä¸‹ã€‚å¦‚Stringè½¬Integerç­‰ç­‰</p> <p>å¦‚é‡<strong>ç‰¹æ®Šç±»å‹è½¬æ¢</strong>è¦æ±‚ï¼Œæ¯”å¦‚æ—¥æœŸæ•°æ®æœ‰å¾ˆå¤šç§æ ¼å¼ï¼ŒSpringMVCæ²¡åŠæ³•æŠŠå¸¦<code>-</code>å­—ç¬¦ä¸²è½¬æ¢æˆæ—¥æœŸç±»å‹ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™<strong>è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</strong>ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š</p> <ol><li><p>å®šä¹‰ä¸€ä¸ªç±»ï¼Œ<strong>å®ç° Springæä¾›çš„ <code>Converter</code> æ¥å£</strong>ï¼Œè¯¥æ¥å£æœ‰ä¸¤ä¸ªæ³›å‹ã€‚</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//Converter&lt;S, T&gt;ï¼š  S:source,éœ€è¦è½¬æ¢çš„æºçš„ç±»å‹ï¼›T:target,éœ€è¦è½¬æ¢çš„ç›®æ ‡ç±»å‹</span>
<span class="token annotation punctuation">@Componet</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StringToDateConverter</span> <span class="token keyword">implements</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Date</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">String</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">DateFormat</span> format <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·è¾“å…¥è¦è½¬æ¢çš„æ—¥æœŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            format <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Date</span> date <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> date<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;è¾“å…¥æ—¥æœŸæœ‰è¯¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>åœ¨ springé…ç½®æ–‡ä»¶ä¸­<strong>é…ç½®ç±»å‹è½¬æ¢å™¨</strong>ã€‚JavaConfigæš‚æ—¶ä¸ä¼šæ€ä¹ˆé…ç½®</p> <p>spring é…ç½®ç±»å‹è½¬æ¢å™¨çš„æœºåˆ¶æ˜¯ï¼Œå°†è‡ªå®šä¹‰çš„è½¬æ¢å™¨æ³¨å†Œåˆ°ç±»å‹è½¬æ¢æœåŠ¡ä¸­å»ã€‚</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- é…ç½®ç±»å‹è½¬æ¢å™¨å·¥å‚ --&gt;</span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>converterService<span class="token punctuation">&quot;</span></span>   <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.springframework.context.support.ConversionServiceFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
<span class="token comment">&lt;!--FormattingConversionServiceFactoryBeanå¯ä»¥è®©SpringMVCæ”¯æŒå’Œ@DateTimeFormatç­‰Springå†…éƒ¨è‡ªå®šä¹‰çš„è½¬æ¢å™¨ï¼Œå»ºè®®--&gt;</span>
 <span class="token comment">&lt;!-- ç»™å·¥å‚æ³¨å…¥ä¸€ä¸ªæ–°çš„ç±»å‹è½¬æ¢å™¨ --&gt;</span>      
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>converters<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>array</span><span class="token punctuation">&gt;</span></span> 
       <span class="token comment">&lt;!-- é…ç½®è‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨ --&gt;</span>       
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stringToDateConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>array</span><span class="token punctuation">&gt;</span></span>      
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- é…ç½®springå¼€å¯æ³¨è§£mvcçš„æ”¯æŒï¼Œæ›¿ä»£å¤„ç†å™¨æ˜ å°„å™¨å’Œå¤„ç†å™¨é€‚é…å™¨é…ç½®ï¼Œå¹¶é…ç½®ç±»å‹è½¬æ¢å™¨ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token attr-name">conversion-service</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>conversionService<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div></li></ol> <h3 id="map-æ¥æ”¶å‚æ•°"><a href="#map-æ¥æ”¶å‚æ•°" class="header-anchor">#</a> Map æ¥æ”¶å‚æ•°</h3> <p>åœ¨ Controller å±‚ä¸çŸ¥é“å‰ç«¯éƒ½ä¼šä¼ é€’å“ªäº›å‚æ•°ç»™åˆ°åç«¯ï¼Œä¸ºäº†<strong>æ‰©å±•æ–¹ä¾¿</strong>ï¼ˆä½†æ˜¯ï¼Œä¸èƒ½ä¼ åˆ° Service å±‚è¿˜æ˜¯ Map å§ï¼åªèƒ½åœ¨ Controller æ¥æ”¶æ—¶æ–¹ä¾¿ç‚¹ï¼‰ã€‚è®¸å¤šæ¡†æ¶ï¼ˆå¦‚ CXF ä¸å…è®¸æ¥æ”¶ Map å‚æ•°ï¼‰ï¼Œæ¯•ç«Ÿä¸èƒ½æŠŠ Java å†™æˆ JS æ˜¯å§ã€‚</p> <ul><li>SpringMVCå¤„ç†è¯·æ±‚ç”¨Mapç±»å‹æ¥æ”¶å‚æ•°æ—¶ï¼Œå¦‚æœå‚æ•°æ— æ³¨è§£ï¼Œåˆ™ä¼šä¼ å…¥BindingAwareModelMapç±»å‹ï¼Œç­‰ä»·äºModelã€ModelMapå‚æ•°ã€‚æ‰€ä»¥æ— æ³•æ¥å—åˆ°ä¼ å…¥çš„å‚æ•°</li> <li>å‚æ•°æ·»åŠ  <strong>@RequestParam</strong> æ³¨è§£æ—¶ï¼Œä¼šå°†å‚æ•°åŒ…è£…ç§° LinkedHashMap å¯¹è±¡ï¼Œå‚æ•°çš„keyä¸ºMapçš„keyï¼Œå‚æ•°å€¼ä¸ºMapçš„keyï¼Œæ”¯æŒGetã€Postæ–¹æ³•ï¼ˆåº”è¯¥æ”¯æŒPutã€Deleteï¼Œæ²¡æœ‰æµ‹ï¼Œä¿©æ–¹æ³•ä¸Postç±»ä¼¼ï¼‰ã€‚å¯ä»¥<strong>å°è£… PageBean å‚æ•°</strong>ï¼</li> <li>æ·»åŠ  @RequestBody æ³¨è§£æ—¶ï¼Œæ¥æ”¶ Json ç±»å‹æ•°æ®ï¼Œä¹Ÿä¼šåŒ…è£…æˆ LinkedHashMap å¯¹è±¡ï¼Œè¯¥æ³¨è§£ä¸æ”¯æŒGetè¯·æ±‚ï¼ŒGetè¯·æ±‚æ²¡æœ‰è¯·æ±‚ä½“ä¸èƒ½ä¼ Jsonã€‚</li></ul> <h3 id="servlet-api"><a href="#servlet-api" class="header-anchor">#</a> Servlet Api</h3> <p><strong>æ§åˆ¶å™¨</strong>(å¤„ç†å™¨)<strong>å½¢å‚</strong>ä¸­æ·»åŠ å¦‚ä¸‹ç±»å‹çš„å‚æ•°ï¼Œå¤„ç†é€‚é…å™¨ä¼šé»˜è®¤è¯†åˆ«å¹¶è¿›è¡Œèµ‹å€¼</p> <ul><li><code>HttpServletRequest</code>ï¼šé€šè¿‡requestå¯¹è±¡è·å–è¯·æ±‚ä¿¡æ¯</li> <li><code>HttpServletResponse</code>ï¼šé€šè¿‡responseå¤„ç†å“åº”ä¿¡æ¯</li> <li><code>HttpSession</code>ï¼šé€šè¿‡sessionå¯¹è±¡å¾—åˆ°sessionä¸­å­˜æ”¾çš„å¯¹è±¡</li></ul> <h3 id="requestheader"><a href="#requestheader" class="header-anchor">#</a> <code>@RequestHeader</code></h3> <p>ä¸€èˆ¬ä¸æ€ä¹ˆç”¨</p> <ul><li>ä½œç”¨ï¼šç”¨äºè·å–è¯·æ±‚æ¶ˆæ¯å¤´ã€‚</li> <li>å±æ€§ï¼š<code>value</code>æä¾›æ¶ˆæ¯å¤´åç§°ã€‚<code>required</code>æ˜¯å¦å¿…é¡»æœ‰æ­¤æ¶ˆæ¯å¤´</li></ul> <h3 id="cookievalue"><a href="#cookievalue" class="header-anchor">#</a> <code>@CookieValue</code></h3> <p>ä¸€èˆ¬ä¸æ€ä¹ˆç”¨</p> <ul><li>ä½œç”¨ï¼šç”¨äºæŠŠæŒ‡å®š cookie åç§°çš„å€¼ä¼ å…¥æ§åˆ¶å™¨æ–¹æ³•å‚æ•°ã€‚</li> <li>å±æ€§ï¼š<code>value</code>æŒ‡å®š cookie çš„åç§°ã€‚<code>required</code>æ˜¯å¦å¿…é¡»æœ‰æ­¤ cookie</li></ul> <h3 id="sessionattribute"><a href="#sessionattribute" class="header-anchor">#</a> <code>@SessionAttribute</code></h3> <ul><li><p>ä½œç”¨ï¼šç”¨äºå¤šæ¬¡æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•é—´çš„å‚æ•°å…±äº«ã€‚</p></li> <li><p>å±æ€§ï¼š</p> <ul><li><code>value</code>ï¼šç”¨äºæŒ‡å®šå­˜å…¥çš„å±æ€§åç§°</li> <li><code>type</code>ï¼šç”¨äºæŒ‡å®šå­˜å…¥çš„æ•°æ®ç±»å‹ã€‚</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span><span class="token punctuation">(</span><span class="token string">&quot;sessionAttributeController&quot;</span><span class="token punctuation">)</span> 
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/springmvc&quot;</span><span class="token punctuation">)</span> 
<span class="token annotation punctuation">@SessionAttributes</span><span class="token punctuation">(</span>value<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>types<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//å­˜å…¥åˆ°sessionåŸŸ </span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SessionAttributeController</span> <span class="token punctuation">{</span> 
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testPut&quot;</span><span class="token punctuation">)</span>    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testPut</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>           
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ³°æ–¯ç‰¹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token comment">//è·³è½¬ä¹‹å‰å°†æ•°æ®ä¿å­˜åˆ° usernameã€password å’Œ age ä¸­ï¼Œå› ä¸ºæ³¨è§£@SessionAttribute ä¸­æœ‰è¿™å‡ ä¸ªå‚æ•° </span>
        <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testGet&quot;</span><span class="token punctuation">)</span>       
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testGet</span><span class="token punctuation">(</span><span class="token class-name">ModelMap</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>           
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;;&quot;</span><span class="token operator">+</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;;&quot;</span><span class="token operator">+</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           
        <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>       
    <span class="token punctuation">}</span> 
    
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testClean&quot;</span><span class="token punctuation">)</span>        
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">complete</span><span class="token punctuation">(</span><span class="token class-name">SessionStatus</span> sessionStatus<span class="token punctuation">)</span><span class="token punctuation">{</span>         
        sessionStatus<span class="token punctuation">.</span><span class="token function">setComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            
        <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h3 id="modelattribute"><a href="#modelattribute" class="header-anchor">#</a> <code>@ModelAttribute</code></h3> <p>è¯¥æ³¨è§£æ˜¯ SpringMVC4.3 ç‰ˆæœ¬ä»¥åæ–°åŠ å…¥çš„ã€‚å®ƒå¯ä»¥ç”¨äºä¿®é¥°æ–¹æ³•å’Œå‚æ•°ã€‚</p> <ul><li>å‡ºç°åœ¨<strong>æ–¹æ³•ä¸Š</strong>ï¼Œè¡¨ç¤ºå½“å‰æ–¹æ³•ä¼šåœ¨<strong>æ§åˆ¶å™¨çš„æ–¹æ³•æ‰§è¡Œä¹‹å‰å…ˆæ‰§è¡Œ</strong>ã€‚å®ƒå¯ä»¥ä¿®é¥°æ²¡æœ‰è¿”å›å€¼å’Œæœ‰å…·ä½“è¿”å›å€¼çš„æ–¹æ³•</li> <li>å‡ºç°åœ¨<strong>å‚æ•°ä¸Š</strong>ï¼Œè·å–<strong>æŒ‡å®šçš„æ•°æ®ç»™å‚æ•°èµ‹å€¼</strong></li></ul> <ul><li><p>å±æ€§ï¼š<code>value</code>ç”¨äºè·å–æ•°æ®çš„ keyã€‚key å¯ä»¥æ˜¯ <strong>POJO</strong> çš„å±æ€§åç§°ï¼Œä¹Ÿå¯ä»¥æ˜¯ <strong>map</strong> ç»“æ„çš„ keyã€‚</p></li> <li><p>åº”ç”¨åœºæ™¯ï¼šå½“è¡¨å•æäº¤æ•°æ®ä¸æ˜¯å®Œæ•´çš„å®ä½“ç±»æ•°æ®æ—¶ï¼Œä¿è¯<strong>æ²¡æœ‰æäº¤æ•°æ®çš„å­—æ®µ</strong>ä½¿ç”¨<strong>æ•°æ®åº“å¯¹è±¡åŸæ¥çš„æ•°æ®</strong>ã€‚</p> <p>æˆ‘ä»¬åœ¨ç¼–è¾‘ä¸€ä¸ªç”¨æˆ·æ—¶ï¼Œç”¨æˆ·æœ‰ä¸€ä¸ªåˆ›å»ºä¿¡æ¯å­—æ®µï¼Œè¯¥å­—æ®µçš„å€¼æ˜¯ä¸å…è®¸è¢«ä¿®æ”¹çš„ã€‚åœ¨æäº¤è¡¨å•æ•°æ®æ˜¯è‚¯å®šæ²¡æœ‰æ­¤å­—æ®µçš„å†…å®¹ï¼Œä¸€æ—¦æ›´æ–°ä¼šæŠŠè¯¥å­—æ®µå†…å®¹ç½®ä¸º nullï¼Œæ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨æ­¤æ³¨è§£è§£å†³é—®é¢˜ã€‚ä½†æ˜¯è¿™ç§é—®é¢˜æœ‰å…¶ä»–åŠæ³•è§£å†³ã€‚</p></li> <li><p>åŸºäºPOJO å±æ€§çš„åŸºæœ¬ä½¿ç”¨</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>springmvc/testModelAttribute?username=test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æµ‹è¯• modelattribute<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> 
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ModelAttribute</span>  
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showModel</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œäº† showModel æ–¹æ³•&quot;</span><span class="token operator">+</span>user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span> 
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/testModelAttribute&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testModelAttribute</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œäº†æ§åˆ¶å™¨çš„æ–¹æ³•&quot;</span><span class="token operator">+</span>user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
<span class="token comment">//æ‰§è¡Œäº† showModel æ–¹æ³•</span>
<span class="token comment">//æ‰§è¡Œäº†æ§åˆ¶å™¨çš„æ–¹æ³•</span>
</code></pre></div></li> <li><p>åŸºäº Map çš„åº”ç”¨åœºæ™¯ç¤ºä¾‹ 1ï¼šModelAttribute ä¿®é¥°æ–¹æ³•å¸¦è¿”å›å€¼</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!--éœ€æ±‚ï¼š  ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼Œè¦æ±‚ç”¨æˆ·çš„å¯†ç ä¸èƒ½ä¿®æ”¹ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>springmvc/updateUser<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
    ç”¨æˆ·åç§°ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>  
    ç”¨æˆ·å¹´é¾„ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span> ä¿å­˜ <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span> 
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// æ¨¡æ‹Ÿä¿®æ”¹ç”¨æˆ·æ–¹æ³• </span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/updateUser&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testModelAttribute</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ§åˆ¶å™¨ä¸­å¤„ç†è¯·æ±‚çš„æ–¹æ³•ï¼šä¿®æ”¹ç”¨æˆ·ï¼š&quot;</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@ModelAttribute</span> <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">showModel</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token comment">//æ¨¡æ‹Ÿå»æ•°æ®åº“æŸ¥è¯¢  </span>
    <span class="token class-name">User</span> abc <span class="token operator">=</span> <span class="token function">findUserByName</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œäº† showModel æ–¹æ³•&quot;</span><span class="token operator">+</span>abc<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> abc<span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token comment">// æ¨¡æ‹Ÿå»æ•°æ®åº“æŸ¥è¯¢ </span>
<span class="token keyword">private</span> <span class="token class-name">User</span> <span class="token function">findUserByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> user<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//è¾“å‡ºä¼šç»™æœªæäº¤çš„ageå­—æ®µèµ‹å€¼19ï¼Œå…¶ä»–çš„ä½¿ç”¨æäº¤çš„æ•°æ®</span>
</code></pre></div></li> <li><p>åŸºäº Map çš„åº”ç”¨åœºæ™¯ç¤ºä¾‹ 2ï¼šModelAttribute ä¿®é¥°æ–¹æ³•ä¸å¸¦è¿”å›å€¼</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/updateUser&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testModelAttribute</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ§åˆ¶å™¨ä¸­å¤„ç†è¯·æ±‚çš„æ–¹æ³•ï¼šä¿®æ”¹ç”¨æˆ·ï¼š&quot;</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@ModelAttribute</span> 
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showModel</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 	<span class="token comment">//æ¨¡æ‹Ÿå»æ•°æ®åº“æŸ¥è¯¢  </span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token function">findUserByName</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œäº† showModel æ–¹æ³•&quot;</span><span class="token operator">+</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token comment">// æ¨¡æ‹Ÿå»æ•°æ®åº“æŸ¥è¯¢ </span>
<span class="token keyword">private</span> <span class="token class-name">User</span> <span class="token function">findUserByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> user<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
<span class="token comment">//è¾“å‡ºä¼šç»™æœªæäº¤çš„ageå­—æ®µèµ‹å€¼19ï¼Œå…¶ä»–çš„ä½¿ç”¨æäº¤çš„æ•°æ®</span>
</code></pre></div></li></ul> <h2 id="multipart-æ–‡ä»¶"><a href="#multipart-æ–‡ä»¶" class="header-anchor">#</a> Multipart æ–‡ä»¶</h2> <h3 id="æ–‡ä»¶ä¸Šä¼ çš„å›é¡¾"><a href="#æ–‡ä»¶ä¸Šä¼ çš„å›é¡¾" class="header-anchor">#</a> æ–‡ä»¶ä¸Šä¼ çš„å›é¡¾</h3> <ul><li><strong>formè¡¨å•çš„<code>enctype</code>å–å€¼å¿…é¡»æ˜¯<code>multipart/form-data</code></strong>(é»˜è®¤å€¼æ˜¯<code>application/x-www-form-urlencoded</code>)ã€‚<code>enctype</code>ä»£è¡¨è¡¨å•è¯·æ±‚æ­£æ–‡çš„ç±»å‹</li> <li><code>method</code> å±æ€§å–å€¼å¿…é¡»æ˜¯ <code>Post</code></li> <li>æä¾›ä¸€ä¸ª<strong>æ–‡ä»¶é€‰æ‹©åŸŸ</strong><code>&lt;input type=&quot;file&quot; /&gt;</code></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>user/fileupload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>       
    é€‰æ‹©æ–‡ä»¶ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>        
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ä¸Šä¼ æ–‡ä»¶<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/fileupload&quot;</span><span class="token punctuation">)</span>    
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">fileupload</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>        
    <span class="token comment">// å…ˆè·å–åˆ°è¦ä¸Šä¼ çš„æ–‡ä»¶ç›®å½•        </span>
    <span class="token class-name">String</span> path <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/uploads&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// åˆ›å»ºFileå¯¹è±¡ï¼Œä¸€ä¼šå‘è¯¥è·¯å¾„ä¸‹ä¸Šä¼ æ–‡ä»¶        </span>
    <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºè¯¥è·¯å¾„        </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            
        file<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span>        
    <span class="token comment">// åˆ›å»ºç£ç›˜æ–‡ä»¶é¡¹å·¥å‚        </span>
    <span class="token class-name">DiskFileItemFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DiskFileItemFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token class-name">ServletFileUpload</span> fileUpload <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletFileUpload</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// è§£ærequestå¯¹è±¡        </span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FileItem</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> fileUpload<span class="token punctuation">.</span><span class="token function">parseRequest</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// éå†        </span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">FileItem</span> fileItem <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>            
        <span class="token comment">// åˆ¤æ–­æ–‡ä»¶é¡¹æ˜¯æ™®é€šå­—æ®µï¼Œè¿˜æ˜¯ä¸Šä¼ çš„æ–‡ä»¶            </span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>fileItem<span class="token punctuation">.</span><span class="token function">isFormField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                            

        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>                
            <span class="token comment">// ä¸Šä¼ æ–‡ä»¶é¡¹</span>
            <span class="token comment">// è·å–åˆ°ä¸Šä¼ æ–‡ä»¶çš„åç§°                </span>
            <span class="token class-name">String</span> filename <span class="token operator">=</span> fileItem<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               
            <span class="token comment">// ä¸Šä¼ æ–‡ä»¶                </span>
            fileItem<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                
            <span class="token comment">// åˆ é™¤ä¸´æ—¶æ–‡ä»¶                </span>
            fileItem<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            
        <span class="token punctuation">}</span>        
    <span class="token punctuation">}</span>                
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre></div><h3 id="springmvcä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ "><a href="#springmvcä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ " class="header-anchor">#</a> SpringMVCä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ </h3> <p>pom.xmlä¸­æ·»åŠ ä¾èµ–ï¼ˆå¯ä¸åŠ ï¼‰</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>        
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>        
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>        
&lt;/dependency
</code></pre></div><p>ä¼ ç»Ÿæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ ï¼ŒæŒ‡çš„æ˜¯æˆ‘ä»¬<strong>ä¸Šä¼ çš„æ–‡ä»¶å’Œè®¿é—®çš„åº”ç”¨å­˜åœ¨äºåŒä¸€å°æœåŠ¡å™¨ä¸Š</strong>ã€‚ å¹¶ä¸”ä¸Šä¼ å®Œæˆä¹‹åï¼Œæµè§ˆå™¨å¯èƒ½è·³è½¬ã€‚</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/fileupload2&quot;</span><span class="token punctuation">)</span>    
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">fileupload2</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">MultipartFile</span> upload<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>        
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;SpringMVCæ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// å…ˆè·å–åˆ°è¦ä¸Šä¼ çš„æ–‡ä»¶ç›®å½•        </span>
    <span class="token class-name">String</span> path <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/uploads&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// åˆ›å»ºFileå¯¹è±¡ï¼Œä¸€ä¼šå‘è¯¥è·¯å¾„ä¸‹ä¸Šä¼ æ–‡ä»¶        </span>
    <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºè¯¥è·¯å¾„        </span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            
        file<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span>        
    <span class="token comment">// è·å–åˆ°ä¸Šä¼ æ–‡ä»¶çš„åç§°        </span>
    <span class="token class-name">String</span> filename <span class="token operator">=</span> upload<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token class-name">String</span> uuid <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// æŠŠæ–‡ä»¶çš„åç§°å”¯ä¸€åŒ–        </span>
    filename <span class="token operator">=</span> uuid<span class="token operator">+</span><span class="token string">&quot;_&quot;</span><span class="token operator">+</span>filename<span class="token punctuation">;</span>        
    <span class="token comment">// ä¸Šä¼ æ–‡ä»¶        </span>
    upload<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>SpringBooté…ç½®</p> <p>â€‹</p></li> <li><p>JavaConfigé…ç½®<strong>MultipartResolver</strong>æ¥å£çš„å®ç°ç±»</p> <ul><li><p><code>CommonsMultipartResolver</code>ï¼šä½¿ç”¨Jakarta Commons FileUploadè§£æmultipartè¯·æ±‚</p></li> <li><p><strong><code>StandardServletMultipartResolver</code></strong>ï¼šä¾èµ–äº<strong>Servlet3.0</strong>å¯¹multipartè¯·æ±‚æ”¯æŒï¼ˆ<strong>å§‹äºSpring3.1</strong>ï¼‰</p> <p>é€‰æ‹©è¿™ä¸ªï¼Œå®ƒä½¿ç”¨Servletæ‰€æä¾›çš„åŠŸèƒ½æ”¯æŒï¼Œä¸ä¾èµ–å…¶ä»–é¡¹ç›®ã€‚å®ƒ<strong>æ²¡æœ‰æ„é€ å™¨å‚æ•°å’Œå±æ€§</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">MultipartResolver</span> <span class="token function">multipartResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StandardServletMultipartResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦‚æœé…ç½®DispatcherServletçš„Servletåˆå§‹åŒ–ç±»ç»§æ‰¿äº†<strong>AbstractAnnotationConfigDispatcherServletInitializer</strong>æˆ–AbstractDispatcherServletInitializerçš„è¯ï¼Œé€šè¿‡<strong>é‡è½½customize Registration()æ–¹æ³•</strong>ï¼ˆå®ƒä¼šå¾—åˆ°Dynamicå‚æ•°ï¼‰æ¥é…ç½®multipartçš„å…·ä½“ç»†èŠ‚</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//class Config extends AbstractAnnotationConfigDispatcherServletInitializer</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">customizeRegistration</span><span class="token punctuation">(</span><span class="token class-name">Dynamic</span> registration<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    registration<span class="token punctuation">.</span><span class="token function">setMultipartConfig</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MultipartConfigElement</span><span class="token punctuation">(</span><span class="token string">&quot;/tmp/file/uploads&quot;</span><span class="token punctuation">,</span><span class="token number">2097152</span><span class="token punctuation">,</span><span class="token number">4194304</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//location,maxFileSize,maxRequestSize,fileSizeThreshold(ä¸º0åˆ™ä¸Šä¼ æ–‡ä»¶å†™åˆ°ç£ç›˜)</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>åœ¨<code>spring-config.xml</code>é…ç½®æ–‡ä»¶è§£æå™¨</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨ï¼Œidæ˜¯å›ºå®šçš„ï¼ï¼ï¼--&gt;</span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>multipartResolver<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>org.springframework.web.multipart.commons.CommonsMultipartResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
 <span class="token comment">&lt;!-- è®¾ç½®ä¸Šä¼ æ–‡ä»¶çš„æœ€å¤§å°ºå¯¸ä¸º 5MB --&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>maxUploadSize<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>5242880<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul> <h3 id="springmvcè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ "><a href="#springmvcè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ " class="header-anchor">#</a> SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ </h3> <p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šæœ‰å¾ˆå¤šå¤„ç†ä¸åŒåŠŸèƒ½çš„æœåŠ¡å™¨ï¼ˆä¸æ˜¯æœåŠ¡å™¨é›†ç¾¤ï¼‰ï¼Œç›®çš„æ˜¯è®©æœåŠ¡å™¨å„å¸å…¶èŒï¼Œä»è€Œæé«˜æˆ‘ä»¬é¡¹ç›®çš„è¿è¡Œæ•ˆç‡ã€‚ä¾‹å¦‚ï¼š</p> <ul><li>åº”ç”¨æœåŠ¡å™¨ï¼šè´Ÿè´£éƒ¨ç½²æˆ‘ä»¬çš„åº”ç”¨</li> <li>æ–‡ä»¶æœåŠ¡å™¨ï¼šè´Ÿè´£å­˜å‚¨ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶çš„æœåŠ¡å™¨</li> <li>æ•°æ®åº“æœåŠ¡å™¨ï¼šè¿è¡Œæˆ‘ä»¬çš„æ•°æ®åº“</li> <li>â€¦â€¦</li></ul> <p>æ­¥éª¤ï¼š</p> <ol><li><p><strong>æ­å»ºå›¾ç‰‡æœåŠ¡å™¨</strong></p> <ol><li>æ ¹æ®æ–‡æ¡£é…ç½®tomcat9çš„æœåŠ¡å™¨ï¼Œç°åœ¨æ˜¯2ä¸ªæœåŠ¡å™¨</li> <li>å¯¼å…¥èµ„æ–™ä¸­day02_springmvc5_02imageé¡¹ç›®ï¼Œä½œä¸ºå›¾ç‰‡æœåŠ¡å™¨ä½¿ç”¨</li></ol></li> <li><p>å®ç°SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼æ–‡ä»¶ä¸Šä¼ </p> <ol><li><p>å¯¼å…¥ä¾èµ–çš„jaråŒ…çš„åæ ‡ï¼ˆsunå…¬å¸æä¾›çš„ï¼Œä¸‹é¢å¯¼åŒ…æ—¶æ³¨æ„ï¼‰</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.sun.jersey<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jersey-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>        
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>        
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.sun.jersey<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jersey-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>            
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>        
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>æ§åˆ¶å™¨</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;/fileupload3&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">fileupload3</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> upload<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>        
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;SpringMVCè·¨æœåŠ¡å™¨æ–¹å¼çš„æ–‡ä»¶ä¸Šä¼ ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                
    <span class="token comment">// å®šä¹‰å›¾ç‰‡æœåŠ¡å™¨çš„è¯·æ±‚è·¯å¾„        </span>
    <span class="token class-name">String</span> path <span class="token operator">=</span> <span class="token string">&quot;http://localhost:9090/day02_springmvc5_02image/uploads/&quot;</span><span class="token punctuation">;</span><span class="token comment">//åˆ›å»ºå¥½è¯¥æ–‡ä»¶å¤¹              </span>
    <span class="token comment">// è·å–åˆ°ä¸Šä¼ æ–‡ä»¶çš„åç§°        </span>
    <span class="token class-name">String</span> filename <span class="token operator">=</span> upload<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token class-name">String</span> uuid <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// æŠŠæ–‡ä»¶çš„åç§°å”¯ä¸€åŒ–        </span>
    filename <span class="token operator">=</span> uuid<span class="token operator">+</span><span class="token string">&quot;_&quot;</span><span class="token operator">+</span>filename<span class="token punctuation">;</span>        
    <span class="token comment">// å‘å›¾ç‰‡æœåŠ¡å™¨ä¸Šä¼ æ–‡ä»¶                </span>
    <span class="token comment">// åˆ›å»ºå®¢æˆ·ç«¯å¯¹è±¡        </span>
    <span class="token class-name">Client</span> client <span class="token operator">=</span> <span class="token class-name">Client</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// è¿æ¥å›¾ç‰‡æœåŠ¡å™¨        </span>
    <span class="token class-name">WebResource</span> webResource <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">resource</span><span class="token punctuation">(</span>path<span class="token operator">+</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token comment">// ä¸Šä¼ æ–‡ä»¶        </span>
    webResource<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>upload<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><strong>é…ç½®æ–‡ä»¶è§£æå™¨</strong>ï¼ŒåŒä¸Š</p></li></ol></li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/apple54whn/notes/edit/master/docs/Java/Spring/springmvc/2 è·¯ç”±&amp;è¯·æ±‚å‚æ•°ç»‘å®š.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘æ–‡æ¡£ï¼</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°æ—¶é—´:</span> <span class="time">10/25/2020, 11:43:12 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/Java/Spring/springmvc/1 æ¦‚è¿°.html" class="prev">æ¦‚è¿°</a></span> <span class="next"><a href="/Java/Spring/springmvc/3 å“åº”ç»“æœ.html">å“åº”ç»“æœ</a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.4c2406b8.js" defer></script><script src="/assets/js/2.4ce794f3.js" defer></script><script src="/assets/js/176.8a72d21e.js" defer></script><script src="/assets/js/33.9b523a1b.js" defer></script>
  </body>
</html>
