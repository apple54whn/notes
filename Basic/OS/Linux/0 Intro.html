<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>0 入门 | Conanan</title>
    <meta name="description" content="Good Good Study, Day Day Up!">
    <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    
    <link rel="preload" href="/assets/css/0.styles.721694fb.css" as="style"><link rel="preload" href="/assets/js/app.4c2406b8.js" as="script"><link rel="preload" href="/assets/js/2.4ce794f3.js" as="script"><link rel="preload" href="/assets/js/19.5bd66b43.js" as="script"><link rel="preload" href="/assets/js/33.9b523a1b.js" as="script"><link rel="prefetch" href="/assets/js/10.23584843.js"><link rel="prefetch" href="/assets/js/100.c8b7e6eb.js"><link rel="prefetch" href="/assets/js/101.22710827.js"><link rel="prefetch" href="/assets/js/102.369790c1.js"><link rel="prefetch" href="/assets/js/103.a7c7b572.js"><link rel="prefetch" href="/assets/js/104.7e45de8b.js"><link rel="prefetch" href="/assets/js/105.4791b02d.js"><link rel="prefetch" href="/assets/js/106.61e23a2f.js"><link rel="prefetch" href="/assets/js/107.8ae0e37f.js"><link rel="prefetch" href="/assets/js/108.ad785e65.js"><link rel="prefetch" href="/assets/js/109.f6c3b7e5.js"><link rel="prefetch" href="/assets/js/11.1af6c419.js"><link rel="prefetch" href="/assets/js/110.55979e31.js"><link rel="prefetch" href="/assets/js/111.09bcf468.js"><link rel="prefetch" href="/assets/js/112.17a7c3b1.js"><link rel="prefetch" href="/assets/js/113.9f55e6f6.js"><link rel="prefetch" href="/assets/js/114.ae0d1063.js"><link rel="prefetch" href="/assets/js/115.2b45ae89.js"><link rel="prefetch" href="/assets/js/116.286c2ead.js"><link rel="prefetch" href="/assets/js/117.bd5437e0.js"><link rel="prefetch" href="/assets/js/118.4dd27249.js"><link rel="prefetch" href="/assets/js/119.7be1a2b0.js"><link rel="prefetch" href="/assets/js/12.bc5e4411.js"><link rel="prefetch" href="/assets/js/120.03a04cae.js"><link rel="prefetch" href="/assets/js/121.b657ffcb.js"><link rel="prefetch" href="/assets/js/122.eb76f0ee.js"><link rel="prefetch" href="/assets/js/123.cebd7ceb.js"><link rel="prefetch" href="/assets/js/124.be49618b.js"><link rel="prefetch" href="/assets/js/125.d7aa08e6.js"><link rel="prefetch" href="/assets/js/126.4ad7d0d8.js"><link rel="prefetch" href="/assets/js/127.fe7a1fc9.js"><link rel="prefetch" href="/assets/js/128.18adee58.js"><link rel="prefetch" href="/assets/js/129.65155f32.js"><link rel="prefetch" href="/assets/js/13.46b8bbae.js"><link rel="prefetch" href="/assets/js/130.115199fd.js"><link rel="prefetch" href="/assets/js/131.c30c37e8.js"><link rel="prefetch" href="/assets/js/132.800d09de.js"><link rel="prefetch" href="/assets/js/133.485f2c5a.js"><link rel="prefetch" href="/assets/js/134.68cc802a.js"><link rel="prefetch" href="/assets/js/135.b48b5611.js"><link rel="prefetch" href="/assets/js/136.273edc30.js"><link rel="prefetch" href="/assets/js/137.c51bf33b.js"><link rel="prefetch" href="/assets/js/138.cc73926e.js"><link rel="prefetch" href="/assets/js/139.7f0835b0.js"><link rel="prefetch" href="/assets/js/14.813fdf39.js"><link rel="prefetch" href="/assets/js/140.4b5c8664.js"><link rel="prefetch" href="/assets/js/141.f645668a.js"><link rel="prefetch" href="/assets/js/142.9c31754b.js"><link rel="prefetch" href="/assets/js/143.8dbb577a.js"><link rel="prefetch" href="/assets/js/144.615f3d5a.js"><link rel="prefetch" href="/assets/js/145.3372b6f7.js"><link rel="prefetch" href="/assets/js/146.9d166547.js"><link rel="prefetch" href="/assets/js/147.b35e2060.js"><link rel="prefetch" href="/assets/js/148.2ca9cb36.js"><link rel="prefetch" href="/assets/js/149.b7aae87e.js"><link rel="prefetch" href="/assets/js/15.c027e524.js"><link rel="prefetch" href="/assets/js/150.bad9858c.js"><link rel="prefetch" href="/assets/js/151.fd17d6b4.js"><link rel="prefetch" href="/assets/js/152.2567ef97.js"><link rel="prefetch" href="/assets/js/153.74559d88.js"><link rel="prefetch" href="/assets/js/154.7acecdef.js"><link rel="prefetch" href="/assets/js/155.f457419c.js"><link rel="prefetch" href="/assets/js/156.6fe3ee1a.js"><link rel="prefetch" href="/assets/js/157.fd08fd72.js"><link rel="prefetch" href="/assets/js/158.2b46cf37.js"><link rel="prefetch" href="/assets/js/159.3ace6e8d.js"><link rel="prefetch" href="/assets/js/16.485682dd.js"><link rel="prefetch" href="/assets/js/160.512cf1fa.js"><link rel="prefetch" href="/assets/js/161.0d0ee2ea.js"><link rel="prefetch" href="/assets/js/162.bbdff718.js"><link rel="prefetch" href="/assets/js/163.4fdc9dff.js"><link rel="prefetch" href="/assets/js/164.20d6ef11.js"><link rel="prefetch" href="/assets/js/165.2881201e.js"><link rel="prefetch" href="/assets/js/166.3c7c3ba0.js"><link rel="prefetch" href="/assets/js/167.2143078a.js"><link rel="prefetch" href="/assets/js/168.9f3840f3.js"><link rel="prefetch" href="/assets/js/169.2da8b99f.js"><link rel="prefetch" href="/assets/js/17.53e3a4c9.js"><link rel="prefetch" href="/assets/js/170.997a014a.js"><link rel="prefetch" href="/assets/js/171.addd9a55.js"><link rel="prefetch" href="/assets/js/172.d3d12b0c.js"><link rel="prefetch" href="/assets/js/173.ebd6be51.js"><link rel="prefetch" href="/assets/js/174.c3546734.js"><link rel="prefetch" href="/assets/js/175.e786b04c.js"><link rel="prefetch" href="/assets/js/176.8a72d21e.js"><link rel="prefetch" href="/assets/js/177.4d74c35d.js"><link rel="prefetch" href="/assets/js/178.05b55aba.js"><link rel="prefetch" href="/assets/js/179.06c93c02.js"><link rel="prefetch" href="/assets/js/18.dac780ce.js"><link rel="prefetch" href="/assets/js/180.7a721d6a.js"><link rel="prefetch" href="/assets/js/181.854b3f72.js"><link rel="prefetch" href="/assets/js/182.19f58d6b.js"><link rel="prefetch" href="/assets/js/183.8f49d5b6.js"><link rel="prefetch" href="/assets/js/184.2128f02f.js"><link rel="prefetch" href="/assets/js/20.8b0be400.js"><link rel="prefetch" href="/assets/js/21.26154688.js"><link rel="prefetch" href="/assets/js/22.75f3ad5d.js"><link rel="prefetch" href="/assets/js/23.205b8a93.js"><link rel="prefetch" href="/assets/js/24.78eaf948.js"><link rel="prefetch" href="/assets/js/25.5ac44d02.js"><link rel="prefetch" href="/assets/js/26.44e96c5e.js"><link rel="prefetch" href="/assets/js/27.9149de82.js"><link rel="prefetch" href="/assets/js/28.a117fe70.js"><link rel="prefetch" href="/assets/js/29.03c4dd26.js"><link rel="prefetch" href="/assets/js/3.a07e7c66.js"><link rel="prefetch" href="/assets/js/30.add3b4ce.js"><link rel="prefetch" href="/assets/js/31.c168f15b.js"><link rel="prefetch" href="/assets/js/32.6df3dd67.js"><link rel="prefetch" href="/assets/js/34.87d0684d.js"><link rel="prefetch" href="/assets/js/35.07031e68.js"><link rel="prefetch" href="/assets/js/36.b2d8e023.js"><link rel="prefetch" href="/assets/js/37.6693f2b8.js"><link rel="prefetch" href="/assets/js/38.0adc87b6.js"><link rel="prefetch" href="/assets/js/39.4ee1b450.js"><link rel="prefetch" href="/assets/js/4.3601d982.js"><link rel="prefetch" href="/assets/js/40.3a15c4d2.js"><link rel="prefetch" href="/assets/js/41.5089de95.js"><link rel="prefetch" href="/assets/js/42.b6c516e6.js"><link rel="prefetch" href="/assets/js/43.4d729b64.js"><link rel="prefetch" href="/assets/js/44.afb6ada5.js"><link rel="prefetch" href="/assets/js/45.f90fef77.js"><link rel="prefetch" href="/assets/js/46.3f992a07.js"><link rel="prefetch" href="/assets/js/47.3df4792a.js"><link rel="prefetch" href="/assets/js/48.b1b42695.js"><link rel="prefetch" href="/assets/js/49.1f57735c.js"><link rel="prefetch" href="/assets/js/5.c77010ac.js"><link rel="prefetch" href="/assets/js/50.fb1f131c.js"><link rel="prefetch" href="/assets/js/51.621e6bbe.js"><link rel="prefetch" href="/assets/js/52.d3c5f8e8.js"><link rel="prefetch" href="/assets/js/53.fc428b5d.js"><link rel="prefetch" href="/assets/js/54.a8c7b4e7.js"><link rel="prefetch" href="/assets/js/55.9491ad4c.js"><link rel="prefetch" href="/assets/js/56.cc5535aa.js"><link rel="prefetch" href="/assets/js/57.08a4a942.js"><link rel="prefetch" href="/assets/js/58.ea5e0d13.js"><link rel="prefetch" href="/assets/js/59.e9ab1cc2.js"><link rel="prefetch" href="/assets/js/6.3dc37407.js"><link rel="prefetch" href="/assets/js/60.a0651ffe.js"><link rel="prefetch" href="/assets/js/61.9657adee.js"><link rel="prefetch" href="/assets/js/62.5522a97a.js"><link rel="prefetch" href="/assets/js/63.2c5c6db3.js"><link rel="prefetch" href="/assets/js/64.57e79c12.js"><link rel="prefetch" href="/assets/js/65.5e0e9f19.js"><link rel="prefetch" href="/assets/js/66.e80de9ef.js"><link rel="prefetch" href="/assets/js/67.147e8e38.js"><link rel="prefetch" href="/assets/js/68.26a3c0d4.js"><link rel="prefetch" href="/assets/js/69.8f293aac.js"><link rel="prefetch" href="/assets/js/7.53864b7a.js"><link rel="prefetch" href="/assets/js/70.291565bb.js"><link rel="prefetch" href="/assets/js/71.fe0bdf0f.js"><link rel="prefetch" href="/assets/js/72.61d2bc84.js"><link rel="prefetch" href="/assets/js/73.9fcb62aa.js"><link rel="prefetch" href="/assets/js/74.9d682c13.js"><link rel="prefetch" href="/assets/js/75.3264a4ce.js"><link rel="prefetch" href="/assets/js/76.1f8b1f97.js"><link rel="prefetch" href="/assets/js/77.32b48d28.js"><link rel="prefetch" href="/assets/js/78.b50a8708.js"><link rel="prefetch" href="/assets/js/79.e9abf630.js"><link rel="prefetch" href="/assets/js/8.50c01faa.js"><link rel="prefetch" href="/assets/js/80.180a3806.js"><link rel="prefetch" href="/assets/js/81.7800a9ae.js"><link rel="prefetch" href="/assets/js/82.388bd268.js"><link rel="prefetch" href="/assets/js/83.27d7c820.js"><link rel="prefetch" href="/assets/js/84.a7be62b6.js"><link rel="prefetch" href="/assets/js/85.e286c095.js"><link rel="prefetch" href="/assets/js/86.84fed10f.js"><link rel="prefetch" href="/assets/js/87.4b95dccb.js"><link rel="prefetch" href="/assets/js/88.dd70f5b5.js"><link rel="prefetch" href="/assets/js/89.4a04d404.js"><link rel="prefetch" href="/assets/js/9.947b77c2.js"><link rel="prefetch" href="/assets/js/90.699f3eeb.js"><link rel="prefetch" href="/assets/js/91.9f21bc4f.js"><link rel="prefetch" href="/assets/js/92.8e8caa65.js"><link rel="prefetch" href="/assets/js/93.08b1a369.js"><link rel="prefetch" href="/assets/js/94.8aa7234f.js"><link rel="prefetch" href="/assets/js/95.1d25fc22.js"><link rel="prefetch" href="/assets/js/96.8bb62cc7.js"><link rel="prefetch" href="/assets/js/97.eed16352.js"><link rel="prefetch" href="/assets/js/98.623e948b.js"><link rel="prefetch" href="/assets/js/99.45cfef32.js">
    <link rel="stylesheet" href="/assets/css/0.styles.721694fb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Conanan</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Basic" class="dropdown-title"><span class="title">Basic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>OS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Basic/OS/Linux/0 Intro.html" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/Basic/OS/Docker/0 Docker.html" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/Basic/OS/K8/0 Intro.html" class="nav-link">K8</a></li></ul></li><li class="dropdown-item"><h4>Network</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Basic/Network/TCP/IP/0 Intro.html" class="nav-link">TCP/IP</a></li><li class="dropdown-subitem"><a href="/Basic/Network/HTTP/0 Intro.html" class="nav-link">HTTP</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DataBase" class="dropdown-title"><span class="title">DataBase</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/DataBase/RDBMS/0 Primer.html" class="nav-link">RDBMS</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Redis/0 Intro.html" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Mongo/0 Intro.html" class="nav-link">Mongo</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Lucene/0 Primer.html" class="nav-link">Lucene</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Solr/0 Primer.html" class="nav-link">Solr</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Elasticsearch/0 Primer.html" class="nav-link">Elasticsearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Design" class="dropdown-title"><span class="title">Design</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Design/Design Pattern/0 Intro.html" class="nav-link">Design Pattern</a></li><li class="dropdown-item"><!----> <a href="/Design/DDD/0 Basic.html" class="nav-link">DDD</a></li><li class="dropdown-item"><!----> <a href="/Design/MicroServer/0 Intro.html" class="nav-link">MicroServer</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Study" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/Core/0 Basic.html" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/Java/Jakarta EE/0 Servlet.html" class="nav-link">Jakarta EE</a></li><li class="dropdown-item"><!----> <a href="/Java/Spring/primer/0 Primer.html" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/Java/Persistence/Mybatis/0 Primer.html" class="nav-link">Persistence</a></li><li class="dropdown-item"><!----> <a href="/Java/Authe&amp;Autho/0 Primer.html" class="nav-link">认证&amp;授权</a></li><li class="dropdown-item"><h4>分布式&amp;微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Dubbo</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Spring Cloud Netflix</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Spring Cloud Alibaba</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Tools/Vim/Vim.html" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/Tools/Git/Git.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/Tools/Maven/Maven.html" class="nav-link">Maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Server" class="dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Server/Tomcat/0 Primer.html" class="nav-link">Tomcat</a></li><li class="dropdown-item"><!----> <a href="/Server/Nginx/0 Primer.html" class="nav-link">Nginx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><span class="title">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Front End/H5&amp;CSS3/1 HTML.html" class="nav-link">H5&amp;CSS3</a></li><li class="dropdown-item"><!----> <a href="/Front End/JS/0 入门-0 入门.html" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/Front End/NodeJS/NodeJS-1 入门.html" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/Front End/Vue/1-1 Primer.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/Front End/微信小程序/1-1 Primer.html" class="nav-link">微信小程序</a></li><li class="dropdown-item"><!----> <a href="/Front End/Android/0 Intro.html" class="nav-link">Android</a></li><li class="dropdown-item"><!----> <a href="/Front End/Flutter/0 Intro.html" class="nav-link">Flutter</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Environment" class="dropdown-title"><span class="title">Environment</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Environment/macOS/macOS.html" class="nav-link">macOS</a></li><li class="dropdown-item"><!----> <a href="/Environment/Windows/Windows.html" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/Environment/Software/IDEA.html" class="nav-link">Software</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project" class="dropdown-title"><span class="title">Project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Project/电商/简介.html" class="nav-link">电商</a></li><li class="dropdown-item"><!----> <a href="/Environment/Linux/Linux.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/Environment/Windows/Windows.html" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/Environment/Software/Software.html" class="nav-link">Software</a></li></ul></div></div> <a href="https://github.com/apple54whn/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Basic" class="dropdown-title"><span class="title">Basic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>OS</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Basic/OS/Linux/0 Intro.html" class="nav-link">Linux</a></li><li class="dropdown-subitem"><a href="/Basic/OS/Docker/0 Docker.html" class="nav-link">Docker</a></li><li class="dropdown-subitem"><a href="/Basic/OS/K8/0 Intro.html" class="nav-link">K8</a></li></ul></li><li class="dropdown-item"><h4>Network</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Basic/Network/TCP/IP/0 Intro.html" class="nav-link">TCP/IP</a></li><li class="dropdown-subitem"><a href="/Basic/Network/HTTP/0 Intro.html" class="nav-link">HTTP</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DataBase" class="dropdown-title"><span class="title">DataBase</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/DataBase/RDBMS/0 Primer.html" class="nav-link">RDBMS</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Redis/0 Intro.html" class="nav-link">Redis</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Mongo/0 Intro.html" class="nav-link">Mongo</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Lucene/0 Primer.html" class="nav-link">Lucene</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Solr/0 Primer.html" class="nav-link">Solr</a></li><li class="dropdown-item"><!----> <a href="/DataBase/Elasticsearch/0 Primer.html" class="nav-link">Elasticsearch</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Design" class="dropdown-title"><span class="title">Design</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Design/Design Pattern/0 Intro.html" class="nav-link">Design Pattern</a></li><li class="dropdown-item"><!----> <a href="/Design/DDD/0 Basic.html" class="nav-link">DDD</a></li><li class="dropdown-item"><!----> <a href="/Design/MicroServer/0 Intro.html" class="nav-link">MicroServer</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java Study" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java/Core/0 Basic.html" class="nav-link">Core</a></li><li class="dropdown-item"><!----> <a href="/Java/Jakarta EE/0 Servlet.html" class="nav-link">Jakarta EE</a></li><li class="dropdown-item"><!----> <a href="/Java/Spring/primer/0 Primer.html" class="nav-link">Spring</a></li><li class="dropdown-item"><!----> <a href="/Java/Persistence/Mybatis/0 Primer.html" class="nav-link">Persistence</a></li><li class="dropdown-item"><!----> <a href="/Java/Authe&amp;Autho/0 Primer.html" class="nav-link">认证&amp;授权</a></li><li class="dropdown-item"><h4>分布式&amp;微服务</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/language/chinese/" class="nav-link">Dubbo</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Spring Cloud Netflix</a></li><li class="dropdown-subitem"><a href="/language/japanese/" class="nav-link">Spring Cloud Alibaba</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Tools/Vim/Vim.html" class="nav-link">Vim</a></li><li class="dropdown-item"><!----> <a href="/Tools/Git/Git.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/Tools/Maven/Maven.html" class="nav-link">Maven</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Server" class="dropdown-title"><span class="title">Server</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Server/Tomcat/0 Primer.html" class="nav-link">Tomcat</a></li><li class="dropdown-item"><!----> <a href="/Server/Nginx/0 Primer.html" class="nav-link">Nginx</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><span class="title">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Front End/H5&amp;CSS3/1 HTML.html" class="nav-link">H5&amp;CSS3</a></li><li class="dropdown-item"><!----> <a href="/Front End/JS/0 入门-0 入门.html" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/Front End/NodeJS/NodeJS-1 入门.html" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/Front End/Vue/1-1 Primer.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/Front End/微信小程序/1-1 Primer.html" class="nav-link">微信小程序</a></li><li class="dropdown-item"><!----> <a href="/Front End/Android/0 Intro.html" class="nav-link">Android</a></li><li class="dropdown-item"><!----> <a href="/Front End/Flutter/0 Intro.html" class="nav-link">Flutter</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Environment" class="dropdown-title"><span class="title">Environment</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Environment/macOS/macOS.html" class="nav-link">macOS</a></li><li class="dropdown-item"><!----> <a href="/Environment/Windows/Windows.html" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/Environment/Software/IDEA.html" class="nav-link">Software</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Project" class="dropdown-title"><span class="title">Project</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Project/电商/简介.html" class="nav-link">电商</a></li><li class="dropdown-item"><!----> <a href="/Environment/Linux/Linux.html" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/Environment/Windows/Windows.html" class="nav-link">Windows</a></li><li class="dropdown-item"><!----> <a href="/Environment/Software/Software.html" class="nav-link">Software</a></li></ul></div></div> <a href="https://github.com/apple54whn/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Linux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Basic/OS/Linux/0 Intro.html" class="active sidebar-link">0 入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#概述" class="sidebar-link">概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#linux-与-windows-比较" class="sidebar-link">Linux 与 Windows 比较</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#配置" class="sidebar-link">配置</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#目录结构" class="sidebar-link">目录结构</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#远程控制管理-ssh" class="sidebar-link">远程控制管理 SSH</a></li></ul></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#文件管理" class="sidebar-link">文件管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#创建目录" class="sidebar-link">创建目录</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#删除目录" class="sidebar-link">删除目录</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#当前目录" class="sidebar-link">当前目录</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#切换目录" class="sidebar-link">切换目录</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#树状图tree" class="sidebar-link">树状图tree</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#查找文件" class="sidebar-link">查找文件</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#新增文件" class="sidebar-link">新增文件</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#查看文件" class="sidebar-link">查看文件</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#删除文件" class="sidebar-link">删除文件</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#复制文件" class="sidebar-link">复制文件</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#移动文件" class="sidebar-link">移动文件</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#查找字符串grep" class="sidebar-link">查找字符串grep</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#重复命令" class="sidebar-link">重复命令</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#命令历史" class="sidebar-link">命令历史</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#打包解包—tar" class="sidebar-link">打包解包—tar</a></li></ul></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#权限管理" class="sidebar-link">权限管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#概述-2" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#文件类型及标识" class="sidebar-link">文件类型及标识</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#权限" class="sidebar-link">权限</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#连接数" class="sidebar-link">连接数</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#文件所属用户和所属组" class="sidebar-link">文件所属用户和所属组</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#文件大小" class="sidebar-link">文件大小</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#文件上次修改时间时间" class="sidebar-link">文件上次修改时间时间</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#文件名" class="sidebar-link">文件名</a></li></ul></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#其他命令" class="sidebar-link">其他命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#管道" class="sidebar-link">管道 |</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#命令执行控制" class="sidebar-link">命令执行控制 &amp;&amp;</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#软链接—ln" class="sidebar-link">软链接—ln</a></li></ul></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#用户和组管理" class="sidebar-link">用户和组管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#用户账户说明" class="sidebar-link">用户账户说明</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#组账户说明" class="sidebar-link">组账户说明</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#账户管理常用命令" class="sidebar-link">账户管理常用命令</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#账户系统文件说明" class="sidebar-link">账户系统文件说明</a></li></ul></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#系统管理" class="sidebar-link">系统管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#网络" class="sidebar-link">网络</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#防火墙" class="sidebar-link">防火墙</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#进程" class="sidebar-link">进程</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#磁盘" class="sidebar-link">磁盘</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#主机用户" class="sidebar-link">主机用户</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#开关机" class="sidebar-link">开关机</a></li></ul></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#软件包管理—apt" class="sidebar-link">软件包管理—APT</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#修改数据源" class="sidebar-link">修改数据源</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#常用-apt-命令" class="sidebar-link">常用 APT 命令</a></li></ul></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#sdkman" class="sidebar-link">SDKMAN</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#部署应用" class="sidebar-link">部署应用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#安装-java" class="sidebar-link">安装 Java</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#sdkman-安装java" class="sidebar-link">SDKMAN 安装Java</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#安装-tomcat" class="sidebar-link">安装 Tomcat</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#安装-mysql" class="sidebar-link">安装 MySQL</a></li></ul></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#lvm-磁盘扩容" class="sidebar-link">LVM 磁盘扩容</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#lvm-的基本概念" class="sidebar-link">LVM 的基本概念</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#磁盘操作相关命令" class="sidebar-link">磁盘操作相关命令</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#—开始-lvm-扩容—" class="sidebar-link">—开始 LVM 扩容—</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#查看-fdisk" class="sidebar-link">查看 fdisk</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#查看所有储存设备" class="sidebar-link">查看所有储存设备</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#创建-sdb-分区" class="sidebar-link">创建 sdb 分区</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#格式化磁盘" class="sidebar-link">格式化磁盘</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#创建-pv" class="sidebar-link">创建 PV</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#查看卷组" class="sidebar-link">查看卷组</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#扩容-vg" class="sidebar-link">扩容 VG</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#扩容-lv" class="sidebar-link">扩容 LV</a></li><li class="sidebar-sub-header"><a href="/Basic/OS/Linux/0 Intro.html#动态扩容提示空间不足" class="sidebar-link">动态扩容提示空间不足</a></li></ul></li></ul></li><li><a href="/Basic/OS/Linux/1 Intro1.html" class="sidebar-link">1 hhh</a></li><li><a href="/Basic/OS/Linux/2 Intro2.html" class="sidebar-link">2 hhh</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_0-入门"><a href="#_0-入门" class="header-anchor">#</a> 0 入门</h1> <h2 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h2> <p>Linux 是一种自由和开放源码的类 UNIX 操作系统，使用 Linux 内核。目前存在着许多不同的 Linux 发行版，可安装在各种各样的电脑硬件设备，从手机、平板电脑、路由器和影音游戏控制台，到桌上型电脑，大型电脑和超级电脑。 Linux 是一个领先的操作系统，世界上运算最快的 10 台超级电脑运行的都是 Linux 操作系统。</p> <p>Linux 操作系统也是自由软件和开放源代码发展中最著名的例子。只要遵循 GNU 通用公共许可证,任何人和机构都可以自由地使用 Linux 的所有底层源代码，也可以自由地修改和再发布。严格来讲，Linux 这个词本身只表示 Linux 内核，但在实际上人们已经习惯了用 Linux 来形容整个基于 Linux 内核，并且使用 GNU 工程各种工具和数据库的操作系统 (也被称为 GNU/ Linux)。通常情况下，Linux 被打包成供桌上型电脑和服务器使用的 Linux 发行版本。一些流行的主流 Linux 发行版本，包括 Debian (及其衍生版本 Ubuntu)，Fedora 和 OpenSUSE 等。Kernel + Softwares + Tools 就是 Linux Distribution</p> <p>Linux的版本分为两种：</p> <ul><li><p><strong>内核版本</strong>：是指在Linus领导下的内核小组开发维护的系统内核的版本号</p></li> <li><p><strong>发行版本</strong>：是一些组织和公司根据自己发行版的不同而自定的</p></li></ul> <p>目前市面上较知名的发行版有：<code>Ubuntu</code>、RedHat、<code>CentOS</code>、Debian、Fedora、SuSE、OpenSUSE、TurboLinux、BluePoint、RedFlag、Xterm、SlackWare等。</p> <h3 id="linux-与-windows-比较"><a href="#linux-与-windows-比较" class="header-anchor">#</a> Linux 与 Windows 比较</h3> <table><thead><tr><th style="text-align:left;">比较</th> <th style="text-align:left;">Windows</th> <th style="text-align:left;">Linux</th></tr></thead> <tbody><tr><td style="text-align:left;">界面</td> <td style="text-align:left;">界面统一，外壳程序固定所有 Windows 程序菜单几乎一致，快捷键也几乎相同</td> <td style="text-align:left;">图形界面风格依发布版不同而不同，可能互不兼容。GNU/Linux 的终端机是从 UNIX 传承下来，基本命令和操作方法也几乎一致。</td></tr> <tr><td style="text-align:left;">驱动程序</td> <td style="text-align:left;">驱动程序丰富，版本更新频繁。默认安装程序里面一般包含有该版本发布时流行的硬件驱动程序，之后所出的新硬件驱动依赖于硬件厂商提供。对于一些老硬件，如果没有了原配的驱动有时很难支持。另外，有时硬件厂商未提供所需版本的 Windows 下的驱动，也会比较头痛。</td> <td style="text-align:left;">由志愿者开发，由Linux核心开发小组发布，很多硬件厂商基于版权考虑并未提供驱动程序，尽管多数无需手动安装，但是涉及安装则相对复杂，使得新用户面对驱动程序问题（是否存在和安装方法）会一筹莫展。但是在开源开发模式下，许多老硬件尽管在 Windows 下很难支持的也容易找到驱动。HP、Intel、AMD 等硬件厂商逐步不同程度支持开源驱动，问题正在得到缓解。</td></tr> <tr><td style="text-align:left;">使用</td> <td style="text-align:left;">使用比较简单，容易入门。图形化界面对没有计算机背景知识的用户使用十分有利。</td> <td style="text-align:left;">图形界面使用简单，容易入门。文字界面，需要学习才能掌握。</td></tr> <tr><td style="text-align:left;">学习</td> <td style="text-align:left;">系统构造复杂、变化频繁，且知识、技能淘汰快，深入学习困难。</td> <td style="text-align:left;">系统构造简单、稳定，且知识、技能传承性好，深入学习相对容易。</td></tr> <tr><td style="text-align:left;">软件</td> <td style="text-align:left;">每一种特定功能可能都需要商业软件的支持，需要购买相应的授权。</td> <td style="text-align:left;">大部分软件都可以自由获取，同样功能的软件选择较少。</td></tr></tbody></table> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <p>此处使用 Ubuntu 18.04</p> <ul><li>选择Use An Entire Disk And Set Up LVM，以便后续扩容</li> <li>将磁盘可用空间使用完，即调整 lv 分区（逻辑卷）大小</li> <li>勾选 Install OpenSSH server</li> <li>修改 mirror，参考阿里云镜像站https://opsx.alibaba.com/mirror</li></ul> <h3 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h3> <h4 id="hostname"><a href="#hostname" class="header-anchor">#</a> hostname</h4> <ul><li><p>修改 <code>/etc/cloud/cloud.cfg</code> 防止重启后主机名还原</p> <div class="language-cfg extra-class"><pre class="language-text"><code>vim /etc/cloud/cloud.cfg

# 该配置默认为 false，修改为 true 即可
preserve_hostname: true
</code></pre></div></li> <li><p>修改主机名</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 查看主机名</span>
root@ubuntu:/home/conanan<span class="token comment"># hostnamectl</span>
   Static hostname: ubuntu
         Icon name: computer-vm
           Chassis: vm
        Machine ID: 7401befbdbaf4b3c9bfd8356535bd75f
           Boot ID: 4acdda6f0f4540f2b906d8a2cd4a58fe
    Virtualization: vmware
  Operating System: Ubuntu <span class="token number">18.04</span>.3 LTS
            Kernel: Linux <span class="token number">4.15</span>.0-70-generic
      Architecture: x86-64

<span class="token comment"># 修改主机名</span>
hostnamectl set-hostname deployment

<span class="token comment"># 配置 hosts，和本机 IP 一致</span>
<span class="token function">cat</span> <span class="token operator">&gt;&gt;</span> /etc/hosts <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
172.16.154.11 deployment
EOF</span>
</code></pre></div></li></ul> <h4 id="ip—ubuntu"><a href="#ip—ubuntu" class="header-anchor">#</a> IP—Ubuntu</h4> <p>需要配置固定 IP，步骤如下（暂时测试是 OK 的）：</p> <ol><li><p>在 iTerm2 中输入<code>ifconfig</code>查看<code>vmnet8</code>即 NAT 模式的 IP 段，如下图</p> <p><img src="/assets/img/image-20191204001039734.b4bb6733.png" alt="image-20191204001039734"></p></li> <li><p>在 Linux 中配置固定 IP</p> <p>Ubuntu 从17.10开始，已放弃在 /etc/network/interfaces 里固定 IP 的配置，即使配置也不会生效，而是改成 netplan 方式 ，配置写在 /etc/netplan/01-netcfg.yaml 或者类似名称的 yaml 文件里。修改该文件：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">network</span><span class="token punctuation">:</span> <span class="token comment"># 网络</span>
  <span class="token key atrule">ethernets</span><span class="token punctuation">:</span> <span class="token comment"># 网卡</span>
    <span class="token key atrule">ens33</span><span class="token punctuation">:</span>   <span class="token comment"># 网卡名称，根据 Linux 发行版不同也会随之改变，可以使用 ifconfig 来确定</span>
      <span class="token key atrule">dhcp4</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment"># DHCP 协议，动态分配 IP，需改为 true，否则 ping 不通外网</span>
      <span class="token key atrule">dhcp6</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment"># DHCP 协议，动态分配 IP</span>
      <span class="token key atrule">addresses</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>172.16.154.10/24<span class="token punctuation">]</span>   <span class="token comment"># 本机IP/子网掩码（确定局域网内主机 IP 范围）</span>
      
      <span class="token comment"># 如下配置后会 ping 不通外网，暂时不知道原因</span>
      <span class="token key atrule">gateway4</span><span class="token punctuation">:</span> 172.16.154.1   <span class="token comment"># 网关（通过网关再通过路由器连接网络）</span>
      <span class="token key atrule">nameservers</span><span class="token punctuation">:</span>
          <span class="token key atrule">addresses</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>172.16.154.1<span class="token punctuation">]</span>   <span class="token comment"># DNS，可不配置</span>
  <span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token number">2 </span><span class="token comment"># 可不配置</span>
</code></pre></div></li> <li><p>应用配置</p> <div class="language-bash extra-class"><pre class="language-bash"><code>netplan apply
</code></pre></div></li> <li><p>有可能需要关闭防火墙，具体命令查看后续章节</p></li></ol> <h4 id="ip—centos"><a href="#ip—centos" class="header-anchor">#</a> IP—CentOS</h4> <p>使用VMWare的桥接模式，详细查看该<a href="https://www.cnblogs.com/tyindon/p/10416769.html" target="_blank" rel="noopener noreferrer">博客<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="dns"><a href="#dns" class="header-anchor">#</a> DNS</h4> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 取消 DNS 行注释，并增加 DNS 配置如：114.114.114.114，修改后重启下计算机</span>
<span class="token function">vim</span> /etc/systemd/resolved.conf
</code></pre></div><h3 id="目录结构"><a href="#目录结构" class="header-anchor">#</a> 目录结构</h3> <p><img src="/assets/img/9a9d894de942222.9bcc4d53.png" alt="img"></p> <table><thead><tr><th style="text-align:left;">目录</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;"><strong>bin</strong>(binaries)</td> <td style="text-align:left;">存放二进制可执行文件(<code>ls</code>, <code>cat</code>, <code>mkdir</code> 等)</td></tr> <tr><td style="text-align:left;">sbin</td> <td style="text-align:left;">存放二进制可执行文件，只有 root 才能访问</td></tr> <tr><td style="text-align:left;">boot</td> <td style="text-align:left;">存放用于系统引导时使用的各种文件</td></tr> <tr><td style="text-align:left;">dev(devices)</td> <td style="text-align:left;">用于存放设备文件，驱动程序</td></tr> <tr><td style="text-align:left;"><strong>etc</strong>(etcetera)</td> <td style="text-align:left;">存放系统配置文件</td></tr> <tr><td style="text-align:left;">home</td> <td style="text-align:left;">存放所有用户文件的根目录</td></tr> <tr><td style="text-align:left;">root</td> <td style="text-align:left;">超级用户目录</td></tr> <tr><td style="text-align:left;">lib(library)</td> <td style="text-align:left;">存放跟文件系统中的程序运行所需要的共享库及内核模块</td></tr> <tr><td style="text-align:left;">mnt(mount)</td> <td style="text-align:left;">系统管理员安装临时文件系统的安装点</td></tr> <tr><td style="text-align:left;">opt</td> <td style="text-align:left;">额外安装的可选应用程序包所放置的位置</td></tr> <tr><td style="text-align:left;">proc</td> <td style="text-align:left;">虚拟文件系统，存放当前内存的映射</td></tr> <tr><td style="text-align:left;">tmp(temporary)</td> <td style="text-align:left;">用于存放各种临时文件</td></tr> <tr><td style="text-align:left;"><strong>usr</strong>(unix shared resource)</td> <td style="text-align:left;">用于存放共享的系统资源，如应用程序，比较重要的目录 <code>/usr/local</code> 本地管理员软件安装目录</td></tr> <tr><td style="text-align:left;"><strong>var</strong>(variable)</td> <td style="text-align:left;">用于存放运行时需要改变数据的文件，变量</td></tr> <tr><td style="text-align:left;">...</td> <td style="text-align:left;"></td></tr></tbody></table> <blockquote><p>Linux中，前缀带<code>.</code>的都是隐藏目录或文件</p> <p>经常使用 <code>man command</code> 或 <code>command --help</code></p> <p>大多数命令的参数可以只写<code>-</code>和<code>首字母</code></p></blockquote> <h3 id="远程控制管理-ssh"><a href="#远程控制管理-ssh" class="header-anchor">#</a> 远程控制管理 SSH</h3> <p>传统的网络服务程序，FTP、POP、Telnet 本质上都是不安全的，因为它们在网络上通过明文传送口令和数据，这些数据非常容易被截获。SSH 叫做 <code>Secure Shell</code>。通过 SSH，可以把传输数据进行加密，预防攻击，传输的数据进行了压缩，可以加快传输速度。</p> <h4 id="openssh"><a href="#openssh" class="header-anchor">#</a> OpenSSH</h4> <p>SSH 是芬兰一家公司开发。但是受到版权和加密算法限制，现在很多人都使用 OpenSSH。OpenSSH 是 SSH 的替代软件，免费。OpenSSH 由客户端和服务端组成。</p> <ul><li><strong>基于口令的安全验证：</strong> 知道服务器的帐号密码即可远程登录，口令和数据在传输过程中都会被加密。</li> <li><strong>基于密钥的安全验证：</strong> 此时需要在创建一对密钥，把公有密钥放到远程服务器上自己的宿主目录中，而私有密钥则由自己保存。</li></ul> <p>一般安装 Ubuntu 时会勾选自动安装 OpenSSH，若没有可按如下步骤完成安装：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 检查软件是否安装</span>
<span class="token function">sudo</span> <span class="token function">apt-cache</span> policy openssh-client openssh-server
<span class="token comment"># 安装服务端</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> openssh-server
<span class="token comment"># 安装客户端</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> openssh-client
</code></pre></div><p>OpenSSH 服务器的主要配置文件为 <code>/etc/ssh/sshd\_config</code>，几乎所有的配置信息都在此文件中。</p> <p>Windows 下的 SSH 软件有：XShell、FinalShell，itrem</p> <p>macOS 下的可以使用iTerm，自己配置</p> <h4 id="ssh-连接"><a href="#ssh-连接" class="header-anchor">#</a> SSH 连接</h4> <ul><li><p><code>ssh conanan@123.11.11.11</code></p></li> <li><p><code>ssh -l conanan -p 22 123.11.11.11</code></p></li> <li><p>传输文件：<code>scp D:\zookeeper.tar.gz conanan@123.11.11.11:/root/也可以指定文件名称扩展名</code></p> <p>可反过来</p></li> <li><p>SecureCRT软件：按<code>Alt+P</code>可打开sftp来传输文件，如<code>put d:\zookeeper-3.4.6.tar.gz</code></p></li></ul> <h2 id="文件管理"><a href="#文件管理" class="header-anchor">#</a> 文件管理</h2> <blockquote><p>Linux 中所有东西都是<strong>文件</strong>。如下笔记中文件如非特指，都代表文件和目录</p></blockquote> <h3 id="创建目录"><a href="#创建目录" class="header-anchor">#</a> 创建目录</h3> <ul><li><code>mkdir dirName</code> <ul><li><code>-p --parents</code> ：创建级联路径</li></ul></li></ul> <h3 id="删除目录"><a href="#删除目录" class="header-anchor">#</a> 删除目录</h3> <ul><li><code>rmdir dirName</code> <ul><li><code>-p --parents</code> ：删除级联路径</li></ul></li></ul> <h3 id="当前目录"><a href="#当前目录" class="header-anchor">#</a> 当前目录</h3> <ul><li><code>pwd</code></li></ul> <h3 id="切换目录"><a href="#切换目录" class="header-anchor">#</a> 切换目录</h3> <ul><li><code>cd</code>：<code>~</code>(进入用户主目录)；<code>/</code>(进入根目录)；<code>..</code>(上一层)；<code>-</code>(上一个目录)；</li> <li><code>pushd &lt;路径&gt;</code> 记住来源的同时移动到其他目录，<code>popd</code> 返回来源</li></ul> <h3 id="树状图tree"><a href="#树状图tree" class="header-anchor">#</a> 树状图<code>tree</code></h3> <ul><li><code>tree</code>用于以树状图列出目录的所有内容（需安装，用处不大）</li></ul> <h3 id="查找文件"><a href="#查找文件" class="header-anchor">#</a> 查找文件</h3> <ul><li><code>find name</code>：若是目录名，则列出其下所有文件和目录。文件名需带后缀</li></ul> <h3 id="新增文件"><a href="#新增文件" class="header-anchor">#</a> 新增文件</h3> <ul><li><p><code>touch fileName</code>  生成一个空文件</p></li> <li><p><strong>重定向输出</strong></p> <ul><li><code>echo 666 &gt; 1.txt</code>：重新生成一个带内容文件，覆盖原有内容</li> <li><code>echo 666 &gt;&gt; 1.txt</code>：给文件追加内容</li></ul></li> <li><p><code>tee</code>：可直接复制</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">'EOF'
{
  &quot;registry-mirrors&quot;: [&quot;https://1c0pd0qz.mirror.aliyuncs.com&quot;]
}
EOF</span>
</code></pre></div></li></ul> <h3 id="查看文件"><a href="#查看文件" class="header-anchor">#</a> 查看文件</h3> <ul><li><p><code>ls [fileName]</code>查看当前目录下文件和目录列表</p> <ul><li><p><code>-a</code> 列出当前目录所有文件，包含隐藏文件</p></li> <li><p><code>-l</code> 列出文件的详细信息（如类型、权限等），可简写为<code>ll</code>，参数同<code>ls</code></p></li> <li><p><code>-h</code>友好显示文件大小，带有单位</p> <p>可以选择使用通配符 * 来缩小搜索范围。如：</p> <p>列举所有以“.java”结尾的文件，输入 <code>ls *.java</code></p> <p>列举所有以“F”开头，“.java”结尾的文件，输入<code>ls F*.java</code></p></li></ul></li> <li><p><code>stat</code>：显示<strong>指定文件</strong>的相关信息,比 ls 命令显示内容更多</p> <div class="language- extra-class"><pre class="language-text"><code>ubuntu@VM-0-3-ubuntu:~/Documents/test$ stat a.txt
  File: a.txt
  Size: 20        	Blocks: 8          IO Block: 4096   regular file
Device: fc01h/64513d	Inode: 271180      Links: 3
Access: (0664/-rw-rw-r--)  Uid: (  500/  ubuntu)   Gid: (  500/  ubuntu)
Access: 2019-11-24 17:38:06.531174819 +0800
Modify: 2019-11-24 19:18:12.014184685 +0800
Change: 2019-11-24 19:18:12.018184679 +0800
 Birth: -
</code></pre></div></li> <li><p><s><code>dir</code>查看当前目录下文件和目录列表，但是无高亮</s></p></li> <li><p><code>cat fileName</code> 查看文件全部内容（不能查看目录）</p></li> <li><p><code>more fileName</code>分页查看文件，回车下一行，空格下一页（不能查看目录）</p></li> <li><p><code>less</code>分页查看文件，回车下一行，空格下一页，支持pgup、pgdn（不能查看目录）</p></li> <li><p><code>head fileName</code>，从头部开始查看文件（不能查看目录）</p> <ul><li><code>-nx</code> 显示<strong>前x行</strong></li> <li><code>-f</code> 动态查看，跟踪输出（阻塞），<code>tail</code> 更有用</li></ul></li> <li><p><code>tail fileName</code>，从尾部开始查看文件（不能查看目录）</p> <ul><li><code>-nx</code> 显示<strong>后x行</strong></li> <li><code>-f</code> 动态查看，跟踪输出（阻塞）</li></ul></li></ul> <h3 id="删除文件"><a href="#删除文件" class="header-anchor">#</a> 删除文件</h3> <ul><li><code>rm</code> <ul><li><code>-r</code>  同时删除该目录下的所有文件，递归删除</li> <li><code>-f</code>  强制删除文件或目录，不带询问</li></ul></li></ul> <h3 id="复制文件"><a href="#复制文件" class="header-anchor">#</a> 复制文件</h3> <ul><li><code>cp</code>：<strong>复制</strong>，需要指定源文件名与目标文件名（若是<strong>目录名</strong>则只复制源文件）
<ul><li><code>-r</code>  同时复制该目录下的所有文件，递归复制</li> <li><code>-f</code>  强制复制文件或目录，不带询问</li></ul></li></ul> <h3 id="移动文件"><a href="#移动文件" class="header-anchor">#</a> 移动文件</h3> <ul><li><code>mv</code>：<strong>移动</strong>或者<strong>重命名</strong> <ul><li><code>-r</code>  同时移动该目录下的所有文件，递归移动</li> <li><code>-f</code>  强制移动文件或目录，不带询问</li></ul></li></ul> <h3 id="查找字符串grep"><a href="#查找字符串grep" class="header-anchor">#</a> 查找字符串<code>grep</code></h3> <ul><li><p><code>grep</code>在指定的<strong>文本</strong>文件中查找指定的<strong>字符串</strong>，一般同管道一起使用</p> <p>语法<code>grep [选项]... PATTERN [FILE]...</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">grep</span> doc yarn.lock <span class="token comment"># 在文件中查找 doc 字符串</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> yarn.lock <span class="token operator">|</span> <span class="token function">grep</span> doc
</code></pre></div><ul><li><p><code>–color</code>高亮显示（暂时不会使用，有问题）</p></li> <li><p><code>-A5</code>当前行和后5行，<code>-b5</code>当前行和前5行</p></li> <li><p>...</p></li></ul></li></ul> <h3 id="重复命令"><a href="#重复命令" class="header-anchor">#</a> 重复命令</h3> <ul><li><code>!!</code>  重复上条命令</li> <li><code>!n</code> 重复倒数第n条命令</li></ul> <h3 id="命令历史"><a href="#命令历史" class="header-anchor">#</a> 命令历史</h3> <ul><li><code>history</code></li></ul> <h3 id="打包解包—tar"><a href="#打包解包—tar" class="header-anchor">#</a> 打包解包—<code>tar</code></h3> <blockquote><p>归档</p></blockquote> <ul><li><p><code>tar [-cxzjvf] 压缩打包文档的名称 欲打包目录或文件</code></p> <ul><li><p><code>-z</code>  是否需要用 gzip 压缩、解压，后缀微<code>.gz</code></p></li> <li><p><code>-j</code>  是否需要用 bzip2 压缩、解压，后缀为</p></li> <li><p><code>-x</code>：解包tar文件（归档文件）</p></li> <li><p><code>-c</code>：打包成一个新tar文件（归档文件）</p></li> <li><p><code>-v</code>：显示运行过程的信息</p></li> <li><p><code>-f</code>：指定文件名（归档文件名）</p></li> <li><p><code>-t</code>：查看压缩文件的内容</p></li></ul></li> <li><p>例子</p> <ul><li><strong>打包</strong>：<code>tar –cvf xxx.tar ./*</code></li> <li><strong>打包并且压缩</strong>：<code>tar –zcvf xxx.tar.gz ./*</code></li> <li><strong>解压缩</strong>：<code>tar –xvf xxx.tar</code>、<code>tar -zxvf xxx.tar.gz -C /usr/aaa</code>(<code>-C</code>指定路径)</li></ul></li> <li><p>gzip</p> <table><thead><tr><th style="text-align:left;">命令</th> <th style="text-align:left;">语法</th> <th style="text-align:left;">参数</th> <th style="text-align:left;">参数说明</th></tr></thead> <tbody><tr><td style="text-align:left;">gzip</td> <td style="text-align:left;">gzip [选项] 压缩（解压缩）的文件名</td> <td style="text-align:left;"></td> <td style="text-align:left;">该命令压缩文件后缀为 gz</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-d</td> <td style="text-align:left;">解压缩</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-l</td> <td style="text-align:left;">对每个压缩文件，显示压缩文件的大小，未压缩文件的大小，压缩比，未压缩文件的名字</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-v</td> <td style="text-align:left;">对每一个压缩和解压的文件，显示文件名和压缩比</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-num</td> <td style="text-align:left;">用指定的数字num调整压缩的速度，-1或--fast表示最快压缩方法（低压缩比），-9或--best表示最慢压缩方法（高压缩比）。系统缺省值为6</td></tr></tbody></table></li> <li><p>bzip2</p> <table><thead><tr><th style="text-align:left;">命令</th> <th style="text-align:left;">语法</th> <th style="text-align:left;">参数</th> <th style="text-align:left;">参数说明</th></tr></thead> <tbody><tr><td style="text-align:left;">bzip2</td> <td style="text-align:left;">bzip2 [-cdz]</td> <td style="text-align:left;"></td> <td style="text-align:left;">该命令压缩文件后缀为 bz2</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-d</td> <td style="text-align:left;">解压缩</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-z</td> <td style="text-align:left;">压缩参数</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-num</td> <td style="text-align:left;">用指定的数字num调整压缩的速度，-1或--fast表示最快压缩方法（低压缩比），-9或--best表示最慢压缩方法（高压缩比）。系统缺省值为6</td></tr></tbody></table></li> <li><p>unzip（需安装）</p> <p>用于解压 zip 包</p></li></ul> <h2 id="权限管理"><a href="#权限管理" class="header-anchor">#</a> 权限管理</h2> <h3 id="概述-2"><a href="#概述-2" class="header-anchor">#</a> 概述</h3> <p><img src="/assets/img/linux-permission.07796a75.png" alt=""></p> <table><thead><tr><th style="text-align:center;">属主(user)</th> <th style="text-align:center;"></th> <th style="text-align:center;"></th> <th style="text-align:center;">属组(group)</th> <th style="text-align:center;"></th> <th style="text-align:center;"></th> <th style="text-align:center;">其他用户</th> <th style="text-align:center;"></th> <th style="text-align:center;"></th></tr></thead> <tbody><tr><td style="text-align:center;">r</td> <td style="text-align:center;">w</td> <td style="text-align:center;">x</td> <td style="text-align:center;">r</td> <td style="text-align:center;">w</td> <td style="text-align:center;">x</td> <td style="text-align:center;">r</td> <td style="text-align:center;">w</td> <td style="text-align:center;">x</td></tr> <tr><td style="text-align:center;">4</td> <td style="text-align:center;">2</td> <td style="text-align:center;">1</td> <td style="text-align:center;">4</td> <td style="text-align:center;">2</td> <td style="text-align:center;">1</td> <td style="text-align:center;">4</td> <td style="text-align:center;">2</td> <td style="text-align:center;">1</td></tr></tbody></table> <p><code>ls -al</code>或<code>ll -a</code>或<code>ll fileName</code>可以显示文件或者目录的详细信息。</p> <div class="language-b extra-class"><pre class="language-text"><code>-rw-rw-r-- 3 ubuntu ubuntu   14 Nov 24 17:38 a.txt
</code></pre></div><p>显示信息包括：文件类型，文件权限，文件的用户，文件的所属组，文件的大小，文件的创建时间，文件的名称</p> <h3 id="文件类型及标识"><a href="#文件类型及标识" class="header-anchor">#</a> 文件类型及标识</h3> <p>Linux三种文件类型</p> <ul><li>普通文件： 包括文本文件、数据文件、可执行的二进制程序文件等</li> <li>目录文件： Linux系统把目录看成是一种特殊的文件，利用它构成文件系统的树型结构</li> <li>设备文件： Linux系统把每一个设备都看成是一个文件</li></ul> <p><strong>文件类型标识</strong></p> <ul><li><strong>普通文件</strong><code>-</code></li> <li><strong>目录</strong><code>d</code></li> <li><strong>软链接</strong><code>l</code>：进入etc可以查看，相当于快捷方式</li> <li>串行端口字符设备文件<code>c</code></li> <li>块设备文件<code>b</code></li> <li>套接字<code>s</code></li> <li>命名管道<code>p</code></li></ul> <h3 id="权限"><a href="#权限" class="header-anchor">#</a> 权限</h3> <h4 id="chmod"><a href="#chmod" class="header-anchor">#</a> chmod</h4> <p>变更文件或目录的访问权限</p> <p><strong>数字设定法</strong></p> <ul><li><p>0 表示没有任何权限</p></li> <li><p>1 表示有可执行权限 = <code>x</code></p></li> <li><p>2 表示有可写权限 = <code>w</code></p></li> <li><p>4 表示有可读权限 = <code>r</code></p> <p>例如：<code>chmod 755 a.txt</code></p></li></ul> <p><strong>普通设定法</strong></p> <p><code>chmod [who] [+ | - | =] [mode] 文件名</code></p> <ul><li><p>who：表示操作对象可以是以下字母的一个或者组合</p> <ul><li><code>u</code>：用户 user</li> <li><code>g</code>：用户组 group</li> <li><code>o</code>：表示其他用户</li> <li><code>a</code>：表示所有用户，系统默认的（可以不指定 a）</li></ul></li> <li><p>操作符号</p> <ul><li><code>+</code>：表示添加某个权限</li> <li><code>-</code>：表示取消某个权限</li> <li><code>=</code>：赋予给定的权限，取消文档以前的所有权限</li></ul></li> <li><p>mode：表示可执行的权限，可以是 <code>r</code>、<code>w</code>、<code>x</code></p></li> <li><p>文件名：可以是空格分开的文件列表</p> <p>例如：<code>chmod u=rwx,g=rx,o=rx a.txt</code>或 <code>chmod x a.txt</code>给用户组其他用户都添加 x 权限</p></li></ul> <h4 id="chown"><a href="#chown" class="header-anchor">#</a> chown</h4> <p>是 change owner 的意思，主要作用就是改变文件或者目录所有者，所有者包含用户和用户组</p> <ul><li><p><code>chown [-R] 用户名称 文件或者目录</code></p></li> <li><p><code>chown [-R] 用户名称 用户组名称 文件或目录</code></p> <ul><li><code>-R</code>：进行递归式的权限更改，将目录下的所有文件、子目录更新为指定用户组权限</li></ul> <p>例子</p> <ul><li><code>chown conanan:conanan a.txt</code>：变更当前的目录或文件的所属用户和组</li> <li><code>chown -R conanan:conanan dir</code>：变更目录中的所有的子目录及文件的所属用户和组</li></ul></li></ul> <h3 id="连接数"><a href="#连接数" class="header-anchor">#</a> 连接数</h3> <p>指有多少个文件指向同一个索引节点</p> <h3 id="文件所属用户和所属组"><a href="#文件所属用户和所属组" class="header-anchor">#</a> 文件所属用户和所属组</h3> <p>就是文档属于哪个用户和用户组。文件所属用户和组是可以更改的</p> <h3 id="文件大小"><a href="#文件大小" class="header-anchor">#</a> 文件大小</h3> <p>默认是 bytes，可以用<code>-h</code>来友好显示</p> <h3 id="文件上次修改时间时间"><a href="#文件上次修改时间时间" class="header-anchor">#</a> 文件上次修改时间时间</h3> <h3 id="文件名"><a href="#文件名" class="header-anchor">#</a> 文件名</h3> <h2 id="其他命令"><a href="#其他命令" class="header-anchor">#</a> 其他命令</h2> <h3 id="管道"><a href="#管道" class="header-anchor">#</a> 管道 <code>|</code></h3> <p>将一个命令的输出用作另一个命令的输入</p> <ul><li><code>ls --help | more</code>：分页查询帮助信息</li></ul> <h3 id="命令执行控制"><a href="#命令执行控制" class="header-anchor">#</a> 命令执行控制 <code>&amp;&amp;</code></h3> <p>命令之间使用 &amp;&amp; 连接，实现逻辑与的功能。</p> <ul><li><code>mkdir test &amp;&amp; cd test</code></li></ul> <h3 id="软链接—ln"><a href="#软链接—ln" class="header-anchor">#</a> 软链接—<code>ln</code></h3> <ul><li><code>ln</code>建立软链接，类似快捷方式（建立的是引用，修改一处另一处也改变）：<code>ln a.txt t.txt</code></li></ul> <h2 id="用户和组管理"><a href="#用户和组管理" class="header-anchor">#</a> 用户和组管理</h2> <p>Linux 操作系统是一个多用户操作系统，它允许多用户同时登录到系统上并使用资源。系统会根据账户来区分每个用户的文件，进程，任务和工作环境，使得每个用户工作都不受干扰。</p> <h3 id="用户账户说明"><a href="#用户账户说明" class="header-anchor">#</a> 用户账户说明</h3> <ul><li><strong>普通用户：</strong> 普通用户在系统上的任务是进行普通操作</li> <li><strong>超级管理员：</strong> 管理员在系统上的任务是对普通用户和整个系统进行管理。对系统具有绝对的控制权，能够对系统进行一切操作。用 root 表示，root 用户在系统中拥有最高权限，默认下 Ubuntu 用户的 root 用户是不能登录的。</li> <li><strong>安装时创建的系统用户：</strong> 此用户创建时被添加到 admin 组中，在 Ubuntu 中，admin 组中的用户默认是可以使用 <code>sudo</code> 命令来执行只有管理员才能执行的命令的。如果不使用 <code>sudo</code> 就是一个普通用户。</li></ul> <blockquote><p>标识符如$前带<code>~</code>为用户主目录：<code>conanan@Conanan:~$</code>；带<code>/</code>为根目录</p></blockquote> <h3 id="组账户说明"><a href="#组账户说明" class="header-anchor">#</a> 组账户说明</h3> <ul><li><strong>私有组：</strong> 当创建一个用户时没有指定属于哪个组，Linux 就会建立一个<strong>与用户同名的私有组</strong>，此私有组只含有该用户。</li> <li><strong>标准组：</strong> 当创建一个用户时可以选定一个标准组，如果一个用户同时属于多个组时，登录后所属的组为主组，其他的为附加组。</li></ul> <h3 id="账户管理常用命令"><a href="#账户管理常用命令" class="header-anchor">#</a> 账户管理常用命令</h3> <h4 id="使用-root-用户"><a href="#使用-root-用户" class="header-anchor">#</a> 使用 Root 用户</h4> <p>在实际生产操作中，我们基本上都是使用超级管理员账户操作 Linux 系统，也就是 Root 用户，Linux 系统默认是关闭 Root 账户的，我们需要为 Root 用户设置一个初始密码以方便我们使用。</p> <ul><li><p>设置 Root 账户密码</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">passwd</span> root
</code></pre></div></li> <li><p>切换到 Root</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">su</span>
</code></pre></div></li> <li><p>切换到其他用户</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">su</span> conanan
</code></pre></div></li> <li><p>设置允许远程登录 Root</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> /etc/ssh/sshd_config

<span class="token comment"># Authentication:</span>
<span class="token comment">#PermitRootLogin without-password     # 注释此行</span>
PermitRootLogin <span class="token function">yes</span>   <span class="token comment"># 加入此行</span>

<span class="token comment"># 重启服务</span>
<span class="token function">service</span> <span class="token function">ssh</span> restart
</code></pre></div></li></ul> <h4 id="增加用户"><a href="#增加用户" class="header-anchor">#</a> 增加用户</h4> <p><code>useradd username</code>：添加sername 用户</p> <ul><li><code>-u</code>：UID号</li> <li><code>-p</code>：口令</li> <li><code>-g</code>：分组</li> <li><code>-s</code>：SHELL</li> <li><code>-d</code>：用户目录</li></ul> <p>​	如：<code>useradd conanan</code> 增加用户名为 conanan 的账户</p> <p>​			<code>useradd test -d /home/test -g public</code>  指定用户home目录、指定组</p> <blockquote><p>创建一个新用户时，若没有指定他所属于的组，就建立一个和该用户同名的私有组</p></blockquote> <h4 id="修改用户"><a href="#修改用户" class="header-anchor">#</a> 修改用户</h4> <p><code>usermod username</code></p> <ul><li><p><code>-u</code>：UID号</p></li> <li><p><code>-p</code>：新口令</p></li> <li><p><code>-g</code>：分组</p></li> <li><p><code>-s</code>：SHELL</p></li> <li><p><code>-d</code>：用户目录</p></li> <li><p><code>-l</code>：新登录名</p></li> <li><p><code>-L</code>：锁定用户账号密码</p></li> <li><p><code>-U</code>：解锁用户账号</p> <p>如：<code>usermod -u 1024 -g group2 -G root conanan</code></p> <p>将 conanan 用户 uid 修改为 1024，默认组改为系统中已经存在的 group2，并且加入到系统管理员组</p></li></ul> <h4 id="删除用户"><a href="#删除用户" class="header-anchor">#</a> 删除用户</h4> <p><code>userdel username</code></p> <ul><li><p><code>-r</code>：删除账号时同时删除目录，不添加此参数时只将只删除用户</p> <p>如：<code>userdel -r conanan</code></p> <p>删除用户名为 conanan 的账户并同时删除 conanan 的用户目录</p></li></ul> <h4 id="口令维护"><a href="#口令维护" class="header-anchor">#</a> 口令维护</h4> <p><code>passwd username</code>：设置用户口令</p> <ul><li><code>-l username</code>：锁定用户账户</li> <li><code>-u username</code>：解锁用户账户</li> <li><code>-d username</code>：删除账户口令</li> <li><code>-d username groupname</code>：将用户从指定组中删除</li> <li><code>-a username groupname</code>：将指定用户添加到指定组</li> <li><code>-A username groupname</code>：将用户指定为组的管理员</li></ul> <h4 id="组账户维护"><a href="#组账户维护" class="header-anchor">#</a> 组账户维护</h4> <p><code>groupadd groupname</code>：创建新组</p> <ul><li><code>-g</code>：指定组GID</li></ul> <p><code>groupmod groupname</code>：修改组</p> <ul><li><code>-g</code>：更改组的GID</li> <li><code>-n</code>：更改组账户名</li></ul> <p><code>groupdel groupname</code>：删除指定组账户，如果该组有用户成员，必须先删除用户才能删除组</p> <h4 id="用户和组状态"><a href="#用户和组状态" class="header-anchor">#</a> 用户和组状态</h4> <ul><li><p><code>su username</code>：切换用户账户</p> <p><code>su - username</code>：切换用户账户，并且将环境也切换到username用户的环境（推荐使用）</p></li> <li><p><code>id username</code>：显示用户的UID，GID</p></li> <li><p><code>whoami</code>：显示当前用户名称</p></li> <li><p><code>groups</code>：显示用户所属组</p></li></ul> <h3 id="账户系统文件说明"><a href="#账户系统文件说明" class="header-anchor">#</a> 账户系统文件说明</h3> <h4 id="etc-passwd"><a href="#etc-passwd" class="header-anchor">#</a> /etc/passwd</h4> <p>用户文件。每一行代表一个账号，众多账号是系统正常运行所必须的，例如 bin，nobody 每行定义一个用户账户，此文件对所有用户可读。每行账户包含如下信息：</p> <p><code>root:x:0:0:root:/root:/bin/bash</code></p> <ul><li><strong>用户名：</strong> 就是账号，用来对应 UID，root UID 是 0。</li> <li><strong>口令：</strong> 密码，早期 UNIX 系统密码存在此字段，由于此文件所有用户都可以读取，密码容易泄露，后来这个字段数据就存放到 /etc/shadow 中，这里只能看到 X。</li> <li><strong>用户标示号（UID）：</strong> 系统内唯一，root 用户的 UID 为 0，普通用户从 1000 开始，1-999 是系统的标准账户，500-65536 是可登陆账号。</li> <li><strong>组标示号（GID）：</strong> 与 /etc/group 相关用来规定组名和 GID 相对应。</li> <li><strong>注释：</strong> 注释账号</li> <li><strong>宿主目录（主文件夹）：</strong> 用户登录系统后所进入的目录 root 在 /root/itcast</li> <li><strong>命令解释器（shell）：</strong> 指定该用户使用的 shell ，默认的是 /bin/bash</li></ul> <h4 id="etc-shadow"><a href="#etc-shadow" class="header-anchor">#</a> /etc/shadow</h4> <p>密码文件。为了增加系统的安全性，用户口令通常用 shadow passwords 保护。只有 root 可读。每行包含如下信息：</p> <p><code>root:$6$Reu571.V$Ci/kd.OTzaSGU.TagZ5KjYx2MLzQv2IkZ24E1.yeTT3Pp4o/yniTjus/rRaJ92Z18MVy6suf1W5uxxurqssel.:17465:0:99999:7:::</code></p> <ul><li><strong>账号名称：</strong> 需要和 /etc/passwd 一致。</li> <li>密码：经过加密，虽然加密，但不表示不会被破解，该文件默认权限如下：
<ul><li>-rw------- 1 root root 1560 Oct 26 17:20 passwd-</li> <li>只有root能都读写</li></ul></li> <li><strong>最近修改密码日期：</strong> 从1970-1-1起，到用户最后一次更改口令的天数</li> <li><strong>密码最小时间间隔：</strong> 从1970-1-1起，到用户可以更改口令的天数</li> <li><strong>密码最大时间间隔：</strong> 从1970-1-1起，必须更改的口令天数</li> <li><strong>密码到期警告时间：</strong> 在口令过期之前几天通知</li> <li><strong>密码到期后账号宽限时间</strong></li> <li><strong>密码到期禁用账户时间：</strong> 在用户口令过期后到禁用账户的天数</li> <li><strong>保留</strong></li></ul> <h4 id="etc-group"><a href="#etc-group" class="header-anchor">#</a> /etc/group</h4> <p>用户组的配置文件</p> <p><code>root:x:0:</code></p> <ul><li><strong>用户组名称</strong></li> <li><strong>用户组密码：</strong> 给用户组管理员使用，通常不用</li> <li><strong>GID：</strong> 用户组的ID</li> <li><strong>此用户支持的账号名称：</strong> 一个账号可以加入多个用户组，例如想要 itcast 加入 root 这个用户组，将该账号填入该字段即可 <code>root:x:0:root</code>, icast 将用户进行分组是 Linux 对用户进行管理及控制访问权限的一种手段。一个中可以有多个用户，一个用户可以同时属于多个组。该文件对所有用户可读。</li></ul> <h4 id="etc-gshadow"><a href="#etc-gshadow" class="header-anchor">#</a> /etc/gshadow</h4> <p>该文件用户定义用户组口令，组管理员等信息只有root用户可读。</p> <p><code>root:\*::</code></p> <ul><li><strong>用户组名</strong></li> <li><strong>密码列</strong></li> <li><strong>用户组管理员的账号</strong></li> <li><strong>用户组所属账号</strong></li></ul> <h2 id="系统管理"><a href="#系统管理" class="header-anchor">#</a> 系统管理</h2> <h3 id="网络"><a href="#网络" class="header-anchor">#</a> 网络</h3> <ul><li><p><code>ifconfig</code>：显示网络接口信息</p> <ul><li><code>ifconfig eth0 up</code> 启用eth0网卡</li> <li><code>ifconfig eth0 down</code>停用eth0网卡</li></ul></li> <li><p><code>ping</code>：测试网络的连通性，IPV6可使用<code>ping6</code></p></li> <li><p><code>netstat</code>：显示网络状态信息</p> <p><code>netstat -an | grep 3306</code> 查询3306端口占用情况</p></li></ul> <h3 id="防火墙"><a href="#防火墙" class="header-anchor">#</a> 防火墙</h3> <ul><li>查看端口开启状态 <code>sudo ufw status</code></li> <li>开启某个端口 <code>sudo ufw allow 8381</code></li> <li>禁止某个端口 <code>sudo ufw delete allow 80</code></li> <li>关闭防火墙 <code>sudo ufw disable</code></li> <li>开启防火墙 <code>sudo ufw enable</code></li> <li>重启防火墙 <code>sudo ufw reload</code></li></ul> <h3 id="进程"><a href="#进程" class="header-anchor">#</a> 进程</h3> <ul><li><p><code>top</code>：动态显示当前系统中耗费资源最多的进程、负载等信息，之后会阻塞显示</p> <div class="language- extra-class"><pre class="language-text"><code>top - 23:15:59 up 18 days, 23:21,  3 users,  load average: 0.04, 0.06, 0.01
Tasks: 100 total,   1 running,  63 sleeping,   0 stopped,   0 zombie
%Cpu(s):  0.3 us,  0.7 sy,  0.0 ni, 99.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
KiB Mem :  1877364 total,   162584 free,   236224 used,  1478556 buff/cache
KiB Swap:        0 total,        0 free,        0 used.  1447932 avail Mem

  PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND
 5736 root      20   0       0      0      0 I  0.3  0.0   0:00.10 kworker/u2:1
 8363 ubuntu    20   0   41100   3748   3176 R  0.3  0.2   0:00.01 top
</code></pre></div></li> <li><p><code>htop</code>：推荐使用替换<code>top</code>，Ubuntu18自带？</p></li> <li><p><code>ps</code>：显示瞬间的进程状态</p> <ul><li><code>-ef</code>：查看所有进程</li> <li><code>–ef | grep ssh</code>：查找某一进程，如<code>ssh</code></li></ul> <div class="language- extra-class"><pre class="language-text"><code>  PID TTY          TIME CMD
 6890 pts/3    00:00:00 bash
 7250 pts/3    00:00:00 bash
 7351 pts/3    00:00:00 bash
 8477 pts/3    00:00:00 ps
</code></pre></div></li> <li><p><code>kill</code>：杀死一个进程</p> <ul><li><code>-9</code>：强制杀死进程</li></ul></li></ul> <h3 id="磁盘"><a href="#磁盘" class="header-anchor">#</a> 磁盘</h3> <ul><li><p><code>du</code>：显示指定的文件（目录）已使用的磁盘空间的总量</p> <ul><li><code>-h</code>：友好显示文件大小信息</li></ul> <div class="language- extra-class"><pre class="language-text"><code>ubuntu@VM-0-3-ubuntu:~/Documents/test$ du a.txt
4	a.txt
</code></pre></div></li> <li><p><code>df</code>：显示文件系统磁盘空间的使用情况</p> <ul><li><code>-h</code>：友好显示磁盘大小信息</li></ul> <div class="language- extra-class"><pre class="language-text"><code>ubuntu@VM-0-3-ubuntu:~/Documents/test$ df
Filesystem     1K-blocks    Used Available Use% Mounted on
udev              906224       4    906220   1% /dev
tmpfs             187740    5944    181796   4% /run
/dev/vda1       51539404 5516348  43825860  12% /
tmpfs             938680      48    938632   1% /dev/shm
tmpfs               5120       0      5120   0% /run/lock
tmpfs             938680       0    938680   0% /sys/fs/cgroup
tmpfs             187736       0    187736   0% /run/user/500
</code></pre></div></li> <li><p><code>free</code>显示当前内存和交换空间的使用情况</p> <ul><li><code>-m</code>：以MB单位显示内存状态</li></ul> <div class="language- extra-class"><pre class="language-text"><code>ubuntu@VM-0-3-ubuntu:~/Documents/test$ free
              total        used        free      shared  buff/cache   available
Mem:        1877364      235392      163184        5996     1478788     1448764
Swap:             0           0           0
</code></pre></div></li></ul> <h3 id="主机用户"><a href="#主机用户" class="header-anchor">#</a> 主机用户</h3> <ul><li><p><code>who</code>：显示目前登入系统的用户信息</p> <div class="language- extra-class"><pre class="language-text"><code>ubuntu   pts/2        2019-11-09 15:51 (tmux(5166).%0)
ubuntu   pts/5        2019-11-09 17:29 (tmux(5166).%1)
ubuntu   pts/3        2019-11-24 19:15 (111.19.45.215)
</code></pre></div></li> <li><p><code>hostname</code>：显示主机名称，如VM-0-3-ubuntu</p></li> <li><p><code>uname</code>：显示系统信息，如 Linux</p> <ul><li><code>-a</code>：显示本机详细信息。内核名称(类别)，主机名，内核版本号，内核版本，内核编译日期，硬件名，处理器类型，硬件平台类型，操作系统名称</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Linux VM-0-3-ubuntu 4.15.0-54-generic #58-Ubuntu SMP Mon Jun 24 10:55:24 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux
</code></pre></div></li> <li><p><code>date</code>：显示当前系统时间</p> <p><code>date -s &quot;2014-01-01 10:10:10&quot;</code>设置系统时间</p> <div class="language- extra-class"><pre class="language-text"><code>ubuntu@VM-0-3-ubuntu:~/Documents/test$ date
Sun Nov 24 23:36:25 CST 2019
</code></pre></div></li> <li><p><code>clear</code>：清屏</p></li></ul> <h3 id="开关机"><a href="#开关机" class="header-anchor">#</a> 开关机</h3> <ul><li><p><strong>重启</strong></p> <ul><li><code>sudo reboot</code></li> <li><code>sudo shutdown -r now</code></li></ul> <p><strong>关机</strong></p> <ul><li><p><code>shutdown -h now</code></p> <p><code>shutdown</code> 命令可以用来进行关机程序，并且在关机以前传送讯息给所有使用者正在执行的程序，也可以用来重启。</p> <table><thead><tr><th style="text-align:left;">命令</th> <th style="text-align:left;">语法</th> <th style="text-align:left;">参数</th> <th style="text-align:left;">参数说明</th></tr></thead> <tbody><tr><td style="text-align:left;">shutdown</td> <td style="text-align:left;">shutdown [-t seconds] [-rkhncfF] time [message]</td> <td style="text-align:left;"></td> <td style="text-align:left;"></td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-t seconds</td> <td style="text-align:left;">设定在几秒钟之后进行关机程序</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-k</td> <td style="text-align:left;">并不会真的关机，只是将警告讯息传送给所有只用者</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-r</td> <td style="text-align:left;">关机后重新开机（重启）</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-h</td> <td style="text-align:left;">关机后停机</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-n</td> <td style="text-align:left;">不采用正常程序来关机，用强迫的方式杀掉所有执行中的程序后自行关机</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-c</td> <td style="text-align:left;">取消目前已经进行中的关机动作</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-f</td> <td style="text-align:left;">关机时，不做 fcsk 动作(检查 Linux 档系统)</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">-F</td> <td style="text-align:left;">关机时，强迫进行 fsck 动作</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">time</td> <td style="text-align:left;">设定关机的时间</td></tr> <tr><td style="text-align:left;"></td> <td style="text-align:left;"></td> <td style="text-align:left;">message</td> <td style="text-align:left;">传送给所有使用者的警告讯息</td></tr></tbody></table></li></ul></li></ul> <h2 id="软件包管理—apt"><a href="#软件包管理—apt" class="header-anchor">#</a> 软件包管理—APT</h2> <p>APT(Advanced Packaging Tool) 是 Debian/Ubuntu 类 Linux 系统中的软件包管理程序, 使用它可以找到想要的软件包, 而且安装、卸载、更新都很简便；也可以用来对 Ubuntu 进行升级; APT 的源文件为 <code>/etc/apt/</code> 目录下的 <code>sources.list</code> 文件。</p> <h3 id="修改数据源"><a href="#修改数据源" class="header-anchor">#</a> 修改数据源</h3> <p>由于国内的网络环境问题，我们需要将 Ubuntu 的数据源修改为国内数据源，直接参考https://opsx.alibaba.com/mirror。</p> <ol><li><p>查看系统版本</p> <div class="language-bash extra-class"><pre class="language-bash"><code>lsb_release -a

<span class="token comment"># 显示如下</span>
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu <span class="token number">18.04</span>.1 LTS
Release:	<span class="token number">18.04</span>
Codename:	bionic
</code></pre></div><p><strong>注意：</strong> Codename 为 <code>bionic</code>，该名称为我们 Ubuntu 18 系统的名称，修改数据源需要用到该名称</p></li> <li><p>编辑数据源</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">vi</span> /etc/apt/sources.list
</code></pre></div><p>删除全部内容并修改为阿里源中地址</p></li> <li><p>更新数据源</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">apt-get</span> update
</code></pre></div></li></ol> <h3 id="常用-apt-命令"><a href="#常用-apt-命令" class="header-anchor">#</a> 常用 APT 命令</h3> <ul><li>升级有可用更新的系统(<strong>慎用</strong>)：<code>apt upgrade</code></li> <li><strong>更新软件包列表</strong>：<code>apt update</code></li> <li><strong>安装软件包</strong>：<code>apt install</code></li> <li><strong>删除软件包</strong>：<code>apt remove</code></li> <li>搜索：<code>apt-cache search</code></li> <li>获取包信息：<code>apt-cache show</code></li> <li>删除包及配置文件：<code>apt remove --purge</code></li> <li>了解使用依赖：<code>apt-cache depends</code></li> <li>查看被哪些包依赖：<code>apt-cache rdepends</code></li> <li>安装相关的编译环境：<code>apt build-dep</code></li> <li>下载源代码：<code>apt source</code></li> <li>清理无用的包：<code>apt clean &amp;&amp; apt-get autoclean</code></li> <li>检查是否有损坏的依赖：<code>apt check</code></li></ul> <h2 id="sdkman"><a href="#sdkman" class="header-anchor">#</a> SDKMAN</h2> <p>推荐使用此来管理包</p> <h2 id="部署应用"><a href="#部署应用" class="header-anchor">#</a> 部署应用</h2> <h3 id="安装-java"><a href="#安装-java" class="header-anchor">#</a> 安装 Java</h3> <h4 id="解压缩"><a href="#解压缩" class="header-anchor">#</a> 解压缩</h4> <ul><li>解压缩：<code>tar -zxvf jdk-8u152-linux-x64.tar.gz</code></li> <li>创建目录：<code>mkdir -p /usr/local/java</code></li> <li>移动安装包：<code>mv jdk1.8.0_152/ /usr/local/java/</code></li> <li>设置所有者：<code>chown -R root:root /usr/local/java/</code></li></ul> <h4 id="配置环境变量"><a href="#配置环境变量" class="header-anchor">#</a> 配置环境变量</h4> <ul><li><p>配置系统环境变量：<code>vi /etc/environment</code></p></li> <li><p>修改系统环境变量</p> <div class="language- extra-class"><pre class="language-text"><code>PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games&quot;
export JAVA_HOME=/usr/local/java/jdk1.8.0_152
export JRE_HOME=/usr/local/java/jdk1.8.0_152/jre
export CLASSPATH=$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib
</code></pre></div></li> <li><p>配置用户环境变量：<code>vi /etc/profile</code></p></li> <li><p>修改用户环境变量</p> <div class="language- extra-class"><pre class="language-text"><code>if [ &quot;$PS1&quot; ]; then
  if [ &quot;$BASH&quot; ] &amp;&amp; [ &quot;$BASH&quot; != &quot;/bin/sh&quot; ]; then
    # The file bash.bashrc already sets the default PS1.
    # PS1='\h:\w\$ '
    if [ -f /etc/bash.bashrc ]; then
      . /etc/bash.bashrc
    fi
  else
    if [ &quot;`id -u`&quot; -eq 0 ]; then
      PS1='# '
    else
      PS1='$ '
    fi
  fi
fi
export JAVA_HOME=/usr/local/java/jdk1.8.0_152
export JRE_HOME=/usr/local/java/jdk1.8.0_152/jre
export CLASSPATH=$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib
export PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH:$HOME/bin
if [ -d /etc/profile.d ]; then
  for i in /etc/profile.d/*.sh; do
    if [ -r $i ]; then
      . $i
    fi
  done
  unset i
fi
</code></pre></div></li> <li><p>使用户环境变量生效：<code>source /etc/profile</code></p></li></ul> <h4 id="验证安装是否成功"><a href="#验证安装是否成功" class="header-anchor">#</a> 验证安装是否成功</h4> <div class="language- extra-class"><pre class="language-text"><code>java -version
</code></pre></div><h3 id="sdkman-安装java"><a href="#sdkman-安装java" class="header-anchor">#</a> SDKMAN 安装Java</h3> <p>查看文档</p> <h3 id="安装-tomcat"><a href="#安装-tomcat" class="header-anchor">#</a> 安装 Tomcat</h3> <h4 id="解压缩-2"><a href="#解压缩-2" class="header-anchor">#</a> 解压缩</h4> <ul><li>解压缩：<code>tar -zxvf apache-tomcat-8.5.23.tar.gz</code></li> <li>变更目录：<code>mv apache-tomcat-8.5.23 tomcat</code></li> <li>移动目录：<code>mv tomcat/ /usr/local/</code></li></ul> <h4 id="验证安装是否成功-2"><a href="#验证安装是否成功-2" class="header-anchor">#</a> 验证安装是否成功</h4> <ul><li>启动：
<ul><li><code>/usr/local/tomcat/bin/startup.sh</code></li> <li><code>./startup.sh</code></li></ul></li> <li>停止：
<ul><li><code>/usr/local/tomcat/bin/shutdown.sh</code></li> <li><code>./shutdown.sh</code></li></ul></li></ul> <h3 id="安装-mysql"><a href="#安装-mysql" class="header-anchor">#</a> 安装 MySQL</h3> <h4 id="安装-2"><a href="#安装-2" class="header-anchor">#</a> 安装</h4> <ul><li><p>更新数据源：<code>apt-get update</code></p></li> <li><p>安装数据库：<code>apt-get install mysql-server</code></p> <blockquote><p><strong>注意：</strong> 系统将提示您在安装过程中创建 root 密码。选择一个安全的密码，并确保你记住它，因为你以后需要它。接下来，我们将完成 MySQL 的配置。</p></blockquote></li></ul> <h4 id="配置-2"><a href="#配置-2" class="header-anchor">#</a> 配置</h4> <div class="language- extra-class"><pre class="language-text"><code>mysql_secure_installation
</code></pre></div><blockquote><p>这将提示您输入您在之前步骤中创建的 root 密码。您可以按 Y，然后 ENTER 接受所有后续问题的默认值，但是要询问您是否要更改 root 密码。您只需在之前步骤中进行设置即可，因此无需现在更改。</p> <p><strong>注意：</strong> 因为是全新安装，您需要运行附带的安全脚本。这会更改一些不太安全的默认选项，例如远程 root 登录和示例用户。在旧版本的 MySQL 上，您需要手动初始化数据目录，但最新的 MySQL 已经自动完成了。</p></blockquote> <h4 id="验证安装是否成功-3"><a href="#验证安装是否成功-3" class="header-anchor">#</a> 验证安装是否成功</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl status mysql

<span class="token comment"># 输出如下</span>
● mysql.service - MySQL Community Server
   Loaded: loaded <span class="token punctuation">(</span>/lib/systemd/system/mysql.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Tue <span class="token number">2017</span>-11-21 <span class="token number">13</span>:04:34 CST<span class="token punctuation">;</span> 3min 24s ago
 Main PID: <span class="token number">2169</span> <span class="token punctuation">(</span>mysqld<span class="token punctuation">)</span>
   CGroup: /system.slice/mysql.service
           └─2169 /usr/sbin/mysqld
Nov <span class="token number">21</span> <span class="token number">13</span>:04:33 ubuntu systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting MySQL Community Server<span class="token punctuation">..</span>.
Nov <span class="token number">21</span> <span class="token number">13</span>:04:34 ubuntu systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started MySQL Community Server.
</code></pre></div><h4 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h4> <ul><li>查看版本：<code>mysqladmin -p -u root version</code></li> <li>启动：<code>service mysql start</code></li> <li>停止：<code>service mysql stop</code></li> <li>重启：<code>service mysql restart</code></li> <li>登录：<code>mysql -u root -p</code></li> <li>授权：<code>grant all privileges on *.* to 'root'@'%' identified by 'Your Password';</code></li></ul> <h4 id="扩展阅读"><a href="#扩展阅读" class="header-anchor">#</a> 扩展阅读</h4> <ul><li><p>配置使用密码方式登录</p> <p>在安装过程中可能没有提示密码设置的环节此时默认使用的是 <strong>auth_socket</strong> 方式登录（5.7后使用 SSH 连接），我们可以修改为 <strong>mysql_native_password</strong> 方式，操作步骤如下</p> <ul><li><p>本地登录 MySQL，此时无需输入密码</p> <div class="language- extra-class"><pre class="language-text"><code>mysql -u root -p
</code></pre></div></li> <li><p>切换数据库到 mysql</p> <div class="language- extra-class"><pre class="language-text"><code>use mysql;
</code></pre></div></li> <li><p>修改 root 账号密码</p> <div class="language- extra-class"><pre class="language-text"><code>update user set authentication_string=password('123456') where user='root';
</code></pre></div></li> <li><p>设置登录模式</p> <div class="language- extra-class"><pre class="language-text"><code>update user set plugin=&quot;mysql_native_password&quot;;
</code></pre></div></li> <li><p>刷新配置</p> <div class="language- extra-class"><pre class="language-text"><code>flush privileges;
</code></pre></div></li> <li><p>退出 MySQL</p> <div class="language- extra-class"><pre class="language-text"><code>exit;
</code></pre></div></li> <li><p>重新启动 MySQL</p> <div class="language- extra-class"><pre class="language-text"><code>systemctl restart mysql
</code></pre></div></li></ul></li> <li><p>配置远程访问</p> <ul><li><p>修改配置文件</p> <div class="language- extra-class"><pre class="language-text"><code>vi /etc/mysql/mysql.conf.d/mysqld.cnf
</code></pre></div></li> <li><p>注释掉(语句前面加上 <code>#</code> 即可)：</p> <div class="language- extra-class"><pre class="language-text"><code># bind-address = 127.0.0.1
</code></pre></div></li></ul> <ul><li><p>重启 MySQL</p> <div class="language- extra-class"><pre class="language-text"><code>service mysql restart
</code></pre></div></li> <li><p>登录 MySQL</p> <div class="language- extra-class"><pre class="language-text"><code>mysql -u root -p
</code></pre></div></li> <li><p>授权 root 用户允许所有人连接</p> <div class="language- extra-class"><pre class="language-text"><code>grant all privileges on *.* to 'root'@'%' identified by 'Your Password';
</code></pre></div></li></ul></li> <li><p>因弱口令无法成功授权解决步骤</p> <ul><li><p>查看和设置密码安全级别</p> <div class="language- extra-class"><pre class="language-text"><code>select @@validate_password_policy;set global validate_password_policy=0;
</code></pre></div></li></ul> <ul><li><p>查看和设置密码长度限制</p> <div class="language- extra-class"><pre class="language-text"><code>select @@validate_password_length;set global validate_password_length=1;
</code></pre></div></li></ul></li> <li><p>其它配置</p> <p>修改配置文件：<code>vi /etc/mysql/mysql.conf.d/mysqld.cnf</code></p> <div class="language- extra-class"><pre class="language-text"><code>[client]
default-character-set=utf8
[mysqld]
default-storage-engine=INNODB
character-set-server=utf8
collation-server=utf8_general_ci
lower-case-table-names=1
</code></pre></div><blockquote><p><strong>注意：</strong> 配置内容追加到对应节点的底部即可</p></blockquote></li></ul> <h2 id="lvm-磁盘扩容"><a href="#lvm-磁盘扩容" class="header-anchor">#</a> LVM 磁盘扩容</h2> <h3 id="lvm-的基本概念"><a href="#lvm-的基本概念" class="header-anchor">#</a> LVM 的基本概念</h3> <ul><li><strong>物理卷 Physical Volume (PV)：</strong> 可以在上面建立卷组的媒介，可以是硬盘分区，也可以是硬盘本身或者回环文件（loopback file）。物理卷包括一个特殊的 header，其余部分被切割为一块块物理区域（physical extents）</li> <li><strong>卷组 Volume group (VG)：</strong> 将一组物理卷收集为一个管理单元</li> <li><strong>逻辑卷 Logical volume (LV)：</strong> 虚拟分区，由物理区域（physical extents）组成</li> <li><strong>物理区域 Physical extent (PE)：</strong> 硬盘可供指派给逻辑卷的最小单位（通常为 4MB）</li></ul> <h3 id="磁盘操作相关命令"><a href="#磁盘操作相关命令" class="header-anchor">#</a> 磁盘操作相关命令</h3> <ul><li><p>查看挂载点</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">df</span> -h
<span class="token comment"># 输出如下</span>
Filesystem                         Size  Used Avail Use% Mounted on
udev                               955M     <span class="token number">0</span>  955M   <span class="token number">0</span>% /dev
tmpfs                              198M  <span class="token number">1</span>.8M  196M   <span class="token number">1</span>% /run
<span class="token comment">## 此处为我们磁盘的挂载点</span>
/dev/mapper/ubuntu--vg-ubuntu--lv   19G  <span class="token number">6</span>.0G   12G  <span class="token number">35</span>% /
tmpfs                              986M     <span class="token number">0</span>  986M   <span class="token number">0</span>% /dev/shm
tmpfs                              <span class="token number">5</span>.0M     <span class="token number">0</span>  <span class="token number">5</span>.0M   <span class="token number">0</span>% /run/lock
tmpfs                              986M     <span class="token number">0</span>  986M   <span class="token number">0</span>% /sys/fs/cgroup
/dev/loop1                          91M   91M     <span class="token number">0</span> <span class="token number">100</span>% /snap/core/6350
/dev/loop0                          89M   89M     <span class="token number">0</span> <span class="token number">100</span>% /snap/core/6964
/dev/sda2                          976M  143M  767M  <span class="token number">16</span>% /boot
</code></pre></div></li> <li><p>显示当前的 logical volume：<code>lvdisplay</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>lvdisplay
<span class="token comment"># 输出如下</span>
--- Logical volume ---
LV Path                /dev/ubuntu-vg/ubuntu-lv
LV Name                ubuntu-lv
VG Name                ubuntu-vg
LV UUID                e2fKkR-oZeH-WV2A-ltCi-P76v-N9yv-aUtIg1
LV Write Access        read/write
LV Creation host, <span class="token function">time</span> ubuntu-server, <span class="token number">2019</span>-05-14 03:13:57 +0800
LV Status              available
<span class="token comment"># open                 1</span>
LV Size                <span class="token operator">&lt;</span><span class="token number">19.00</span> GiB
Current LE             <span class="token number">4863</span>
Segments               <span class="token number">1</span>
Allocation             inherit
Read ahead sectors     auto
- currently <span class="token builtin class-name">set</span> to     <span class="token number">256</span>
Block device           <span class="token number">253</span>:0
</code></pre></div></li> <li><p>显示当前的 volume group</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vgdisplay
<span class="token comment"># 输出如下</span>
--- Volume group ---
VG Name               ubuntu-vg
System ID             
Format                lvm2
Metadata Areas        <span class="token number">1</span>
Metadata Sequence No  <span class="token number">2</span>
VG Access             read/write
VG Status             resizable
MAX LV                <span class="token number">0</span>
Cur LV                <span class="token number">1</span>
Open LV               <span class="token number">1</span>
Max PV                <span class="token number">0</span>
Cur PV                <span class="token number">1</span>
Act PV                <span class="token number">1</span>
<span class="token comment">## 这里应该是你当前的可用空间大小，待扩容完毕，这里显示的应该是最终的大小</span>
VG Size               <span class="token operator">&lt;</span><span class="token number">19.00</span> GiB
PE Size               <span class="token number">4.00</span> MiB
Total PE              <span class="token number">4863</span>
Alloc PE / Size       <span class="token number">4863</span> / <span class="token operator">&lt;</span><span class="token number">19.00</span> GiB
Free  PE / Size       <span class="token number">0</span> / <span class="token number">0</span>   
VG UUID               dhI9ns-7lOI-pXf8-IOWL-F96N-JIYG-ZF6u82
</code></pre></div></li> <li><p>显示当前的 physical volume</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pvdisplay
<span class="token comment"># 输出如下</span>
--- Physical volume ---
PV Name               /dev/sda3
VG Name               ubuntu-vg
PV Size               <span class="token operator">&lt;</span><span class="token number">19.00</span> GiB / not usable <span class="token number">0</span>   
Allocatable           <span class="token function">yes</span> <span class="token punctuation">(</span>but full<span class="token punctuation">)</span>
PE Size               <span class="token number">4.00</span> MiB
Total PE              <span class="token number">4863</span>
Free PE               <span class="token number">0</span>
Allocated PE          <span class="token number">4863</span>
PV UUID               TDFe2b-xsce-R8So-ldxR-ohcp-fx5J-n2JNOa
</code></pre></div></li></ul> <h3 id="—开始-lvm-扩容—"><a href="#—开始-lvm-扩容—" class="header-anchor">#</a> —开始 LVM 扩容—</h3> <h3 id="查看-fdisk"><a href="#查看-fdisk" class="header-anchor">#</a> 查看 fdisk</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">fdisk</span> -l
<span class="token comment"># 输出如下</span>
Disk /dev/loop0: <span class="token number">88.4</span> MiB, <span class="token number">92733440</span> bytes, <span class="token number">181120</span> sectors
Units: sectors of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
Sector size <span class="token punctuation">(</span>logical/physical<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes
I/O size <span class="token punctuation">(</span>minimum/optimal<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes
Disk /dev/loop1: <span class="token number">91</span> MiB, <span class="token number">95408128</span> bytes, <span class="token number">186344</span> sectors
Units: sectors of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
Sector size <span class="token punctuation">(</span>logical/physical<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes
I/O size <span class="token punctuation">(</span>minimum/optimal<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes
Disk /dev/sda: <span class="token number">20</span> GiB, <span class="token number">21474836480</span> bytes, <span class="token number">41943040</span> sectors
Units: sectors of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
Sector size <span class="token punctuation">(</span>logical/physical<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes
I/O size <span class="token punctuation">(</span>minimum/optimal<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes
Disklabel type: gpt
Disk identifier: F96F20D7-1F28-4B03-87CF-4FA3E81FDE29
Device       Start      End  Sectors Size Type
/dev/sda1     <span class="token number">2048</span>     <span class="token number">4095</span>     <span class="token number">2048</span>   1M BIOS boot
/dev/sda2     <span class="token number">4096</span>  <span class="token number">2101247</span>  <span class="token number">2097152</span>   1G Linux filesystem
/dev/sda3  <span class="token number">2101248</span> <span class="token number">41940991</span> <span class="token number">39839744</span>  19G Linux filesystem
Disk /dev/mapper/ubuntu--vg-ubuntu--lv: <span class="token number">19</span> GiB, <span class="token number">20396900352</span> bytes, <span class="token number">39837696</span> sectors
Units: sectors of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
Sector size <span class="token punctuation">(</span>logical/physical<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes
I/O size <span class="token punctuation">(</span>minimum/optimal<span class="token punctuation">)</span>: <span class="token number">512</span> bytes / <span class="token number">512</span> bytes
</code></pre></div><h3 id="查看所有储存设备"><a href="#查看所有储存设备" class="header-anchor">#</a> 查看所有储存设备</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">fdisk</span> -l <span class="token operator">|</span><span class="token function">grep</span> <span class="token string">'/dev'</span>
<span class="token comment"># 输出如下</span>
Disk /dev/loop0: <span class="token number">88.4</span> MiB, <span class="token number">92733440</span> bytes, <span class="token number">181120</span> sectors
Disk /dev/loop1: <span class="token number">91</span> MiB, <span class="token number">95408128</span> bytes, <span class="token number">186344</span> sectors
<span class="token comment">## 目前只有一块磁盘 sda</span>
Disk /dev/sda: <span class="token number">20</span> GiB, <span class="token number">21474836480</span> bytes, <span class="token number">41943040</span> sectors
/dev/sda1     <span class="token number">2048</span>     <span class="token number">4095</span>     <span class="token number">2048</span>   1M BIOS boot
/dev/sda2     <span class="token number">4096</span>  <span class="token number">2101247</span>  <span class="token number">2097152</span>   1G Linux filesystem
/dev/sda3  <span class="token number">2101248</span> <span class="token number">41940991</span> <span class="token number">39839744</span>  19G Linux filesystem
Disk /dev/mapper/ubuntu--vg-ubuntu--lv: <span class="token number">19</span> GiB, <span class="token number">20396900352</span> bytes, <span class="token number">39837696</span> sectors
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 在虚拟机中挂载多一块磁盘，再操作</span>
<span class="token function">fdisk</span> -l <span class="token operator">|</span><span class="token function">grep</span> <span class="token string">'/dev'</span>
<span class="token comment"># 输出如下</span>
Disk /dev/loop0: <span class="token number">88.4</span> MiB, <span class="token number">92733440</span> bytes, <span class="token number">181120</span> sectors
Disk /dev/loop1: <span class="token number">91</span> MiB, <span class="token number">95408128</span> bytes, <span class="token number">186344</span> sectors
<span class="token comment">## 挂载的第一块磁盘 sda</span>
Disk /dev/sda: <span class="token number">20</span> GiB, <span class="token number">21474836480</span> bytes, <span class="token number">41943040</span> sectors
/dev/sda1     <span class="token number">2048</span>     <span class="token number">4095</span>     <span class="token number">2048</span>   1M BIOS boot
/dev/sda2     <span class="token number">4096</span>  <span class="token number">2101247</span>  <span class="token number">2097152</span>   1G Linux filesystem
/dev/sda3  <span class="token number">2101248</span> <span class="token number">41940991</span> <span class="token number">39839744</span>  19G Linux filesystem
<span class="token comment">## 挂载的第二块磁盘 sdb</span>
Disk /dev/sdb: <span class="token number">20</span> GiB, <span class="token number">21474836480</span> bytes, <span class="token number">41943040</span> sectors
Disk /dev/mapper/ubuntu--vg-ubuntu--lv: <span class="token number">19</span> GiB, <span class="token number">20396900352</span> bytes, <span class="token number">39837696</span> sectors
</code></pre></div><h3 id="创建-sdb-分区"><a href="#创建-sdb-分区" class="header-anchor">#</a> 创建 sdb 分区</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">fdisk</span> /dev/sdb
<span class="token comment"># 输出如下</span>
Welcome to <span class="token function">fdisk</span> <span class="token punctuation">(</span>util-linux <span class="token number">2.31</span>.1<span class="token punctuation">)</span>.
Changes will remain <span class="token keyword">in</span> memory only, <span class="token keyword">until</span> you decide to <span class="token function">write</span> them.
Be careful before using the <span class="token function">write</span> command.
Device does not contain a recognized partition table.
Created a new DOS disklabel with disk identifier 0x0de15f1d.
<span class="token comment">## 在此处输入命令</span>
<span class="token comment">## n：新建分区</span>
<span class="token comment">## l: 选择逻辑分区，如果没有，则首先创建主分区（p），然后再添加逻辑分区（硬盘最多四个分区 P-P-P-P 或 P-P-P-E）</span>
Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> <span class="token builtin class-name">help</span><span class="token punctuation">)</span>: n
Partition <span class="token builtin class-name">type</span>
   p   primary <span class="token punctuation">(</span><span class="token number">0</span> primary, <span class="token number">0</span> extended, <span class="token number">4</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended <span class="token punctuation">(</span>container <span class="token keyword">for</span> logical partitions<span class="token punctuation">)</span>
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>:
Using default response p.
Partition number <span class="token punctuation">(</span><span class="token number">1</span>-4, default <span class="token number">1</span><span class="token punctuation">)</span>: 
First sector <span class="token punctuation">(</span><span class="token number">2048</span>-41943039, default <span class="token number">2048</span><span class="token punctuation">)</span>: 
Last sector, +sectors or +size<span class="token punctuation">{</span>K,M,G,T,P<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">2048</span>-41943039, default <span class="token number">41943039</span><span class="token punctuation">)</span>: 
Created a new partition <span class="token number">1</span> of <span class="token builtin class-name">type</span> <span class="token string">'Linux'</span> and of size <span class="token number">20</span> GiB.
<span class="token comment">## 在此处输入命令</span>
<span class="token comment">## w：写入磁盘</span>
Command <span class="token punctuation">(</span>m <span class="token keyword">for</span> <span class="token builtin class-name">help</span><span class="token punctuation">)</span>: w
The partition table has been altered.
Calling ioctl<span class="token punctuation">(</span><span class="token punctuation">)</span> to re-read partition table.
Syncing disks.
</code></pre></div><h3 id="格式化磁盘"><a href="#格式化磁盘" class="header-anchor">#</a> 格式化磁盘</h3> <ul><li><p>查看分区</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">fdisk</span> -l <span class="token operator">|</span><span class="token function">grep</span> <span class="token string">'/dev'</span>
<span class="token comment"># 输出如下</span>
Disk /dev/loop0: <span class="token number">88.4</span> MiB, <span class="token number">92733440</span> bytes, <span class="token number">181120</span> sectors
Disk /dev/loop1: <span class="token number">91</span> MiB, <span class="token number">95408128</span> bytes, <span class="token number">186344</span> sectors
Disk /dev/sda: <span class="token number">20</span> GiB, <span class="token number">21474836480</span> bytes, <span class="token number">41943040</span> sectors
/dev/sda1     <span class="token number">2048</span>     <span class="token number">4095</span>     <span class="token number">2048</span>   1M BIOS boot
/dev/sda2     <span class="token number">4096</span>  <span class="token number">2101247</span>  <span class="token number">2097152</span>   1G Linux filesystem
/dev/sda3  <span class="token number">2101248</span> <span class="token number">41940991</span> <span class="token number">39839744</span>  19G Linux filesystem
Disk /dev/sdb: <span class="token number">20</span> GiB, <span class="token number">21474836480</span> bytes, <span class="token number">41943040</span> sectors
<span class="token comment">## 此时可以看见新创建的分区 /dev/sdb1</span>
/dev/sdb1        <span class="token number">2048</span> <span class="token number">41943039</span> <span class="token number">41940992</span>  20G <span class="token number">83</span> Linux
Disk /dev/mapper/ubuntu--vg-ubuntu--lv: <span class="token number">19</span> GiB, <span class="token number">20396900352</span> bytes, <span class="token number">39837696</span> sectors
</code></pre></div></li> <li><p>格式化</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkfs</span> -t ext4 /dev/sdb1
<span class="token comment"># 输出如下</span>
<span class="token function">mke2fs</span> <span class="token number">1.44</span>.1 <span class="token punctuation">(</span><span class="token number">24</span>-Mar-2018<span class="token punctuation">)</span>
Creating filesystem with <span class="token number">5242624</span> 4k blocks and <span class="token number">1310720</span> inodes
Filesystem UUID: 6f11063f-c118-4099-90fc-2b083c181b23
Superblock backups stored on blocks: 
        <span class="token number">32768</span>, <span class="token number">98304</span>, <span class="token number">163840</span>, <span class="token number">229376</span>, <span class="token number">294912</span>, <span class="token number">819200</span>, <span class="token number">884736</span>, <span class="token number">1605632</span>, <span class="token number">2654208</span>, 
        <span class="token number">4096000</span>
Allocating group tables: <span class="token keyword">done</span>                            
Writing inode tables: <span class="token keyword">done</span>                            
Creating journal <span class="token punctuation">(</span><span class="token number">32768</span> blocks<span class="token punctuation">)</span>: <span class="token keyword">done</span>
Writing superblocks and filesystem accounting information: <span class="token keyword">done</span>
</code></pre></div></li></ul> <h3 id="创建-pv"><a href="#创建-pv" class="header-anchor">#</a> 创建 PV</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>pvcreate /dev/sdb1
<span class="token comment"># 输出如下</span>
WARNING: ext4 signature detected on /dev/sdb1 at offset <span class="token number">1080</span>. Wipe it? <span class="token punctuation">[</span>y/n<span class="token punctuation">]</span>: y
  Wiping ext4 signature on /dev/sdb1.
  Physical volume <span class="token string">&quot;/dev/sdb1&quot;</span> successfully created.
</code></pre></div><h3 id="查看卷组"><a href="#查看卷组" class="header-anchor">#</a> 查看卷组</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>pvscan
<span class="token comment"># 输出如下</span>
PV /dev/sda3   VG ubuntu-vg       lvm2 <span class="token punctuation">[</span><span class="token operator">&lt;</span><span class="token number">19.00</span> GiB / <span class="token number">0</span>    free<span class="token punctuation">]</span>
PV /dev/sdb1                      lvm2 <span class="token punctuation">[</span><span class="token operator">&lt;</span><span class="token number">20.00</span> GiB<span class="token punctuation">]</span>
Total: <span class="token number">2</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span><span class="token number">39.00</span> GiB<span class="token punctuation">]</span> / <span class="token keyword">in</span> use: <span class="token number">1</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span><span class="token number">19.00</span> GiB<span class="token punctuation">]</span> / <span class="token keyword">in</span> no VG: <span class="token number">1</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span><span class="token number">20.00</span> GiB<span class="token punctuation">]</span>
</code></pre></div><h3 id="扩容-vg"><a href="#扩容-vg" class="header-anchor">#</a> 扩容 VG</h3> <ul><li><p>查看 VG</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vgdisplay
<span class="token comment"># 输出如下</span>
--- Volume group ---
<span class="token comment">## 我们需要用到 VG Name</span>
VG Name               ubuntu-vg
System ID             
Format                lvm2
Metadata Areas        <span class="token number">1</span>
Metadata Sequence No  <span class="token number">2</span>
VG Access             read/write
VG Status             resizable
MAX LV                <span class="token number">0</span>
Cur LV                <span class="token number">1</span>
Open LV               <span class="token number">1</span>
Max PV                <span class="token number">0</span>
Cur PV                <span class="token number">1</span>
Act PV                <span class="token number">1</span>
VG Size               <span class="token operator">&lt;</span><span class="token number">19.00</span> GiB
PE Size               <span class="token number">4.00</span> MiB
Total PE              <span class="token number">4863</span>
Alloc PE / Size       <span class="token number">4863</span> / <span class="token operator">&lt;</span><span class="token number">19.00</span> GiB
Free  PE / Size       <span class="token number">0</span> / <span class="token number">0</span>   
VG UUID               dhI9ns-7lOI-pXf8-IOWL-F96N-JIYG-ZF6u82
</code></pre></div></li> <li><p>扩容 VG</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vgextend ubuntu-vg /dev/sdb1
<span class="token comment"># 输出如下</span>
Volume group <span class="token string">&quot;ubuntu-vg&quot;</span> successfully extended
</code></pre></div></li></ul> <h3 id="扩容-lv"><a href="#扩容-lv" class="header-anchor">#</a> 扩容 LV</h3> <ul><li><p>查看 VG</p> <div class="language-bash extra-class"><pre class="language-bash"><code>vgdisplay
<span class="token comment"># 输出如下</span>
--- Volume group ---
VG Name               ubuntu-vg
System ID             
Format                lvm2
Metadata Areas        <span class="token number">2</span>
Metadata Sequence No  <span class="token number">3</span>
VG Access             read/write
VG Status             resizable
MAX LV                <span class="token number">0</span>
Cur LV                <span class="token number">1</span>
Open LV               <span class="token number">1</span>
Max PV                <span class="token number">0</span>
Cur PV                <span class="token number">2</span>
Act PV                <span class="token number">2</span>
VG Size               <span class="token number">38.99</span> GiB
PE Size               <span class="token number">4.00</span> MiB
Total PE              <span class="token number">9982</span>
Alloc PE / Size       <span class="token number">4863</span> / <span class="token operator">&lt;</span><span class="token number">19.00</span> GiB
<span class="token comment">## 这里是可以扩容的大小</span>
Free  PE / Size       <span class="token number">5119</span> / <span class="token operator">&lt;</span><span class="token number">20.00</span> GiB
VG UUID               dhI9ns-7lOI-pXf8-IOWL-F96N-JIYG-ZF6u82
</code></pre></div></li> <li><p>查看 LV</p> <div class="language-bash extra-class"><pre class="language-bash"><code>lvdisplay
<span class="token comment"># 输出如下</span>
--- Logical volume ---
<span class="token comment">## 我们需要用到 LV Path</span>
LV Path                /dev/ubuntu-vg/ubuntu-lv
LV Name                ubuntu-lv
VG Name                ubuntu-vg
LV UUID                e2fKkR-oZeH-WV2A-ltCi-P76v-N9yv-aUtIg1
LV Write Access        read/write
LV Creation host, <span class="token function">time</span> ubuntu-server, <span class="token number">2019</span>-05-14 03:13:57 +0800
LV Status              available
<span class="token comment"># open                 1</span>
LV Size                <span class="token operator">&lt;</span><span class="token number">19.00</span> GiB
Current LE             <span class="token number">4863</span>
Segments               <span class="token number">1</span>
Allocation             inherit
Read ahead sectors     auto
- currently <span class="token builtin class-name">set</span> to     <span class="token number">256</span>
Block device           <span class="token number">253</span>:0
</code></pre></div></li> <li><p>扩容 LV</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 按固定大小追加</span>
lvextend -L +10G /dev/ubuntu-vg/ubuntu-lv
<span class="token comment"># 按百分比追加</span>
lvextend -l +100%FREE /dev/ubuntu-vg/ubuntu-lv
<span class="token comment"># 输出如下</span>
Size of logical volume ubuntu-vg/ubuntu-lv changed from <span class="token operator">&lt;</span><span class="token number">19.00</span> GiB <span class="token punctuation">(</span><span class="token number">4863</span> extents<span class="token punctuation">)</span> to <span class="token number">38.99</span> GiB <span class="token punctuation">(</span><span class="token number">9982</span> extents<span class="token punctuation">)</span>.
Logical volume ubuntu-vg/ubuntu-lv successfully resized.
</code></pre></div></li> <li><p>刷新分区</p> <div class="language-bash extra-class"><pre class="language-bash"><code>resize2fs /dev/ubuntu-vg/ubuntu-lv
<span class="token comment"># 输出如下</span>
Filesystem at /dev/ubuntu-vg/ubuntu-lv is mounted on /<span class="token punctuation">;</span> on-line resizing required
old_desc_blocks <span class="token operator">=</span> <span class="token number">3</span>, new_desc_blocks <span class="token operator">=</span> <span class="token number">5</span>
The filesystem on /dev/ubuntu-vg/ubuntu-lv is now <span class="token number">10221568</span> <span class="token punctuation">(</span>4k<span class="token punctuation">)</span> blocks long.
</code></pre></div></li> <li><p>验证是否成功</p> <div class="language-bash extra-class"><pre class="language-bash"><code>lvdisplay
--- Logical volume ---
LV Path                /dev/ubuntu-vg/ubuntu-lv
LV Name                ubuntu-lv
VG Name                ubuntu-vg
LV UUID                e2fKkR-oZeH-WV2A-ltCi-P76v-N9yv-aUtIg1
LV Write Access        read/write
LV Creation host, <span class="token function">time</span> ubuntu-server, <span class="token number">2019</span>-05-14 03:13:57 +0800
LV Status              available
<span class="token comment"># open                 1</span>
<span class="token comment">## 可以看到磁盘扩容成功了</span>
LV Size                <span class="token number">38.99</span> GiB
Current LE             <span class="token number">9982</span>
Segments               <span class="token number">2</span>
Allocation             inherit
Read ahead sectors     auto
- currently <span class="token builtin class-name">set</span> to     <span class="token number">256</span>
Block device           <span class="token number">253</span>:0
</code></pre></div><blockquote><p><strong>注意：</strong> 不要卸载扩容的磁盘，可能出现丢失数据或是系统无法启动</p></blockquote></li></ul> <h3 id="动态扩容提示空间不足"><a href="#动态扩容提示空间不足" class="header-anchor">#</a> 动态扩容提示空间不足</h3> <p>动态扩容时可能会提示 <code>/etc/lvm/archive/.lvm_xxxxxx: write error failed: No space left on device</code> 的错误，这是由于磁盘空间使用量已经 100% 了，我们可以使用 <code>lvresize</code> 的方式扩容</p> <div class="language-bash extra-class"><pre class="language-bash"><code>lvresize -A n -L +10G /dev/ubuntu-vg/ubuntu-lv
resize2fs -p /dev/ubuntu-vg/ubuntu-lv
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/apple54whn/notes/edit/master/docs/Basic/OS/Linux/0 Intro.md" target="_blank" rel="noopener noreferrer">编辑文档！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">2/10/2020, 5:35:42 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/Basic/OS/Linux/1 Intro1.html">1 hhh</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.4c2406b8.js" defer></script><script src="/assets/js/2.4ce794f3.js" defer></script><script src="/assets/js/19.5bd66b43.js" defer></script><script src="/assets/js/33.9b523a1b.js" defer></script>
  </body>
</html>
