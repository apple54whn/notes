(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{383:function(t,a,e){t.exports=e.p+"assets/img/mybatis-plus-framework.d244dc24.jpg"},384:function(t,a,e){t.exports=e.p+"assets/img/image-20191214112545811.4ff9269f.png"},572:function(t,a,e){"use strict";e.r(a);var s=e(2),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_0-primer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_0-primer"}},[t._v("#")]),t._v(" 0 Primer")]),t._v(" "),s("h2",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/baomidou/mybatis-plus",target:"_blank",rel:"noopener noreferrer"}},[t._v("MyBatis-Plus"),s("OutboundLink")],1),t._v("（简称 MP）是一个 "),s("a",{attrs:{href:"http://www.mybatis.org/mybatis-3/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MyBatis"),s("OutboundLink")],1),t._v(" 的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。具体查看官网介绍。")]),t._v(" "),s("h2",{attrs:{id:"特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[t._v("#")]),t._v(" 特性")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("无侵入")]),t._v("：只做增强不做改变，引入它不会对现有工程产生影响，如丝般顺滑")]),t._v(" "),s("li",[s("strong",[t._v("损耗小")]),t._v("：启动即会自动注入基本 CURD，性能基本无损耗，直接面向对象操作")]),t._v(" "),s("li",[s("strong",[t._v("强大的 CRUD 操作")]),t._v("：内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求")]),t._v(" "),s("li",[s("strong",[t._v("支持 Lambda 形式调用")]),t._v("：通过 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写错")]),t._v(" "),s("li",[s("strong",[t._v("支持主键自动生成")]),t._v("：支持多达 4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题")]),t._v(" "),s("li",[s("strong",[t._v("支持 ActiveRecord 模式")]),t._v("：支持 ActiveRecord 形式调用，实体类只需继承 Model 类即可进行强大的 CRUD 操作")]),t._v(" "),s("li",[s("strong",[t._v("支持自定义全局通用操作")]),t._v("：支持全局通用方法注入（ Write once, use anywhere ）")]),t._v(" "),s("li",[s("strong",[t._v("内置代码生成器")]),t._v("：采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用")]),t._v(" "),s("li",[s("strong",[t._v("内置分页插件")]),t._v("：基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询")]),t._v(" "),s("li",[s("strong",[t._v("分页插件支持多种数据库")]),t._v("：支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、Postgre、SQLServer 等多种数据库")]),t._v(" "),s("li",[s("strong",[t._v("内置性能分析插件")]),t._v("：可输出 Sql 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询")]),t._v(" "),s("li",[s("strong",[t._v("内置全局拦截插件")]),t._v("：提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作")])]),t._v(" "),s("h2",{attrs:{id:"支持数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#支持数据库"}},[t._v("#")]),t._v(" 支持数据库")]),t._v(" "),s("ul",[s("li",[t._v("mysql 、 mariadb 、 oracle 、 db2 、 h2 、 hsql 、 sqlite 、 postgresql 、 sqlserver")]),t._v(" "),s("li",[t._v("达梦数据库 、 虚谷数据库 、 人大金仓数据库")])]),t._v(" "),s("h2",{attrs:{id:"框架结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#框架结构"}},[t._v("#")]),t._v(" 框架结构")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:e(383),alt:"framework"}}),t._v(" "),s("h2",{attrs:{id:"hello-world"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hello-world"}},[t._v("#")]),t._v(" Hello World")]),t._v(" "),s("blockquote",[s("p",[t._v("参照"),s("a",{attrs:{href:"https://mybatis.plus/guide/quick-start.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),s("OutboundLink")],1),t._v("。")])]),t._v(" "),s("h3",{attrs:{id:"spring-initializer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spring-initializer"}},[t._v("#")]),t._v(" Spring Initializer")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://start.spring.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring Initializer"),s("OutboundLink")],1),t._v(" 选择如下依赖。数据库任选。")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:e(384),alt:"image-20191214112545811"}}),t._v(" "),s("p",[t._v("添加"),s("code",[t._v("mybatis-plus-boot-starter")])]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.baomidou"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("mybatis-plus-boot-starter"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("3.3.0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h3",{attrs:{id:"application-yml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#application-yml"}},[t._v("#")]),t._v(" application.yml")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("application.yml")]),t._v(" 配置文件中添加数据库的相关配置：")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# DataSource Config")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spring")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("datasource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# type: com.zaxxer.hikari.HikariDataSource # 可省略，Spring Boot 会自动检测")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# driver-class-name: com.mysql.cj.jdbc.Driver # 可省略，Spring Boot 会自动检测")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jdbc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//172.16.154.11"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3306/test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("useUnicode=true"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("&characterEncoding")]),t._v("=utf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("8"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("&useSSL")]),t._v("=false"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("&serverTimezone")]),t._v("=GMT%2B8\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" root\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hikari")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# driver-class-name: com.mysql.cj.jdbc.Driver # 可省略，Spring Boot 会自动检测。且上面选项也可以指定。")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# HikariCP 连接池配置")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("minimum-idle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("idle-timeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("600000")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maximum-pool-size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("auto-commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pool-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" MyHikariCP\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("max-lifetime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1800000")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("connection-timeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30000")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("connection-test-query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" SELECT 1\n      \n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# H2")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# driver-class-name: org.h2.Driver # 可省略，Spring Boot 会自动检测")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# schema: classpath:db/schema-h2.sql")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# data: classpath:db/data-h2.sql")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# url: jdbc:h2:mem:test")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# username: root")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# password: test")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mybatis-plus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mapper-locations: # 默认扫描 classpath*:/mapper/**/*.mapper")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("global-config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("db-config")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("id-type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" assign_id "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 雪花算法ID，可为String或Long")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("logic-delete-field")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" isDeleted  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#全局逻辑删除字段值 3.3.0开始支持，详情看下面。")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#logic-delete-value: 1 # 逻辑已删除值(默认为 1)")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#logic-not-delete-value: 0 # 逻辑未删除值(默认为 0)")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# insert-strategy: not_null # 插入数据时只插入不为 null 的，默认值为 not_null")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# update-strategy: not_null # 插入数据时只插入不为 null 的，默认值为 not_null。若是 ignore 则遇到 null 会更新为 null。")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# select-strategy: not_null # 插入数据时只插入不为 null 的，默认值为 not_null")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type-aliases-package")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" com.tensquare.article.domain "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MyBaits 别名包扫描路径，通过该属性可以给包中的 domain 类注册别名")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type-enums-package")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" com.tensquare.article.enum "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 枚举类扫描路径")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("lazy-loading-enabled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 延时加载的开关")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# map-underscore-to-camel-case: true # 下划线转驼峰，默认为 true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cache-enabled: true # 配置的缓存的全局开关，M和MP默认为 true")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Log Config")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("logging")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("level")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("top.conanan.studymybatisplus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" debug\n")])])]),s("h3",{attrs:{id:"log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#log"}},[t._v("#")]),t._v(" log")]),t._v(" "),s("h4",{attrs:{id:"mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[t._v("#")]),t._v(" MySQL")]),t._v(" "),s("p",[s("code",[t._v("log4j.properties")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#log4j.properties")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Configure logging for testing: optionally with log file")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("log4j.rootLogger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("WARN, stdout")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# log4j.rootLogger=WARN, stdout, logfile")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("log4j.appender.stdout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("org.apache.log4j.ConsoleAppender")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("log4j.appender.stdout.layout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("org.apache.log4j.PatternLayout")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("log4j.appender.stdout.layout.ConversionPattern")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("%d %p [%c] - %m%n")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("log4j.appender.logfile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("org.apache.log4j.FileAppender")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("log4j.appender.logfile.File")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("target/spring.log")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("log4j.appender.logfile.layout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("org.apache.log4j.PatternLayout")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("log4j.appender.logfile.layout.ConversionPattern")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("%d %p [%c] - %m%n")]),t._v("\n")])])]),s("h4",{attrs:{id:"h2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#h2"}},[t._v("#")]),t._v(" H2")]),t._v(" "),s("p",[s("code",[t._v("spy.properties")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("modulelist")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("com.baomidou.mybatisplus.extension.p6spy.MybatisPlusLogFactory,com.p6spy.engine.outage.P6OutageFactory")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自定义日志打印")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("logMessageFormat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("com.baomidou.mybatisplus.extension.p6spy.P6SpyLogger")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#日志输出到控制台")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("appender")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("com.baomidou.mybatisplus.extension.p6spy.StdoutLogger")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用日志系统记录 sql")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#appender=com.p6spy.engine.spy.appender.Slf4JLogger")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置 p6spy driver 代理")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("deregisterdrivers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取消JDBC URL前缀")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("useprefix")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置记录 Log 例外,可去掉的结果集有error,info,batch,debug,statement,commit,rollback,result,resultset.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("excludecategories")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("info,debug,result,commit,resultset")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 日期格式")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("dateformat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("yyyy-MM-dd HH:mm:ss")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 实际驱动可多个")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#driverlist=org.h2.Driver")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 是否开启慢SQL记录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("outagedetection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 慢SQL记录标准 2 秒")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("outagedetectioninterval")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("2")]),t._v("\n")])])]),s("h3",{attrs:{id:"conf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#conf"}},[t._v("#")]),t._v(" conf")]),t._v(" "),s("blockquote",[s("p",[t._v("详细配置查看配置章节")])]),t._v(" "),s("h4",{attrs:{id:"mapperscan"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapperscan"}},[t._v("#")]),t._v(" MapperScan")]),t._v(" "),s("p",[t._v("在 Spring Boot 启动类中添加 "),s("code",[t._v("Mybatis")]),t._v(" 注解 "),s("code",[t._v("@MapperScan")]),t._v(" ，扫描 Mapper 文件夹：")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@MapperScan")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"top.conanan.studymybatisplus.mapper"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("或者在每个 Mapper.java 文件添加 "),s("code",[t._v("Mybatis")]),t._v(" 注解"),s("code",[t._v("@Mapper")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Mapper")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserMapper")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseMapper")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"mapper-locations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapper-locations"}},[t._v("#")]),t._v(" mapper-locations")]),t._v(" "),s("p",[t._v("配置要扫描 mapper 的 xml 文件地址。默认扫描 "),s("code",[t._v("classpath*:/mapper/**/*Mapper.xml")])]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mybatis-plus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 默认扫描 classpath*:/mapper/**/*.xml")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mapper-locations:")]),t._v("\n")])])]),s("h3",{attrs:{id:"schema-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#schema-data"}},[t._v("#")]),t._v(" Schema & Data")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXISTS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tid "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BIGINT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'主键ID'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tname "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'姓名'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tage "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'年龄'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\temail "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'邮箱'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELETE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" email"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jone'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test1@baomidou.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jack'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test2@baomidou.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Tom'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test3@baomidou.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Sandy'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test4@baomidou.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Billie'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test5@baomidou.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",[t._v("id")]),t._v(" "),s("th",[t._v("name")]),t._v(" "),s("th",[t._v("age")]),t._v(" "),s("th",[t._v("email")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("Jone")]),t._v(" "),s("td",[t._v("18")]),t._v(" "),s("td",[t._v("test1@baomidou.com")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("Jack")]),t._v(" "),s("td",[t._v("20")]),t._v(" "),s("td",[t._v("test2@baomidou.com")])]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("Tom")]),t._v(" "),s("td",[t._v("28")]),t._v(" "),s("td",[t._v("test3@baomidou.com")])]),t._v(" "),s("tr",[s("td",[t._v("4")]),t._v(" "),s("td",[t._v("Sandy")]),t._v(" "),s("td",[t._v("21")]),t._v(" "),s("td",[t._v("test4@baomidou.com")])]),t._v(" "),s("tr",[s("td",[t._v("5")]),t._v(" "),s("td",[t._v("Billie")]),t._v(" "),s("td",[t._v("24")]),t._v(" "),s("td",[t._v("test5@baomidou.com")])])])]),t._v(" "),s("h3",{attrs:{id:"domain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#domain"}},[t._v("#")]),t._v(" domain")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Data")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" email"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"mapper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mapper"}},[t._v("#")]),t._v(" Mapper")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @Mapper // 若每个 Mapper 类添加了 Mapper 注解，则不用配置 MapperScan 注解。二选一")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserMapper")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("BaseMapper")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"test"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#test"}},[t._v("#")]),t._v(" Test")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SpringBootTest")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StudyMybatisPlusApplicationTests")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserMapper")]),t._v(" userMapper"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// org.junit.jupiter.api.Test")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Test")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("select")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" users "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" userMapper"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    users"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"注解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注解"}},[t._v("#")]),t._v(" 注解")]),t._v(" "),s("blockquote",[s("p",[t._v("更多详细描述可点击查看源码注释")]),t._v(" "),s("p",[s("strong",[t._v("注意")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("类中属性可以比数据库中的字段（或者查寻的）少")]),t._v("，最终结果就是映射不到那个字段")]),t._v(" "),s("li",[s("strong",[t._v("类中属性不能比数据库中的字段（或者查寻的）多")]),t._v("，除非使用TableField的 exist=false。若因驼峰转换问题失败，根本原因也是如此")])])]),t._v(" "),s("h3",{attrs:{id:"tablename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tablename"}},[t._v("#")]),t._v(" @TableName")]),t._v(" "),s("ul",[s("li",[t._v("描述：表名注解")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("必须指定")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("value")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",[t._v("表名")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("schema")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",[t._v("schema(@since 3.1.1)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("keepGlobalPrefix")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),s("td",[t._v("是否保持使用全局的 tablePrefix 的值(如果设置了全局 tablePrefix 且自行设置了 value 的值)(@since 3.1.1)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("resultMap")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",[t._v("xml 中 resultMap 的 id")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("autoResultMap")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),s("td",[t._v("是否自动构建 resultMap 并使用(如果设置 resultMap 则不会进行 resultMap 的自动构建并注入)(@since 3.1.2)")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("关于"),s("code",[t._v("autoResultMap")]),t._v("的说明:")]),t._v(" "),s("p",[t._v("从mp的原理上讲,因为底层是mybatis,所以一些mybatis的常识你要知道,mp只是帮你注入了常用crud 注入之前可以说是动态的(根据你entity的字段以及注解变化而变化),但是注入之后是静态的(等于你写在xml的东西) 而对于直接指定"),s("code",[t._v("typeHandler")]),t._v(",mybatis只支持你写在2个地方:")]),t._v(" "),s("ol",[s("li",[t._v("定义在resultMap里,只作用于select查询的返回结果封装")]),t._v(" "),s("li",[t._v("定义在"),s("code",[t._v("insert")]),t._v("和"),s("code",[t._v("update")]),t._v("sql的"),s("code",[t._v("#{property}")]),t._v("里的"),s("code",[t._v("property")]),t._v("后面(例:"),s("code",[t._v("#{property,typehandler=xxx.xxx.xxx}")]),t._v("),只作用于"),s("code",[t._v("设置值")]),t._v(" 而除了这两种直接指定"),s("code",[t._v("typeHandler")]),t._v(",mybatis有一个全局的扫描你自己的"),s("code",[t._v("typeHandler")]),t._v("包的配置,这是根据你的"),s("code",[t._v("property")]),t._v("的类型去找"),s("code",[t._v("typeHandler")]),t._v("并使用 这个属性的作用就是:如果你的"),s("code",[t._v("property")]),t._v("类型... todo")])])]),t._v(" "),s("h3",{attrs:{id:"tableid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tableid"}},[t._v("#")]),t._v(" @TableId")]),t._v(" "),s("p",[t._v("描述：主键注解")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("必须指定")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("value")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("主键字段名")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("type")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Enum")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("IdType.NONE")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("主键类型")])])])]),t._v(" "),s("p",[t._v("IdType")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("值")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("AUTO")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("数据库自增，打印的 SQL 中不会先有 ID 值。其他的会有 ID 值")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("NONE")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("该类型为未设置主键类型(注解里等于跟随全局,全局里约等于 INPUT)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("INPUT")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("用户输入ID，该类型可以通过自己注册自动填充插件进行填充")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ASSIGN_ID(since 3.3.0)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("分配ID (主键类型为number或string) 。只有当插入对象ID 为空，才自动填充")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ASSIGN_UUID(since 3.3.0)")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("分配UUID (主键类型为 string)。只有当插入对象ID 为空，才自动填充")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ID_WORKER")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("deprecated 3.3.0 please use ASSIGN_ID。分布式全局唯一ID 长整型类型")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ID_WORKER_STR")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("deprecated 3.3.0 please use ASSIGN_ID。分布式全局唯一ID 字符串类型")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("UUID")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("deprecated 3.3.0 please use ASSIGN_UUID。32位UUID字符串")])])])]),t._v(" "),s("h3",{attrs:{id:"tablefield"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tablefield"}},[t._v("#")]),t._v(" @TableField")]),t._v(" "),s("p",[t._v("描述：字段注解(非主键)。解决问题：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("对象中属性名（非驼峰命名）和数据库中字段"),s("strong",[t._v("名不一致")]),t._v("：value。不需要配置该值的情况：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v('当 com.baomidou.mybatisplus.core.MybatisConfiguration.mapUnderscoreToCamelCase 为 true 时, (mp下默认是true,mybatis默认是false), 数据库字段值.replace("_","").toUpperCase() == 实体属性名.toUpperCase()')])]),t._v(" "),s("li",[s("p",[t._v("当 com.baomidou.mybatisplus.core.MybatisConfiguration.mapUnderscoreToCamelCase 为 false 时, 数据库字段值.toUpperCase() == 实体属性名.toUpperCase()")]),t._v(" "),s("blockquote",[s("p",[t._v("查看配置章节的MybatisConfiguration.mapUnderscoreToCamelCase配置")])])])])]),t._v(" "),s("li",[s("p",[t._v("对象中属性名在数据库中"),s("strong",[t._v("不存在对应的字段")]),t._v("：exist")])]),t._v(" "),s("li",[s("p",[t._v("不愿在 select 中查询出字段：select。也可以在 Lambda 中写，不推荐在此处使用，除非该字段比较"),s("strong",[t._v("隐私需要全局配置")])])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("必须指定")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("value")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("数据库字段值。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("el")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("映射为原生 "),s("code",[t._v("#{...}")]),t._v(" 逻辑,相当于写在 xml 里的 "),s("code",[t._v("#{...}")]),t._v(" 部分")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("exist")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("true")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是否为数据库表字段")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("condition")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("字段 "),s("code",[t._v("where")]),t._v(" 实体查询比较条件,有值设置则按设置的值为准,没有则为默认全局的 "),s("code",[t._v("%s=#{%s}")]),t._v(","),s("a",{attrs:{href:"https://github.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus-annotation/src/main/java/com/baomidou/mybatisplus/annotation/SqlCondition.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("update")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("字段 "),s("code",[t._v("update set")]),t._v(' 部分注入, 例如：update="%s+1"：表示更新时会set version=version+1(该属性优先级高于 '),s("code",[t._v("el")]),t._v(" 属性)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("strategy")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Enum")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("FieldStrategy.DEFAULT")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("字段验证策略 3.1.2+使用下面3个替代")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("insertStrategy")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Enum")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("N")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("DEFAULT")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("举例：NOT_NULL: "),s("code",[t._v("insert into table_a(column) values (#{columnProperty})")]),t._v(" (since v_3.1.2)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("updateStrategy")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Enum")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("N")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("DEFAULT")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("举例：IGNORED: "),s("code",[t._v("update table_a set column=#{columnProperty}")]),t._v(" (since v_3.1.2)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("whereStrategy")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Enum")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("N")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("DEFAULT")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("举例：NOT_EMPTY: "),s("code",[t._v("where column=#{columnProperty}")]),t._v(" (since v_3.1.2)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("fill")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Enum")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("FieldFill.DEFAULT")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("字段自动填充策略")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("select")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("true")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是否进行 select 查询")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("keepGlobalFormat")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("是否保持使用全局的 format 进行处理(@since 3.1.1)")])])])]),t._v(" "),s("p",[t._v("FieldStrategy")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("值")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("IGNORED")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("忽略判断")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("NOT_NULL")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("非NULL判断")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("NOT_EMPTY")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("非空判断(只对字符串类型字段,其他类型字段依然为非NULL判断)")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("DEFAULT")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("追随全局配置")])])])]),t._v(" "),s("p",[t._v("FieldFill")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("值")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("DEFAULT")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("默认不处理")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("INSERT")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("插入时填充字段")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("UPDATE")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("更新时填充字段")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("INSERT_UPDATE")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("插入和更新时填充字段")])])])]),t._v(" "),s("h3",{attrs:{id:"version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#version"}},[t._v("#")]),t._v(" @Version")]),t._v(" "),s("p",[t._v("描述：乐观锁注解、标记 "),s("code",[t._v("@Verison")]),t._v(" 在字段上")]),t._v(" "),s("h3",{attrs:{id:"enumvalue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enumvalue"}},[t._v("#")]),t._v(" @EnumValue")]),t._v(" "),s("p",[t._v("描述：通枚举类注解(注解在枚举字段上)")]),t._v(" "),s("h3",{attrs:{id:"tablelogic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tablelogic"}},[t._v("#")]),t._v(" @TableLogic")]),t._v(" "),s("p",[t._v("描述：表字段逻辑处理注解（逻辑删除）")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("必须指定")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("value")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("逻辑未删除值")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("delval")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("逻辑删除值")])])])]),t._v(" "),s("h3",{attrs:{id:"sqlparser"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sqlparser"}},[t._v("#")]),t._v(" @SqlParser")]),t._v(" "),s("p",[t._v("描述：租户注解。目前只支持注解在 mapper 的方法上(3.1.1开始支持注解在mapper上)")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("必须指定")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("filter")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("true: 表示过滤SQL解析，即不会进入ISqlParser解析链，否则会进解析链并追加例如tenant_id等条件")])])])]),t._v(" "),s("h3",{attrs:{id:"keysequence"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#keysequence"}},[t._v("#")]),t._v(" @KeySequence")]),t._v(" "),s("p",[t._v("描述：序列主键策略 "),s("code",[t._v("oracle")])]),t._v(" "),s("p",[t._v("属性：value、resultMap")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("必须指定")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("value")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('""')]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("序列名")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("clazz")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Class")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Long.class")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v('id的类型, 可以指定String.class，这样返回的Sequence值是字符串"1"')])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);