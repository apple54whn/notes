(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{229:function(t,s,a){t.exports=a.p+"assets/img/image-20191204001039734.b4bb6733.png"},230:function(t,s,a){t.exports=a.p+"assets/img/9a9d894de942222.9bcc4d53.png"},231:function(t,s,a){t.exports=a.p+"assets/img/linux-permission.07796a75.png"},433:function(t,s,a){"use strict";a.r(s);var e=a(2),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_0-入门"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-入门"}},[t._v("#")]),t._v(" 0 入门")]),t._v(" "),e("h2",{attrs:{id:"概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),e("p",[t._v("Linux 是一种自由和开放源码的类 UNIX 操作系统，使用 Linux 内核。目前存在着许多不同的 Linux 发行版，可安装在各种各样的电脑硬件设备，从手机、平板电脑、路由器和影音游戏控制台，到桌上型电脑，大型电脑和超级电脑。 Linux 是一个领先的操作系统，世界上运算最快的 10 台超级电脑运行的都是 Linux 操作系统。")]),t._v(" "),e("p",[t._v("Linux 操作系统也是自由软件和开放源代码发展中最著名的例子。只要遵循 GNU 通用公共许可证,任何人和机构都可以自由地使用 Linux 的所有底层源代码，也可以自由地修改和再发布。严格来讲，Linux 这个词本身只表示 Linux 内核，但在实际上人们已经习惯了用 Linux 来形容整个基于 Linux 内核，并且使用 GNU 工程各种工具和数据库的操作系统 (也被称为 GNU/ Linux)。通常情况下，Linux 被打包成供桌上型电脑和服务器使用的 Linux 发行版本。一些流行的主流 Linux 发行版本，包括 Debian (及其衍生版本 Ubuntu)，Fedora 和 OpenSUSE 等。Kernel + Softwares + Tools 就是 Linux Distribution")]),t._v(" "),e("p",[t._v("Linux的版本分为两种：")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("内核版本")]),t._v("：是指在Linus领导下的内核小组开发维护的系统内核的版本号")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("发行版本")]),t._v("：是一些组织和公司根据自己发行版的不同而自定的")])])]),t._v(" "),e("p",[t._v("目前市面上较知名的发行版有："),e("code",[t._v("Ubuntu")]),t._v("、RedHat、"),e("code",[t._v("CentOS")]),t._v("、Debian、Fedora、SuSE、OpenSUSE、TurboLinux、BluePoint、RedFlag、Xterm、SlackWare等。")]),t._v(" "),e("h3",{attrs:{id:"linux-与-windows-比较"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux-与-windows-比较"}},[t._v("#")]),t._v(" Linux 与 Windows 比较")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("比较")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Windows")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Linux")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("界面")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("界面统一，外壳程序固定所有 Windows 程序菜单几乎一致，快捷键也几乎相同")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("图形界面风格依发布版不同而不同，可能互不兼容。GNU/Linux 的终端机是从 UNIX 传承下来，基本命令和操作方法也几乎一致。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("驱动程序")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("驱动程序丰富，版本更新频繁。默认安装程序里面一般包含有该版本发布时流行的硬件驱动程序，之后所出的新硬件驱动依赖于硬件厂商提供。对于一些老硬件，如果没有了原配的驱动有时很难支持。另外，有时硬件厂商未提供所需版本的 Windows 下的驱动，也会比较头痛。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("由志愿者开发，由Linux核心开发小组发布，很多硬件厂商基于版权考虑并未提供驱动程序，尽管多数无需手动安装，但是涉及安装则相对复杂，使得新用户面对驱动程序问题（是否存在和安装方法）会一筹莫展。但是在开源开发模式下，许多老硬件尽管在 Windows 下很难支持的也容易找到驱动。HP、Intel、AMD 等硬件厂商逐步不同程度支持开源驱动，问题正在得到缓解。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("使用")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("使用比较简单，容易入门。图形化界面对没有计算机背景知识的用户使用十分有利。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("图形界面使用简单，容易入门。文字界面，需要学习才能掌握。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("学习")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("系统构造复杂、变化频繁，且知识、技能淘汰快，深入学习困难。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("系统构造简单、稳定，且知识、技能传承性好，深入学习相对容易。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("软件")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("每一种特定功能可能都需要商业软件的支持，需要购买相应的授权。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("大部分软件都可以自由获取，同样功能的软件选择较少。")])])])]),t._v(" "),e("h3",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),e("p",[t._v("此处使用 Ubuntu 18.04")]),t._v(" "),e("ul",[e("li",[t._v("选择Use An Entire Disk And Set Up LVM，以便后续扩容")]),t._v(" "),e("li",[t._v("将磁盘可用空间使用完，即调整 lv 分区（逻辑卷）大小")]),t._v(" "),e("li",[t._v("勾选 Install OpenSSH server")]),t._v(" "),e("li",[t._v("修改 mirror，参考阿里云镜像站https://opsx.alibaba.com/mirror")])]),t._v(" "),e("h3",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),e("h4",{attrs:{id:"hostname"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hostname"}},[t._v("#")]),t._v(" hostname")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("修改 "),e("code",[t._v("/etc/cloud/cloud.cfg")]),t._v(" 防止重启后主机名还原")]),t._v(" "),e("div",{staticClass:"language-cfg extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("vim /etc/cloud/cloud.cfg\n\n# 该配置默认为 false，修改为 true 即可\npreserve_hostname: true\n")])])])]),t._v(" "),e("li",[e("p",[t._v("修改主机名")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看主机名")]),t._v("\nroot@ubuntu:/home/conanan"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hostnamectl")]),t._v("\n   Static hostname: ubuntu\n         Icon name: computer-vm\n           Chassis: vm\n        Machine ID: 7401befbdbaf4b3c9bfd8356535bd75f\n           Boot ID: 4acdda6f0f4540f2b906d8a2cd4a58fe\n    Virtualization: vmware\n  Operating System: Ubuntu "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.04")]),t._v(".3 LTS\n            Kernel: Linux "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.15")]),t._v(".0-70-generic\n      Architecture: x86-64\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 修改主机名")]),t._v("\nhostnamectl set-hostname deployment\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置 hosts，和本机 IP 一致")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" /etc/hosts "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("EOF\n172.16.154.11 deployment\nEOF")]),t._v("\n")])])])])]),t._v(" "),e("h4",{attrs:{id:"ip—ubuntu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ip—ubuntu"}},[t._v("#")]),t._v(" IP—Ubuntu")]),t._v(" "),e("p",[t._v("需要配置固定 IP，步骤如下（暂时测试是 OK 的）：")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("在 iTerm2 中输入"),e("code",[t._v("ifconfig")]),t._v("查看"),e("code",[t._v("vmnet8")]),t._v("即 NAT 模式的 IP 段，如下图")]),t._v(" "),e("p",[e("img",{attrs:{src:a(229),alt:"image-20191204001039734"}})])]),t._v(" "),e("li",[e("p",[t._v("在 Linux 中配置固定 IP")]),t._v(" "),e("p",[t._v("Ubuntu 从17.10开始，已放弃在 /etc/network/interfaces 里固定 IP 的配置，即使配置也不会生效，而是改成 netplan 方式 ，配置写在 /etc/netplan/01-netcfg.yaml 或者类似名称的 yaml 文件里。修改该文件：")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("network")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 网络")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ethernets")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 网卡")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ens33")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 网卡名称，根据 Linux 发行版不同也会随之改变，可以使用 ifconfig 来确定")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dhcp4")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true ")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# DHCP 协议，动态分配 IP，需改为 true，否则 ping 不通外网")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dhcp6")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true ")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# DHCP 协议，动态分配 IP")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("addresses")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("172.16.154.10/24"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 本机IP/子网掩码（确定局域网内主机 IP 范围）")]),t._v("\n      \n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如下配置后会 ping 不通外网，暂时不知道原因")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gateway4")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 172.16.154.1   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 网关（通过网关再通过路由器连接网络）")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nameservers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("addresses")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("172.16.154.1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# DNS，可不配置")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2 ")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 可不配置")]),t._v("\n")])])])]),t._v(" "),e("li",[e("p",[t._v("应用配置")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("netplan apply\n")])])])]),t._v(" "),e("li",[e("p",[t._v("有可能需要关闭防火墙，具体命令查看后续章节")])])]),t._v(" "),e("h4",{attrs:{id:"ip—centos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ip—centos"}},[t._v("#")]),t._v(" IP—CentOS")]),t._v(" "),e("p",[t._v("使用VMWare的桥接模式，详细查看该"),e("a",{attrs:{href:"https://www.cnblogs.com/tyindon/p/10416769.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("博客"),e("OutboundLink")],1)]),t._v(" "),e("h4",{attrs:{id:"dns"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dns"}},[t._v("#")]),t._v(" DNS")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取消 DNS 行注释，并增加 DNS 配置如：114.114.114.114，修改后重启下计算机")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /etc/systemd/resolved.conf\n")])])]),e("h3",{attrs:{id:"目录结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[t._v("#")]),t._v(" 目录结构")]),t._v(" "),e("p",[e("img",{attrs:{src:a(230),alt:"img"}})]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("目录")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("bin")]),t._v("(binaries)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("存放二进制可执行文件("),e("code",[t._v("ls")]),t._v(", "),e("code",[t._v("cat")]),t._v(", "),e("code",[t._v("mkdir")]),t._v(" 等)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("sbin")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("存放二进制可执行文件，只有 root 才能访问")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("boot")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("存放用于系统引导时使用的各种文件")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("dev(devices)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("用于存放设备文件，驱动程序")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("etc")]),t._v("(etcetera)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("存放系统配置文件")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("home")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("存放所有用户文件的根目录")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("root")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("超级用户目录")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("lib(library)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("存放跟文件系统中的程序运行所需要的共享库及内核模块")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("mnt(mount)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("系统管理员安装临时文件系统的安装点")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("opt")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("额外安装的可选应用程序包所放置的位置")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("proc")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("虚拟文件系统，存放当前内存的映射")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("tmp(temporary)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("用于存放各种临时文件")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("usr")]),t._v("(unix shared resource)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("用于存放共享的系统资源，如应用程序，比较重要的目录 "),e("code",[t._v("/usr/local")]),t._v(" 本地管理员软件安装目录")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("var")]),t._v("(variable)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("用于存放运行时需要改变数据的文件，变量")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("...")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),e("blockquote",[e("p",[t._v("Linux中，前缀带"),e("code",[t._v(".")]),t._v("的都是隐藏目录或文件")]),t._v(" "),e("p",[t._v("经常使用 "),e("code",[t._v("man command")]),t._v(" 或 "),e("code",[t._v("command --help")])]),t._v(" "),e("p",[t._v("大多数命令的参数可以只写"),e("code",[t._v("-")]),t._v("和"),e("code",[t._v("首字母")])])]),t._v(" "),e("h3",{attrs:{id:"远程控制管理-ssh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#远程控制管理-ssh"}},[t._v("#")]),t._v(" 远程控制管理 SSH")]),t._v(" "),e("p",[t._v("传统的网络服务程序，FTP、POP、Telnet 本质上都是不安全的，因为它们在网络上通过明文传送口令和数据，这些数据非常容易被截获。SSH 叫做 "),e("code",[t._v("Secure Shell")]),t._v("。通过 SSH，可以把传输数据进行加密，预防攻击，传输的数据进行了压缩，可以加快传输速度。")]),t._v(" "),e("h4",{attrs:{id:"openssh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#openssh"}},[t._v("#")]),t._v(" OpenSSH")]),t._v(" "),e("p",[t._v("SSH 是芬兰一家公司开发。但是受到版权和加密算法限制，现在很多人都使用 OpenSSH。OpenSSH 是 SSH 的替代软件，免费。OpenSSH 由客户端和服务端组成。")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("基于口令的安全验证：")]),t._v(" 知道服务器的帐号密码即可远程登录，口令和数据在传输过程中都会被加密。")]),t._v(" "),e("li",[e("strong",[t._v("基于密钥的安全验证：")]),t._v(" 此时需要在创建一对密钥，把公有密钥放到远程服务器上自己的宿主目录中，而私有密钥则由自己保存。")])]),t._v(" "),e("p",[t._v("一般安装 Ubuntu 时会勾选自动安装 OpenSSH，若没有可按如下步骤完成安装：")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检查软件是否安装")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-cache")]),t._v(" policy openssh-client openssh-server\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装服务端")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" openssh-server\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装客户端")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" openssh-client\n")])])]),e("p",[t._v("OpenSSH 服务器的主要配置文件为 "),e("code",[t._v("/etc/ssh/sshd\\_config")]),t._v("，几乎所有的配置信息都在此文件中。")]),t._v(" "),e("p",[t._v("Windows 下的 SSH 软件有：XShell、FinalShell，itrem")]),t._v(" "),e("p",[t._v("macOS 下的可以使用iTerm，自己配置")]),t._v(" "),e("h4",{attrs:{id:"ssh-连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssh-连接"}},[t._v("#")]),t._v(" SSH 连接")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("ssh conanan@123.11.11.11")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ssh -l conanan -p 22 123.11.11.11")])])]),t._v(" "),e("li",[e("p",[t._v("传输文件："),e("code",[t._v("scp D:\\zookeeper.tar.gz conanan@123.11.11.11:/root/也可以指定文件名称扩展名")])]),t._v(" "),e("p",[t._v("可反过来")])]),t._v(" "),e("li",[e("p",[t._v("SecureCRT软件：按"),e("code",[t._v("Alt+P")]),t._v("可打开sftp来传输文件，如"),e("code",[t._v("put d:\\zookeeper-3.4.6.tar.gz")])])])]),t._v(" "),e("h2",{attrs:{id:"文件管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件管理"}},[t._v("#")]),t._v(" 文件管理")]),t._v(" "),e("blockquote",[e("p",[t._v("Linux 中所有东西都是"),e("strong",[t._v("文件")]),t._v("。如下笔记中文件如非特指，都代表文件和目录")])]),t._v(" "),e("h3",{attrs:{id:"创建目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建目录"}},[t._v("#")]),t._v(" 创建目录")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("mkdir dirName")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-p --parents")]),t._v(" ：创建级联路径")])])])]),t._v(" "),e("h3",{attrs:{id:"删除目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除目录"}},[t._v("#")]),t._v(" 删除目录")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("rmdir dirName")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-p --parents")]),t._v(" ：删除级联路径")])])])]),t._v(" "),e("h3",{attrs:{id:"当前目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#当前目录"}},[t._v("#")]),t._v(" 当前目录")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("pwd")])])]),t._v(" "),e("h3",{attrs:{id:"切换目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#切换目录"}},[t._v("#")]),t._v(" 切换目录")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("cd")]),t._v("："),e("code",[t._v("~")]),t._v("(进入用户主目录)；"),e("code",[t._v("/")]),t._v("(进入根目录)；"),e("code",[t._v("..")]),t._v("(上一层)；"),e("code",[t._v("-")]),t._v("(上一个目录)；")]),t._v(" "),e("li",[e("code",[t._v("pushd <路径>")]),t._v(" 记住来源的同时移动到其他目录，"),e("code",[t._v("popd")]),t._v(" 返回来源")])]),t._v(" "),e("h3",{attrs:{id:"树状图tree"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#树状图tree"}},[t._v("#")]),t._v(" 树状图"),e("code",[t._v("tree")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("tree")]),t._v("用于以树状图列出目录的所有内容（需安装，用处不大）")])]),t._v(" "),e("h3",{attrs:{id:"查找文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查找文件"}},[t._v("#")]),t._v(" 查找文件")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("find name")]),t._v("：若是目录名，则列出其下所有文件和目录。文件名需带后缀")])]),t._v(" "),e("h3",{attrs:{id:"新增文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#新增文件"}},[t._v("#")]),t._v(" 新增文件")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("touch fileName")]),t._v("  生成一个空文件")])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("重定向输出")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("echo 666 > 1.txt")]),t._v("：重新生成一个带内容文件，覆盖原有内容")]),t._v(" "),e("li",[e("code",[t._v("echo 666 >> 1.txt")]),t._v("：给文件追加内容")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("tee")]),t._v("：可直接复制")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("tee")]),t._v(" /etc/docker/daemon.json "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<-")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'EOF\'\n{\n  "registry-mirrors": ["https://1c0pd0qz.mirror.aliyuncs.com"]\n}\nEOF')]),t._v("\n")])])])])]),t._v(" "),e("h3",{attrs:{id:"查看文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看文件"}},[t._v("#")]),t._v(" 查看文件")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("ls [fileName]")]),t._v("查看当前目录下文件和目录列表")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("-a")]),t._v(" 列出当前目录所有文件，包含隐藏文件")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-l")]),t._v(" 列出文件的详细信息（如类型、权限等），可简写为"),e("code",[t._v("ll")]),t._v("，参数同"),e("code",[t._v("ls")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-h")]),t._v("友好显示文件大小，带有单位")]),t._v(" "),e("p",[t._v("可以选择使用通配符 * 来缩小搜索范围。如：")]),t._v(" "),e("p",[t._v("列举所有以“.java”结尾的文件，输入 "),e("code",[t._v("ls *.java")])]),t._v(" "),e("p",[t._v("列举所有以“F”开头，“.java”结尾的文件，输入"),e("code",[t._v("ls F*.java")])])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("stat")]),t._v("：显示"),e("strong",[t._v("指定文件")]),t._v("的相关信息,比 ls 命令显示内容更多")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ubuntu@VM-0-3-ubuntu:~/Documents/test$ stat a.txt\n  File: a.txt\n  Size: 20        \tBlocks: 8          IO Block: 4096   regular file\nDevice: fc01h/64513d\tInode: 271180      Links: 3\nAccess: (0664/-rw-rw-r--)  Uid: (  500/  ubuntu)   Gid: (  500/  ubuntu)\nAccess: 2019-11-24 17:38:06.531174819 +0800\nModify: 2019-11-24 19:18:12.014184685 +0800\nChange: 2019-11-24 19:18:12.018184679 +0800\n Birth: -\n")])])])]),t._v(" "),e("li",[e("p",[e("s",[e("code",[t._v("dir")]),t._v("查看当前目录下文件和目录列表，但是无高亮")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("cat fileName")]),t._v(" 查看文件全部内容（不能查看目录）")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("more fileName")]),t._v("分页查看文件，回车下一行，空格下一页（不能查看目录）")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("less")]),t._v("分页查看文件，回车下一行，空格下一页，支持pgup、pgdn（不能查看目录）")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("head fileName")]),t._v("，从头部开始查看文件（不能查看目录）")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-nx")]),t._v(" 显示"),e("strong",[t._v("前x行")])]),t._v(" "),e("li",[e("code",[t._v("-f")]),t._v(" 动态查看，跟踪输出（阻塞），"),e("code",[t._v("tail")]),t._v(" 更有用")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("tail fileName")]),t._v("，从尾部开始查看文件（不能查看目录）")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-nx")]),t._v(" 显示"),e("strong",[t._v("后x行")])]),t._v(" "),e("li",[e("code",[t._v("-f")]),t._v(" 动态查看，跟踪输出（阻塞）")])])])]),t._v(" "),e("h3",{attrs:{id:"删除文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除文件"}},[t._v("#")]),t._v(" 删除文件")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("rm")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-r")]),t._v("  同时删除该目录下的所有文件，递归删除")]),t._v(" "),e("li",[e("code",[t._v("-f")]),t._v("  强制删除文件或目录，不带询问")])])])]),t._v(" "),e("h3",{attrs:{id:"复制文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#复制文件"}},[t._v("#")]),t._v(" 复制文件")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("cp")]),t._v("："),e("strong",[t._v("复制")]),t._v("，需要指定源文件名与目标文件名（若是"),e("strong",[t._v("目录名")]),t._v("则只复制源文件）\n"),e("ul",[e("li",[e("code",[t._v("-r")]),t._v("  同时复制该目录下的所有文件，递归复制")]),t._v(" "),e("li",[e("code",[t._v("-f")]),t._v("  强制复制文件或目录，不带询问")])])])]),t._v(" "),e("h3",{attrs:{id:"移动文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#移动文件"}},[t._v("#")]),t._v(" 移动文件")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("mv")]),t._v("："),e("strong",[t._v("移动")]),t._v("或者"),e("strong",[t._v("重命名")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-r")]),t._v("  同时移动该目录下的所有文件，递归移动")]),t._v(" "),e("li",[e("code",[t._v("-f")]),t._v("  强制移动文件或目录，不带询问")])])])]),t._v(" "),e("h3",{attrs:{id:"查找字符串grep"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查找字符串grep"}},[t._v("#")]),t._v(" 查找字符串"),e("code",[t._v("grep")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("grep")]),t._v("在指定的"),e("strong",[t._v("文本")]),t._v("文件中查找指定的"),e("strong",[t._v("字符串")]),t._v("，一般同管道一起使用")]),t._v(" "),e("p",[t._v("语法"),e("code",[t._v("grep [选项]... PATTERN [FILE]...")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" doc yarn.lock "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在文件中查找 doc 字符串")]),t._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" yarn.lock "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" doc\n")])])]),e("ul",[e("li",[e("p",[e("code",[t._v("–color")]),t._v("高亮显示（暂时不会使用，有问题）")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-A5")]),t._v("当前行和后5行，"),e("code",[t._v("-b5")]),t._v("当前行和前5行")])]),t._v(" "),e("li",[e("p",[t._v("...")])])])])]),t._v(" "),e("h3",{attrs:{id:"重复命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重复命令"}},[t._v("#")]),t._v(" 重复命令")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("!!")]),t._v("  重复上条命令")]),t._v(" "),e("li",[e("code",[t._v("!n")]),t._v(" 重复倒数第n条命令")])]),t._v(" "),e("h3",{attrs:{id:"命令历史"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令历史"}},[t._v("#")]),t._v(" 命令历史")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("history")])])]),t._v(" "),e("h3",{attrs:{id:"打包解包—tar"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包解包—tar"}},[t._v("#")]),t._v(" 打包解包—"),e("code",[t._v("tar")])]),t._v(" "),e("blockquote",[e("p",[t._v("归档")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("tar [-cxzjvf] 压缩打包文档的名称 欲打包目录或文件")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("-z")]),t._v("  是否需要用 gzip 压缩、解压，后缀微"),e("code",[t._v(".gz")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-j")]),t._v("  是否需要用 bzip2 压缩、解压，后缀为")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-x")]),t._v("：解包tar文件（归档文件）")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-c")]),t._v("：打包成一个新tar文件（归档文件）")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-v")]),t._v("：显示运行过程的信息")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-f")]),t._v("：指定文件名（归档文件名）")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-t")]),t._v("：查看压缩文件的内容")])])])]),t._v(" "),e("li",[e("p",[t._v("例子")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("打包")]),t._v("："),e("code",[t._v("tar –cvf xxx.tar ./*")])]),t._v(" "),e("li",[e("strong",[t._v("打包并且压缩")]),t._v("："),e("code",[t._v("tar –zcvf xxx.tar.gz ./*")])]),t._v(" "),e("li",[e("strong",[t._v("解压缩")]),t._v("："),e("code",[t._v("tar –xvf xxx.tar")]),t._v("、"),e("code",[t._v("tar -zxvf xxx.tar.gz -C /usr/aaa")]),t._v("("),e("code",[t._v("-C")]),t._v("指定路径)")])])]),t._v(" "),e("li",[e("p",[t._v("gzip")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("语法")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("gzip")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("gzip [选项] 压缩（解压缩）的文件名")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("该命令压缩文件后缀为 gz")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-d")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("解压缩")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-l")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("对每个压缩文件，显示压缩文件的大小，未压缩文件的大小，压缩比，未压缩文件的名字")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-v")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("对每一个压缩和解压的文件，显示文件名和压缩比")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-num")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("用指定的数字num调整压缩的速度，-1或--fast表示最快压缩方法（低压缩比），-9或--best表示最慢压缩方法（高压缩比）。系统缺省值为6")])])])])]),t._v(" "),e("li",[e("p",[t._v("bzip2")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("语法")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("bzip2")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("bzip2 [-cdz]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("该命令压缩文件后缀为 bz2")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-d")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("解压缩")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-z")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("压缩参数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-num")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("用指定的数字num调整压缩的速度，-1或--fast表示最快压缩方法（低压缩比），-9或--best表示最慢压缩方法（高压缩比）。系统缺省值为6")])])])])]),t._v(" "),e("li",[e("p",[t._v("unzip（需安装）")]),t._v(" "),e("p",[t._v("用于解压 zip 包")])])]),t._v(" "),e("h2",{attrs:{id:"权限管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#权限管理"}},[t._v("#")]),t._v(" 权限管理")]),t._v(" "),e("h3",{attrs:{id:"概述-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概述-2"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),e("p",[e("img",{attrs:{src:a(231),alt:""}})]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("属主(user)")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}}),t._v(" "),e("th",{staticStyle:{"text-align":"center"}}),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("属组(group)")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}}),t._v(" "),e("th",{staticStyle:{"text-align":"center"}}),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("其他用户")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}}),t._v(" "),e("th",{staticStyle:{"text-align":"center"}})])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("r")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("w")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("r")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("w")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("r")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("w")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("x")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")])])])]),t._v(" "),e("p",[e("code",[t._v("ls -al")]),t._v("或"),e("code",[t._v("ll -a")]),t._v("或"),e("code",[t._v("ll fileName")]),t._v("可以显示文件或者目录的详细信息。")]),t._v(" "),e("div",{staticClass:"language-b extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("-rw-rw-r-- 3 ubuntu ubuntu   14 Nov 24 17:38 a.txt\n")])])]),e("p",[t._v("显示信息包括：文件类型，文件权限，文件的用户，文件的所属组，文件的大小，文件的创建时间，文件的名称")]),t._v(" "),e("h3",{attrs:{id:"文件类型及标识"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件类型及标识"}},[t._v("#")]),t._v(" 文件类型及标识")]),t._v(" "),e("p",[t._v("Linux三种文件类型")]),t._v(" "),e("ul",[e("li",[t._v("普通文件： 包括文本文件、数据文件、可执行的二进制程序文件等")]),t._v(" "),e("li",[t._v("目录文件： Linux系统把目录看成是一种特殊的文件，利用它构成文件系统的树型结构")]),t._v(" "),e("li",[t._v("设备文件： Linux系统把每一个设备都看成是一个文件")])]),t._v(" "),e("p",[e("strong",[t._v("文件类型标识")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("普通文件")]),e("code",[t._v("-")])]),t._v(" "),e("li",[e("strong",[t._v("目录")]),e("code",[t._v("d")])]),t._v(" "),e("li",[e("strong",[t._v("软链接")]),e("code",[t._v("l")]),t._v("：进入etc可以查看，相当于快捷方式")]),t._v(" "),e("li",[t._v("串行端口字符设备文件"),e("code",[t._v("c")])]),t._v(" "),e("li",[t._v("块设备文件"),e("code",[t._v("b")])]),t._v(" "),e("li",[t._v("套接字"),e("code",[t._v("s")])]),t._v(" "),e("li",[t._v("命名管道"),e("code",[t._v("p")])])]),t._v(" "),e("h3",{attrs:{id:"权限"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#权限"}},[t._v("#")]),t._v(" 权限")]),t._v(" "),e("h4",{attrs:{id:"chmod"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chmod"}},[t._v("#")]),t._v(" chmod")]),t._v(" "),e("p",[t._v("变更文件或目录的访问权限")]),t._v(" "),e("p",[e("strong",[t._v("数字设定法")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("0 表示没有任何权限")])]),t._v(" "),e("li",[e("p",[t._v("1 表示有可执行权限 = "),e("code",[t._v("x")])])]),t._v(" "),e("li",[e("p",[t._v("2 表示有可写权限 = "),e("code",[t._v("w")])])]),t._v(" "),e("li",[e("p",[t._v("4 表示有可读权限 = "),e("code",[t._v("r")])]),t._v(" "),e("p",[t._v("例如："),e("code",[t._v("chmod 755 a.txt")])])])]),t._v(" "),e("p",[e("strong",[t._v("普通设定法")])]),t._v(" "),e("p",[e("code",[t._v("chmod [who] [+ | - | =] [mode] 文件名")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("who：表示操作对象可以是以下字母的一个或者组合")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("u")]),t._v("：用户 user")]),t._v(" "),e("li",[e("code",[t._v("g")]),t._v("：用户组 group")]),t._v(" "),e("li",[e("code",[t._v("o")]),t._v("：表示其他用户")]),t._v(" "),e("li",[e("code",[t._v("a")]),t._v("：表示所有用户，系统默认的（可以不指定 a）")])])]),t._v(" "),e("li",[e("p",[t._v("操作符号")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("+")]),t._v("：表示添加某个权限")]),t._v(" "),e("li",[e("code",[t._v("-")]),t._v("：表示取消某个权限")]),t._v(" "),e("li",[e("code",[t._v("=")]),t._v("：赋予给定的权限，取消文档以前的所有权限")])])]),t._v(" "),e("li",[e("p",[t._v("mode：表示可执行的权限，可以是 "),e("code",[t._v("r")]),t._v("、"),e("code",[t._v("w")]),t._v("、"),e("code",[t._v("x")])])]),t._v(" "),e("li",[e("p",[t._v("文件名：可以是空格分开的文件列表")]),t._v(" "),e("p",[t._v("例如："),e("code",[t._v("chmod u=rwx,g=rx,o=rx a.txt")]),t._v("或 "),e("code",[t._v("chmod x a.txt")]),t._v("给用户组其他用户都添加 x 权限")])])]),t._v(" "),e("h4",{attrs:{id:"chown"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chown"}},[t._v("#")]),t._v(" chown")]),t._v(" "),e("p",[t._v("是 change owner 的意思，主要作用就是改变文件或者目录所有者，所有者包含用户和用户组")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("chown [-R] 用户名称 文件或者目录")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("chown [-R] 用户名称 用户组名称 文件或目录")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-R")]),t._v("：进行递归式的权限更改，将目录下的所有文件、子目录更新为指定用户组权限")])]),t._v(" "),e("p",[t._v("例子")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("chown conanan:conanan a.txt")]),t._v("：变更当前的目录或文件的所属用户和组")]),t._v(" "),e("li",[e("code",[t._v("chown -R conanan:conanan dir")]),t._v("：变更目录中的所有的子目录及文件的所属用户和组")])])])]),t._v(" "),e("h3",{attrs:{id:"连接数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#连接数"}},[t._v("#")]),t._v(" 连接数")]),t._v(" "),e("p",[t._v("指有多少个文件指向同一个索引节点")]),t._v(" "),e("h3",{attrs:{id:"文件所属用户和所属组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件所属用户和所属组"}},[t._v("#")]),t._v(" 文件所属用户和所属组")]),t._v(" "),e("p",[t._v("就是文档属于哪个用户和用户组。文件所属用户和组是可以更改的")]),t._v(" "),e("h3",{attrs:{id:"文件大小"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件大小"}},[t._v("#")]),t._v(" 文件大小")]),t._v(" "),e("p",[t._v("默认是 bytes，可以用"),e("code",[t._v("-h")]),t._v("来友好显示")]),t._v(" "),e("h3",{attrs:{id:"文件上次修改时间时间"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件上次修改时间时间"}},[t._v("#")]),t._v(" 文件上次修改时间时间")]),t._v(" "),e("h3",{attrs:{id:"文件名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件名"}},[t._v("#")]),t._v(" 文件名")]),t._v(" "),e("h2",{attrs:{id:"其他命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他命令"}},[t._v("#")]),t._v(" 其他命令")]),t._v(" "),e("h3",{attrs:{id:"管道"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#管道"}},[t._v("#")]),t._v(" 管道 "),e("code",[t._v("|")])]),t._v(" "),e("p",[t._v("将一个命令的输出用作另一个命令的输入")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("ls --help | more")]),t._v("：分页查询帮助信息")])]),t._v(" "),e("h3",{attrs:{id:"命令执行控制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令执行控制"}},[t._v("#")]),t._v(" 命令执行控制 "),e("code",[t._v("&&")])]),t._v(" "),e("p",[t._v("命令之间使用 && 连接，实现逻辑与的功能。")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("mkdir test && cd test")])])]),t._v(" "),e("h3",{attrs:{id:"软链接—ln"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#软链接—ln"}},[t._v("#")]),t._v(" 软链接—"),e("code",[t._v("ln")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("ln")]),t._v("建立软链接，类似快捷方式（建立的是引用，修改一处另一处也改变）："),e("code",[t._v("ln a.txt t.txt")])])]),t._v(" "),e("h2",{attrs:{id:"用户和组管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户和组管理"}},[t._v("#")]),t._v(" 用户和组管理")]),t._v(" "),e("p",[t._v("Linux 操作系统是一个多用户操作系统，它允许多用户同时登录到系统上并使用资源。系统会根据账户来区分每个用户的文件，进程，任务和工作环境，使得每个用户工作都不受干扰。")]),t._v(" "),e("h3",{attrs:{id:"用户账户说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户账户说明"}},[t._v("#")]),t._v(" 用户账户说明")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("普通用户：")]),t._v(" 普通用户在系统上的任务是进行普通操作")]),t._v(" "),e("li",[e("strong",[t._v("超级管理员：")]),t._v(" 管理员在系统上的任务是对普通用户和整个系统进行管理。对系统具有绝对的控制权，能够对系统进行一切操作。用 root 表示，root 用户在系统中拥有最高权限，默认下 Ubuntu 用户的 root 用户是不能登录的。")]),t._v(" "),e("li",[e("strong",[t._v("安装时创建的系统用户：")]),t._v(" 此用户创建时被添加到 admin 组中，在 Ubuntu 中，admin 组中的用户默认是可以使用 "),e("code",[t._v("sudo")]),t._v(" 命令来执行只有管理员才能执行的命令的。如果不使用 "),e("code",[t._v("sudo")]),t._v(" 就是一个普通用户。")])]),t._v(" "),e("blockquote",[e("p",[t._v("标识符如$前带"),e("code",[t._v("~")]),t._v("为用户主目录："),e("code",[t._v("conanan@Conanan:~$")]),t._v("；带"),e("code",[t._v("/")]),t._v("为根目录")])]),t._v(" "),e("h3",{attrs:{id:"组账户说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#组账户说明"}},[t._v("#")]),t._v(" 组账户说明")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("私有组：")]),t._v(" 当创建一个用户时没有指定属于哪个组，Linux 就会建立一个"),e("strong",[t._v("与用户同名的私有组")]),t._v("，此私有组只含有该用户。")]),t._v(" "),e("li",[e("strong",[t._v("标准组：")]),t._v(" 当创建一个用户时可以选定一个标准组，如果一个用户同时属于多个组时，登录后所属的组为主组，其他的为附加组。")])]),t._v(" "),e("h3",{attrs:{id:"账户管理常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#账户管理常用命令"}},[t._v("#")]),t._v(" 账户管理常用命令")]),t._v(" "),e("h4",{attrs:{id:"使用-root-用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-root-用户"}},[t._v("#")]),t._v(" 使用 Root 用户")]),t._v(" "),e("p",[t._v("在实际生产操作中，我们基本上都是使用超级管理员账户操作 Linux 系统，也就是 Root 用户，Linux 系统默认是关闭 Root 账户的，我们需要为 Root 用户设置一个初始密码以方便我们使用。")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("设置 Root 账户密码")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("passwd")]),t._v(" root\n")])])])]),t._v(" "),e("li",[e("p",[t._v("切换到 Root")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("su")]),t._v("\n")])])])]),t._v(" "),e("li",[e("p",[t._v("切换到其他用户")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("su")]),t._v(" conanan\n")])])])]),t._v(" "),e("li",[e("p",[t._v("设置允许远程登录 Root")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/ssh/sshd_config\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Authentication:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#PermitRootLogin without-password     # 注释此行")]),t._v("\nPermitRootLogin "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 加入此行")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启服务")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ssh")]),t._v(" restart\n")])])])])]),t._v(" "),e("h4",{attrs:{id:"增加用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#增加用户"}},[t._v("#")]),t._v(" 增加用户")]),t._v(" "),e("p",[e("code",[t._v("useradd username")]),t._v("：添加sername 用户")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-u")]),t._v("：UID号")]),t._v(" "),e("li",[e("code",[t._v("-p")]),t._v("：口令")]),t._v(" "),e("li",[e("code",[t._v("-g")]),t._v("：分组")]),t._v(" "),e("li",[e("code",[t._v("-s")]),t._v("：SHELL")]),t._v(" "),e("li",[e("code",[t._v("-d")]),t._v("：用户目录")])]),t._v(" "),e("p",[t._v("​\t如："),e("code",[t._v("useradd conanan")]),t._v(" 增加用户名为 conanan 的账户")]),t._v(" "),e("p",[t._v("​\t\t\t"),e("code",[t._v("useradd test -d /home/test -g public")]),t._v("  指定用户home目录、指定组")]),t._v(" "),e("blockquote",[e("p",[t._v("创建一个新用户时，若没有指定他所属于的组，就建立一个和该用户同名的私有组")])]),t._v(" "),e("h4",{attrs:{id:"修改用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改用户"}},[t._v("#")]),t._v(" 修改用户")]),t._v(" "),e("p",[e("code",[t._v("usermod username")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("-u")]),t._v("：UID号")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-p")]),t._v("：新口令")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-g")]),t._v("：分组")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-s")]),t._v("：SHELL")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-d")]),t._v("：用户目录")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-l")]),t._v("：新登录名")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-L")]),t._v("：锁定用户账号密码")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("-U")]),t._v("：解锁用户账号")]),t._v(" "),e("p",[t._v("如："),e("code",[t._v("usermod -u 1024 -g group2 -G root conanan")])]),t._v(" "),e("p",[t._v("将 conanan 用户 uid 修改为 1024，默认组改为系统中已经存在的 group2，并且加入到系统管理员组")])])]),t._v(" "),e("h4",{attrs:{id:"删除用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[t._v("#")]),t._v(" 删除用户")]),t._v(" "),e("p",[e("code",[t._v("userdel username")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("-r")]),t._v("：删除账号时同时删除目录，不添加此参数时只将只删除用户")]),t._v(" "),e("p",[t._v("如："),e("code",[t._v("userdel -r conanan")])]),t._v(" "),e("p",[t._v("删除用户名为 conanan 的账户并同时删除 conanan 的用户目录")])])]),t._v(" "),e("h4",{attrs:{id:"口令维护"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#口令维护"}},[t._v("#")]),t._v(" 口令维护")]),t._v(" "),e("p",[e("code",[t._v("passwd username")]),t._v("：设置用户口令")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-l username")]),t._v("：锁定用户账户")]),t._v(" "),e("li",[e("code",[t._v("-u username")]),t._v("：解锁用户账户")]),t._v(" "),e("li",[e("code",[t._v("-d username")]),t._v("：删除账户口令")]),t._v(" "),e("li",[e("code",[t._v("-d username groupname")]),t._v("：将用户从指定组中删除")]),t._v(" "),e("li",[e("code",[t._v("-a username groupname")]),t._v("：将指定用户添加到指定组")]),t._v(" "),e("li",[e("code",[t._v("-A username groupname")]),t._v("：将用户指定为组的管理员")])]),t._v(" "),e("h4",{attrs:{id:"组账户维护"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#组账户维护"}},[t._v("#")]),t._v(" 组账户维护")]),t._v(" "),e("p",[e("code",[t._v("groupadd groupname")]),t._v("：创建新组")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-g")]),t._v("：指定组GID")])]),t._v(" "),e("p",[e("code",[t._v("groupmod groupname")]),t._v("：修改组")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-g")]),t._v("：更改组的GID")]),t._v(" "),e("li",[e("code",[t._v("-n")]),t._v("：更改组账户名")])]),t._v(" "),e("p",[e("code",[t._v("groupdel groupname")]),t._v("：删除指定组账户，如果该组有用户成员，必须先删除用户才能删除组")]),t._v(" "),e("h4",{attrs:{id:"用户和组状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户和组状态"}},[t._v("#")]),t._v(" 用户和组状态")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("su username")]),t._v("：切换用户账户")]),t._v(" "),e("p",[e("code",[t._v("su - username")]),t._v("：切换用户账户，并且将环境也切换到username用户的环境（推荐使用）")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("id username")]),t._v("：显示用户的UID，GID")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("whoami")]),t._v("：显示当前用户名称")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("groups")]),t._v("：显示用户所属组")])])]),t._v(" "),e("h3",{attrs:{id:"账户系统文件说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#账户系统文件说明"}},[t._v("#")]),t._v(" 账户系统文件说明")]),t._v(" "),e("h4",{attrs:{id:"etc-passwd"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#etc-passwd"}},[t._v("#")]),t._v(" /etc/passwd")]),t._v(" "),e("p",[t._v("用户文件。每一行代表一个账号，众多账号是系统正常运行所必须的，例如 bin，nobody 每行定义一个用户账户，此文件对所有用户可读。每行账户包含如下信息：")]),t._v(" "),e("p",[e("code",[t._v("root:x:0:0:root:/root:/bin/bash")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("用户名：")]),t._v(" 就是账号，用来对应 UID，root UID 是 0。")]),t._v(" "),e("li",[e("strong",[t._v("口令：")]),t._v(" 密码，早期 UNIX 系统密码存在此字段，由于此文件所有用户都可以读取，密码容易泄露，后来这个字段数据就存放到 /etc/shadow 中，这里只能看到 X。")]),t._v(" "),e("li",[e("strong",[t._v("用户标示号（UID）：")]),t._v(" 系统内唯一，root 用户的 UID 为 0，普通用户从 1000 开始，1-999 是系统的标准账户，500-65536 是可登陆账号。")]),t._v(" "),e("li",[e("strong",[t._v("组标示号（GID）：")]),t._v(" 与 /etc/group 相关用来规定组名和 GID 相对应。")]),t._v(" "),e("li",[e("strong",[t._v("注释：")]),t._v(" 注释账号")]),t._v(" "),e("li",[e("strong",[t._v("宿主目录（主文件夹）：")]),t._v(" 用户登录系统后所进入的目录 root 在 /root/itcast")]),t._v(" "),e("li",[e("strong",[t._v("命令解释器（shell）：")]),t._v(" 指定该用户使用的 shell ，默认的是 /bin/bash")])]),t._v(" "),e("h4",{attrs:{id:"etc-shadow"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#etc-shadow"}},[t._v("#")]),t._v(" /etc/shadow")]),t._v(" "),e("p",[t._v("密码文件。为了增加系统的安全性，用户口令通常用 shadow passwords 保护。只有 root 可读。每行包含如下信息：")]),t._v(" "),e("p",[e("code",[t._v("root:$6$Reu571.V$Ci/kd.OTzaSGU.TagZ5KjYx2MLzQv2IkZ24E1.yeTT3Pp4o/yniTjus/rRaJ92Z18MVy6suf1W5uxxurqssel.:17465:0:99999:7:::")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("账号名称：")]),t._v(" 需要和 /etc/passwd 一致。")]),t._v(" "),e("li",[t._v("密码：经过加密，虽然加密，但不表示不会被破解，该文件默认权限如下：\n"),e("ul",[e("li",[t._v("-rw------- 1 root root 1560 Oct 26 17:20 passwd-")]),t._v(" "),e("li",[t._v("只有root能都读写")])])]),t._v(" "),e("li",[e("strong",[t._v("最近修改密码日期：")]),t._v(" 从1970-1-1起，到用户最后一次更改口令的天数")]),t._v(" "),e("li",[e("strong",[t._v("密码最小时间间隔：")]),t._v(" 从1970-1-1起，到用户可以更改口令的天数")]),t._v(" "),e("li",[e("strong",[t._v("密码最大时间间隔：")]),t._v(" 从1970-1-1起，必须更改的口令天数")]),t._v(" "),e("li",[e("strong",[t._v("密码到期警告时间：")]),t._v(" 在口令过期之前几天通知")]),t._v(" "),e("li",[e("strong",[t._v("密码到期后账号宽限时间")])]),t._v(" "),e("li",[e("strong",[t._v("密码到期禁用账户时间：")]),t._v(" 在用户口令过期后到禁用账户的天数")]),t._v(" "),e("li",[e("strong",[t._v("保留")])])]),t._v(" "),e("h4",{attrs:{id:"etc-group"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#etc-group"}},[t._v("#")]),t._v(" /etc/group")]),t._v(" "),e("p",[t._v("用户组的配置文件")]),t._v(" "),e("p",[e("code",[t._v("root:x:0:")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("用户组名称")])]),t._v(" "),e("li",[e("strong",[t._v("用户组密码：")]),t._v(" 给用户组管理员使用，通常不用")]),t._v(" "),e("li",[e("strong",[t._v("GID：")]),t._v(" 用户组的ID")]),t._v(" "),e("li",[e("strong",[t._v("此用户支持的账号名称：")]),t._v(" 一个账号可以加入多个用户组，例如想要 itcast 加入 root 这个用户组，将该账号填入该字段即可 "),e("code",[t._v("root:x:0:root")]),t._v(", icast 将用户进行分组是 Linux 对用户进行管理及控制访问权限的一种手段。一个中可以有多个用户，一个用户可以同时属于多个组。该文件对所有用户可读。")])]),t._v(" "),e("h4",{attrs:{id:"etc-gshadow"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#etc-gshadow"}},[t._v("#")]),t._v(" /etc/gshadow")]),t._v(" "),e("p",[t._v("该文件用户定义用户组口令，组管理员等信息只有root用户可读。")]),t._v(" "),e("p",[e("code",[t._v("root:\\*::")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("用户组名")])]),t._v(" "),e("li",[e("strong",[t._v("密码列")])]),t._v(" "),e("li",[e("strong",[t._v("用户组管理员的账号")])]),t._v(" "),e("li",[e("strong",[t._v("用户组所属账号")])])]),t._v(" "),e("h2",{attrs:{id:"系统管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统管理"}},[t._v("#")]),t._v(" 系统管理")]),t._v(" "),e("h3",{attrs:{id:"网络"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#网络"}},[t._v("#")]),t._v(" 网络")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("ifconfig")]),t._v("：显示网络接口信息")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("ifconfig eth0 up")]),t._v(" 启用eth0网卡")]),t._v(" "),e("li",[e("code",[t._v("ifconfig eth0 down")]),t._v("停用eth0网卡")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ping")]),t._v("：测试网络的连通性，IPV6可使用"),e("code",[t._v("ping6")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("netstat")]),t._v("：显示网络状态信息")]),t._v(" "),e("p",[e("code",[t._v("netstat -an | grep 3306")]),t._v(" 查询3306端口占用情况")])])]),t._v(" "),e("h3",{attrs:{id:"防火墙"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#防火墙"}},[t._v("#")]),t._v(" 防火墙")]),t._v(" "),e("ul",[e("li",[t._v("查看端口开启状态 "),e("code",[t._v("sudo ufw status")])]),t._v(" "),e("li",[t._v("开启某个端口 "),e("code",[t._v("sudo ufw allow 8381")])]),t._v(" "),e("li",[t._v("禁止某个端口 "),e("code",[t._v("sudo ufw delete allow 80")])]),t._v(" "),e("li",[t._v("关闭防火墙 "),e("code",[t._v("sudo ufw disable")])]),t._v(" "),e("li",[t._v("开启防火墙 "),e("code",[t._v("sudo ufw enable")])]),t._v(" "),e("li",[t._v("重启防火墙 "),e("code",[t._v("sudo ufw reload")])])]),t._v(" "),e("h3",{attrs:{id:"进程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#进程"}},[t._v("#")]),t._v(" 进程")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("top")]),t._v("：动态显示当前系统中耗费资源最多的进程、负载等信息，之后会阻塞显示")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("top - 23:15:59 up 18 days, 23:21,  3 users,  load average: 0.04, 0.06, 0.01\nTasks: 100 total,   1 running,  63 sleeping,   0 stopped,   0 zombie\n%Cpu(s):  0.3 us,  0.7 sy,  0.0 ni, 99.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\nKiB Mem :  1877364 total,   162584 free,   236224 used,  1478556 buff/cache\nKiB Swap:        0 total,        0 free,        0 used.  1447932 avail Mem\n\n  PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND\n 5736 root      20   0       0      0      0 I  0.3  0.0   0:00.10 kworker/u2:1\n 8363 ubuntu    20   0   41100   3748   3176 R  0.3  0.2   0:00.01 top\n")])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("htop")]),t._v("：推荐使用替换"),e("code",[t._v("top")]),t._v("，Ubuntu18自带？")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("ps")]),t._v("：显示瞬间的进程状态")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-ef")]),t._v("：查看所有进程")]),t._v(" "),e("li",[e("code",[t._v("–ef | grep ssh")]),t._v("：查找某一进程，如"),e("code",[t._v("ssh")])])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  PID TTY          TIME CMD\n 6890 pts/3    00:00:00 bash\n 7250 pts/3    00:00:00 bash\n 7351 pts/3    00:00:00 bash\n 8477 pts/3    00:00:00 ps\n")])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("kill")]),t._v("：杀死一个进程")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-9")]),t._v("：强制杀死进程")])])])]),t._v(" "),e("h3",{attrs:{id:"磁盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#磁盘"}},[t._v("#")]),t._v(" 磁盘")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("du")]),t._v("：显示指定的文件（目录）已使用的磁盘空间的总量")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-h")]),t._v("：友好显示文件大小信息")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ubuntu@VM-0-3-ubuntu:~/Documents/test$ du a.txt\n4\ta.txt\n")])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("df")]),t._v("：显示文件系统磁盘空间的使用情况")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-h")]),t._v("：友好显示磁盘大小信息")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ubuntu@VM-0-3-ubuntu:~/Documents/test$ df\nFilesystem     1K-blocks    Used Available Use% Mounted on\nudev              906224       4    906220   1% /dev\ntmpfs             187740    5944    181796   4% /run\n/dev/vda1       51539404 5516348  43825860  12% /\ntmpfs             938680      48    938632   1% /dev/shm\ntmpfs               5120       0      5120   0% /run/lock\ntmpfs             938680       0    938680   0% /sys/fs/cgroup\ntmpfs             187736       0    187736   0% /run/user/500\n")])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("free")]),t._v("显示当前内存和交换空间的使用情况")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-m")]),t._v("：以MB单位显示内存状态")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ubuntu@VM-0-3-ubuntu:~/Documents/test$ free\n              total        used        free      shared  buff/cache   available\nMem:        1877364      235392      163184        5996     1478788     1448764\nSwap:             0           0           0\n")])])])])]),t._v(" "),e("h3",{attrs:{id:"主机用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主机用户"}},[t._v("#")]),t._v(" 主机用户")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("who")]),t._v("：显示目前登入系统的用户信息")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ubuntu   pts/2        2019-11-09 15:51 (tmux(5166).%0)\nubuntu   pts/5        2019-11-09 17:29 (tmux(5166).%1)\nubuntu   pts/3        2019-11-24 19:15 (111.19.45.215)\n")])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("hostname")]),t._v("：显示主机名称，如VM-0-3-ubuntu")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("uname")]),t._v("：显示系统信息，如 Linux")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("-a")]),t._v("：显示本机详细信息。内核名称(类别)，主机名，内核版本号，内核版本，内核编译日期，硬件名，处理器类型，硬件平台类型，操作系统名称")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("Linux VM-0-3-ubuntu 4.15.0-54-generic #58-Ubuntu SMP Mon Jun 24 10:55:24 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\n")])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("date")]),t._v("：显示当前系统时间")]),t._v(" "),e("p",[e("code",[t._v('date -s "2014-01-01 10:10:10"')]),t._v("设置系统时间")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ubuntu@VM-0-3-ubuntu:~/Documents/test$ date\nSun Nov 24 23:36:25 CST 2019\n")])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("clear")]),t._v("：清屏")])])]),t._v(" "),e("h3",{attrs:{id:"开关机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开关机"}},[t._v("#")]),t._v(" 开关机")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("重启")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("sudo reboot")])]),t._v(" "),e("li",[e("code",[t._v("sudo shutdown -r now")])])]),t._v(" "),e("p",[e("strong",[t._v("关机")])]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("shutdown -h now")])]),t._v(" "),e("p",[e("code",[t._v("shutdown")]),t._v(" 命令可以用来进行关机程序，并且在关机以前传送讯息给所有使用者正在执行的程序，也可以用来重启。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("命令")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("语法")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("shutdown")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("shutdown [-t seconds] [-rkhncfF] time [message]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-t seconds")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("设定在几秒钟之后进行关机程序")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-k")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("并不会真的关机，只是将警告讯息传送给所有只用者")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-r")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("关机后重新开机（重启）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-h")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("关机后停机")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-n")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("不采用正常程序来关机，用强迫的方式杀掉所有执行中的程序后自行关机")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-c")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("取消目前已经进行中的关机动作")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-f")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("关机时，不做 fcsk 动作(检查 Linux 档系统)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("-F")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("关机时，强迫进行 fsck 动作")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("time")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("设定关机的时间")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}}),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("message")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("传送给所有使用者的警告讯息")])])])])])])])]),t._v(" "),e("h2",{attrs:{id:"软件包管理—apt"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#软件包管理—apt"}},[t._v("#")]),t._v(" 软件包管理—APT")]),t._v(" "),e("p",[t._v("APT(Advanced Packaging Tool) 是 Debian/Ubuntu 类 Linux 系统中的软件包管理程序, 使用它可以找到想要的软件包, 而且安装、卸载、更新都很简便；也可以用来对 Ubuntu 进行升级; APT 的源文件为 "),e("code",[t._v("/etc/apt/")]),t._v(" 目录下的 "),e("code",[t._v("sources.list")]),t._v(" 文件。")]),t._v(" "),e("h3",{attrs:{id:"修改数据源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改数据源"}},[t._v("#")]),t._v(" 修改数据源")]),t._v(" "),e("p",[t._v("由于国内的网络环境问题，我们需要将 Ubuntu 的数据源修改为国内数据源，直接参考https://opsx.alibaba.com/mirror。")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("查看系统版本")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("lsb_release -a\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示如下")]),t._v("\nNo LSB modules are available.\nDistributor ID:\tUbuntu\nDescription:\tUbuntu "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.04")]),t._v(".1 LTS\nRelease:\t"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("18.04")]),t._v("\nCodename:\tbionic\n")])])]),e("p",[e("strong",[t._v("注意：")]),t._v(" Codename 为 "),e("code",[t._v("bionic")]),t._v("，该名称为我们 Ubuntu 18 系统的名称，修改数据源需要用到该名称")])]),t._v(" "),e("li",[e("p",[t._v("编辑数据源")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/apt/sources.list\n")])])]),e("p",[t._v("删除全部内容并修改为阿里源中地址")])]),t._v(" "),e("li",[e("p",[t._v("更新数据源")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n")])])])])]),t._v(" "),e("h3",{attrs:{id:"常用-apt-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用-apt-命令"}},[t._v("#")]),t._v(" 常用 APT 命令")]),t._v(" "),e("ul",[e("li",[t._v("升级有可用更新的系统("),e("strong",[t._v("慎用")]),t._v(")："),e("code",[t._v("apt upgrade")])]),t._v(" "),e("li",[e("strong",[t._v("更新软件包列表")]),t._v("："),e("code",[t._v("apt update")])]),t._v(" "),e("li",[e("strong",[t._v("安装软件包")]),t._v("："),e("code",[t._v("apt install")])]),t._v(" "),e("li",[e("strong",[t._v("删除软件包")]),t._v("："),e("code",[t._v("apt remove")])]),t._v(" "),e("li",[t._v("搜索："),e("code",[t._v("apt-cache search")])]),t._v(" "),e("li",[t._v("获取包信息："),e("code",[t._v("apt-cache show")])]),t._v(" "),e("li",[t._v("删除包及配置文件："),e("code",[t._v("apt remove --purge")])]),t._v(" "),e("li",[t._v("了解使用依赖："),e("code",[t._v("apt-cache depends")])]),t._v(" "),e("li",[t._v("查看被哪些包依赖："),e("code",[t._v("apt-cache rdepends")])]),t._v(" "),e("li",[t._v("安装相关的编译环境："),e("code",[t._v("apt build-dep")])]),t._v(" "),e("li",[t._v("下载源代码："),e("code",[t._v("apt source")])]),t._v(" "),e("li",[t._v("清理无用的包："),e("code",[t._v("apt clean && apt-get autoclean")])]),t._v(" "),e("li",[t._v("检查是否有损坏的依赖："),e("code",[t._v("apt check")])])]),t._v(" "),e("h2",{attrs:{id:"sdkman"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sdkman"}},[t._v("#")]),t._v(" SDKMAN")]),t._v(" "),e("p",[t._v("推荐使用此来管理包")]),t._v(" "),e("h2",{attrs:{id:"部署应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署应用"}},[t._v("#")]),t._v(" 部署应用")]),t._v(" "),e("h3",{attrs:{id:"安装-java"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-java"}},[t._v("#")]),t._v(" 安装 Java")]),t._v(" "),e("h4",{attrs:{id:"解压缩"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解压缩"}},[t._v("#")]),t._v(" 解压缩")]),t._v(" "),e("ul",[e("li",[t._v("解压缩："),e("code",[t._v("tar -zxvf jdk-8u152-linux-x64.tar.gz")])]),t._v(" "),e("li",[t._v("创建目录："),e("code",[t._v("mkdir -p /usr/local/java")])]),t._v(" "),e("li",[t._v("移动安装包："),e("code",[t._v("mv jdk1.8.0_152/ /usr/local/java/")])]),t._v(" "),e("li",[t._v("设置所有者："),e("code",[t._v("chown -R root:root /usr/local/java/")])])]),t._v(" "),e("h4",{attrs:{id:"配置环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置环境变量"}},[t._v("#")]),t._v(" 配置环境变量")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("配置系统环境变量："),e("code",[t._v("vi /etc/environment")])])]),t._v(" "),e("li",[e("p",[t._v("修改系统环境变量")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games"\nexport JAVA_HOME=/usr/local/java/jdk1.8.0_152\nexport JRE_HOME=/usr/local/java/jdk1.8.0_152/jre\nexport CLASSPATH=$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib\n')])])])]),t._v(" "),e("li",[e("p",[t._v("配置用户环境变量："),e("code",[t._v("vi /etc/profile")])])]),t._v(" "),e("li",[e("p",[t._v("修改用户环境变量")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('if [ "$PS1" ]; then\n  if [ "$BASH" ] && [ "$BASH" != "/bin/sh" ]; then\n    # The file bash.bashrc already sets the default PS1.\n    # PS1=\'\\h:\\w\\$ \'\n    if [ -f /etc/bash.bashrc ]; then\n      . /etc/bash.bashrc\n    fi\n  else\n    if [ "`id -u`" -eq 0 ]; then\n      PS1=\'# \'\n    else\n      PS1=\'$ \'\n    fi\n  fi\nfi\nexport JAVA_HOME=/usr/local/java/jdk1.8.0_152\nexport JRE_HOME=/usr/local/java/jdk1.8.0_152/jre\nexport CLASSPATH=$CLASSPATH:$JAVA_HOME/lib:$JAVA_HOME/jre/lib\nexport PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH:$HOME/bin\nif [ -d /etc/profile.d ]; then\n  for i in /etc/profile.d/*.sh; do\n    if [ -r $i ]; then\n      . $i\n    fi\n  done\n  unset i\nfi\n')])])])]),t._v(" "),e("li",[e("p",[t._v("使用户环境变量生效："),e("code",[t._v("source /etc/profile")])])])]),t._v(" "),e("h4",{attrs:{id:"验证安装是否成功"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#验证安装是否成功"}},[t._v("#")]),t._v(" 验证安装是否成功")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("java -version\n")])])]),e("h3",{attrs:{id:"sdkman-安装java"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sdkman-安装java"}},[t._v("#")]),t._v(" SDKMAN 安装Java")]),t._v(" "),e("p",[t._v("查看文档")]),t._v(" "),e("h3",{attrs:{id:"安装-tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-tomcat"}},[t._v("#")]),t._v(" 安装 Tomcat")]),t._v(" "),e("h4",{attrs:{id:"解压缩-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解压缩-2"}},[t._v("#")]),t._v(" 解压缩")]),t._v(" "),e("ul",[e("li",[t._v("解压缩："),e("code",[t._v("tar -zxvf apache-tomcat-8.5.23.tar.gz")])]),t._v(" "),e("li",[t._v("变更目录："),e("code",[t._v("mv apache-tomcat-8.5.23 tomcat")])]),t._v(" "),e("li",[t._v("移动目录："),e("code",[t._v("mv tomcat/ /usr/local/")])])]),t._v(" "),e("h4",{attrs:{id:"验证安装是否成功-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#验证安装是否成功-2"}},[t._v("#")]),t._v(" 验证安装是否成功")]),t._v(" "),e("ul",[e("li",[t._v("启动：\n"),e("ul",[e("li",[e("code",[t._v("/usr/local/tomcat/bin/startup.sh")])]),t._v(" "),e("li",[e("code",[t._v("./startup.sh")])])])]),t._v(" "),e("li",[t._v("停止：\n"),e("ul",[e("li",[e("code",[t._v("/usr/local/tomcat/bin/shutdown.sh")])]),t._v(" "),e("li",[e("code",[t._v("./shutdown.sh")])])])])]),t._v(" "),e("h3",{attrs:{id:"安装-mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-mysql"}},[t._v("#")]),t._v(" 安装 MySQL")]),t._v(" "),e("h4",{attrs:{id:"安装-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-2"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("更新数据源："),e("code",[t._v("apt-get update")])])]),t._v(" "),e("li",[e("p",[t._v("安装数据库："),e("code",[t._v("apt-get install mysql-server")])]),t._v(" "),e("blockquote",[e("p",[e("strong",[t._v("注意：")]),t._v(" 系统将提示您在安装过程中创建 root 密码。选择一个安全的密码，并确保你记住它，因为你以后需要它。接下来，我们将完成 MySQL 的配置。")])])])]),t._v(" "),e("h4",{attrs:{id:"配置-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置-2"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mysql_secure_installation\n")])])]),e("blockquote",[e("p",[t._v("这将提示您输入您在之前步骤中创建的 root 密码。您可以按 Y，然后 ENTER 接受所有后续问题的默认值，但是要询问您是否要更改 root 密码。您只需在之前步骤中进行设置即可，因此无需现在更改。")]),t._v(" "),e("p",[e("strong",[t._v("注意：")]),t._v(" 因为是全新安装，您需要运行附带的安全脚本。这会更改一些不太安全的默认选项，例如远程 root 登录和示例用户。在旧版本的 MySQL 上，您需要手动初始化数据目录，但最新的 MySQL 已经自动完成了。")])]),t._v(" "),e("h4",{attrs:{id:"验证安装是否成功-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#验证安装是否成功-3"}},[t._v("#")]),t._v(" 验证安装是否成功")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("systemctl status mysql\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\n● mysql.service - MySQL Community Server\n   Loaded: loaded "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("/lib/systemd/system/mysql.service"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" enabled"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" vendor preset: enabled"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   Active: active "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("running"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" since Tue "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2017")]),t._v("-11-21 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(":04:34 CST"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" 3min 24s ago\n Main PID: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2169")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mysqld"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   CGroup: /system.slice/mysql.service\n           └─2169 /usr/sbin/mysqld\nNov "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(":04:33 ubuntu systemd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": Starting MySQL Community Server"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nNov "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(":04:34 ubuntu systemd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": Started MySQL Community Server.\n")])])]),e("h4",{attrs:{id:"常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[t._v("#")]),t._v(" 常用命令")]),t._v(" "),e("ul",[e("li",[t._v("查看版本："),e("code",[t._v("mysqladmin -p -u root version")])]),t._v(" "),e("li",[t._v("启动："),e("code",[t._v("service mysql start")])]),t._v(" "),e("li",[t._v("停止："),e("code",[t._v("service mysql stop")])]),t._v(" "),e("li",[t._v("重启："),e("code",[t._v("service mysql restart")])]),t._v(" "),e("li",[t._v("登录："),e("code",[t._v("mysql -u root -p")])]),t._v(" "),e("li",[t._v("授权："),e("code",[t._v("grant all privileges on *.* to 'root'@'%' identified by 'Your Password';")])])]),t._v(" "),e("h4",{attrs:{id:"扩展阅读"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#扩展阅读"}},[t._v("#")]),t._v(" 扩展阅读")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("配置使用密码方式登录")]),t._v(" "),e("p",[t._v("在安装过程中可能没有提示密码设置的环节此时默认使用的是 "),e("strong",[t._v("auth_socket")]),t._v(" 方式登录（5.7后使用 SSH 连接），我们可以修改为 "),e("strong",[t._v("mysql_native_password")]),t._v(" 方式，操作步骤如下")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("本地登录 MySQL，此时无需输入密码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mysql -u root -p\n")])])])]),t._v(" "),e("li",[e("p",[t._v("切换数据库到 mysql")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("use mysql;\n")])])])]),t._v(" "),e("li",[e("p",[t._v("修改 root 账号密码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("update user set authentication_string=password('123456') where user='root';\n")])])])]),t._v(" "),e("li",[e("p",[t._v("设置登录模式")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('update user set plugin="mysql_native_password";\n')])])])]),t._v(" "),e("li",[e("p",[t._v("刷新配置")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("flush privileges;\n")])])])]),t._v(" "),e("li",[e("p",[t._v("退出 MySQL")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("exit;\n")])])])]),t._v(" "),e("li",[e("p",[t._v("重新启动 MySQL")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("systemctl restart mysql\n")])])])])])]),t._v(" "),e("li",[e("p",[t._v("配置远程访问")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("修改配置文件")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("vi /etc/mysql/mysql.conf.d/mysqld.cnf\n")])])])]),t._v(" "),e("li",[e("p",[t._v("注释掉(语句前面加上 "),e("code",[t._v("#")]),t._v(" 即可)：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("# bind-address = 127.0.0.1\n")])])])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("重启 MySQL")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("service mysql restart\n")])])])]),t._v(" "),e("li",[e("p",[t._v("登录 MySQL")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("mysql -u root -p\n")])])])]),t._v(" "),e("li",[e("p",[t._v("授权 root 用户允许所有人连接")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("grant all privileges on *.* to 'root'@'%' identified by 'Your Password';\n")])])])])])]),t._v(" "),e("li",[e("p",[t._v("因弱口令无法成功授权解决步骤")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("查看和设置密码安全级别")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("select @@validate_password_policy;set global validate_password_policy=0;\n")])])])])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("查看和设置密码长度限制")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("select @@validate_password_length;set global validate_password_length=1;\n")])])])])])]),t._v(" "),e("li",[e("p",[t._v("其它配置")]),t._v(" "),e("p",[t._v("修改配置文件："),e("code",[t._v("vi /etc/mysql/mysql.conf.d/mysqld.cnf")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[client]\ndefault-character-set=utf8\n[mysqld]\ndefault-storage-engine=INNODB\ncharacter-set-server=utf8\ncollation-server=utf8_general_ci\nlower-case-table-names=1\n")])])]),e("blockquote",[e("p",[e("strong",[t._v("注意：")]),t._v(" 配置内容追加到对应节点的底部即可")])])])]),t._v(" "),e("h2",{attrs:{id:"lvm-磁盘扩容"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lvm-磁盘扩容"}},[t._v("#")]),t._v(" LVM 磁盘扩容")]),t._v(" "),e("h3",{attrs:{id:"lvm-的基本概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lvm-的基本概念"}},[t._v("#")]),t._v(" LVM 的基本概念")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("物理卷 Physical Volume (PV)：")]),t._v(" 可以在上面建立卷组的媒介，可以是硬盘分区，也可以是硬盘本身或者回环文件（loopback file）。物理卷包括一个特殊的 header，其余部分被切割为一块块物理区域（physical extents）")]),t._v(" "),e("li",[e("strong",[t._v("卷组 Volume group (VG)：")]),t._v(" 将一组物理卷收集为一个管理单元")]),t._v(" "),e("li",[e("strong",[t._v("逻辑卷 Logical volume (LV)：")]),t._v(" 虚拟分区，由物理区域（physical extents）组成")]),t._v(" "),e("li",[e("strong",[t._v("物理区域 Physical extent (PE)：")]),t._v(" 硬盘可供指派给逻辑卷的最小单位（通常为 4MB）")])]),t._v(" "),e("h3",{attrs:{id:"磁盘操作相关命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#磁盘操作相关命令"}},[t._v("#")]),t._v(" 磁盘操作相关命令")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("查看挂载点")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v(" -h\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nFilesystem                         Size  Used Avail Use% Mounted on\nudev                               955M     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  955M   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("% /dev\ntmpfs                              198M  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".8M  196M   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("% /run\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 此处为我们磁盘的挂载点")]),t._v("\n/dev/mapper/ubuntu--vg-ubuntu--lv   19G  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(".0G   12G  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),t._v("% /\ntmpfs                              986M     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  986M   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("% /dev/shm\ntmpfs                              "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(".0M     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(".0M   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("% /run/lock\ntmpfs                              986M     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  986M   "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("% /sys/fs/cgroup\n/dev/loop1                          91M   91M     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% /snap/core/6350\n/dev/loop0                          89M   89M     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% /snap/core/6964\n/dev/sda2                          976M  143M  767M  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("% /boot\n")])])])]),t._v(" "),e("li",[e("p",[t._v("显示当前的 logical volume："),e("code",[t._v("lvdisplay")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("lvdisplay\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\n--- Logical volume ---\nLV Path                /dev/ubuntu-vg/ubuntu-lv\nLV Name                ubuntu-lv\nVG Name                ubuntu-vg\nLV UUID                e2fKkR-oZeH-WV2A-ltCi-P76v-N9yv-aUtIg1\nLV Write Access        read/write\nLV Creation host, "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),t._v(" ubuntu-server, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v("-05-14 03:13:57 +0800\nLV Status              available\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# open                 1")]),t._v("\nLV Size                "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.00")]),t._v(" GiB\nCurrent LE             "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4863")]),t._v("\nSegments               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nAllocation             inherit\nRead ahead sectors     auto\n- currently "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" to     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),t._v("\nBlock device           "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("253")]),t._v(":0\n")])])])]),t._v(" "),e("li",[e("p",[t._v("显示当前的 volume group")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("vgdisplay\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\n--- Volume group ---\nVG Name               ubuntu-vg\nSystem ID             \nFormat                lvm2\nMetadata Areas        "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nMetadata Sequence No  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nVG Access             read/write\nVG Status             resizable\nMAX LV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nCur LV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nOpen LV               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nMax PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nCur PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nAct PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 这里应该是你当前的可用空间大小，待扩容完毕，这里显示的应该是最终的大小")]),t._v("\nVG Size               "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.00")]),t._v(" GiB\nPE Size               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.00")]),t._v(" MiB\nTotal PE              "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4863")]),t._v("\nAlloc PE / Size       "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4863")]),t._v(" / "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.00")]),t._v(" GiB\nFree  PE / Size       "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" / "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("   \nVG UUID               dhI9ns-7lOI-pXf8-IOWL-F96N-JIYG-ZF6u82\n")])])])]),t._v(" "),e("li",[e("p",[t._v("显示当前的 physical volume")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("pvdisplay\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\n--- Physical volume ---\nPV Name               /dev/sda3\nVG Name               ubuntu-vg\nPV Size               "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.00")]),t._v(" GiB / not usable "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("   \nAllocatable           "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yes")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("but full"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nPE Size               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.00")]),t._v(" MiB\nTotal PE              "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4863")]),t._v("\nFree PE               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nAllocated PE          "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4863")]),t._v("\nPV UUID               TDFe2b-xsce-R8So-ldxR-ohcp-fx5J-n2JNOa\n")])])])])]),t._v(" "),e("h3",{attrs:{id:"—开始-lvm-扩容—"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#—开始-lvm-扩容—"}},[t._v("#")]),t._v(" —开始 LVM 扩容—")]),t._v(" "),e("h3",{attrs:{id:"查看-fdisk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看-fdisk"}},[t._v("#")]),t._v(" 查看 fdisk")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fdisk")]),t._v(" -l\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nDisk /dev/loop0: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("88.4")]),t._v(" MiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("92733440")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("181120")]),t._v(" sectors\nUnits: sectors of "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" * "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\nSector size "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logical/physical"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes / "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\nI/O size "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("minimum/optimal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes / "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\nDisk /dev/loop1: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("91")]),t._v(" MiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("95408128")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("186344")]),t._v(" sectors\nUnits: sectors of "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" * "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\nSector size "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logical/physical"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes / "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\nI/O size "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("minimum/optimal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes / "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\nDisk /dev/sda: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" GiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("21474836480")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41943040")]),t._v(" sectors\nUnits: sectors of "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" * "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\nSector size "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logical/physical"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes / "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\nI/O size "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("minimum/optimal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes / "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\nDisklabel type: gpt\nDisk identifier: F96F20D7-1F28-4B03-87CF-4FA3E81FDE29\nDevice       Start      End  Sectors Size Type\n/dev/sda1     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4095")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("   1M BIOS boot\n/dev/sda2     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2101247")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2097152")]),t._v("   1G Linux filesystem\n/dev/sda3  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2101248")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41940991")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39839744")]),t._v("  19G Linux filesystem\nDisk /dev/mapper/ubuntu--vg-ubuntu--lv: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" GiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20396900352")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39837696")]),t._v(" sectors\nUnits: sectors of "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" * "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\nSector size "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logical/physical"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes / "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\nI/O size "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("minimum/optimal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes / "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v(" bytes\n")])])]),e("h3",{attrs:{id:"查看所有储存设备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看所有储存设备"}},[t._v("#")]),t._v(" 查看所有储存设备")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fdisk")]),t._v(" -l "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/dev'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nDisk /dev/loop0: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("88.4")]),t._v(" MiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("92733440")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("181120")]),t._v(" sectors\nDisk /dev/loop1: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("91")]),t._v(" MiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("95408128")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("186344")]),t._v(" sectors\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 目前只有一块磁盘 sda")]),t._v("\nDisk /dev/sda: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" GiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("21474836480")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41943040")]),t._v(" sectors\n/dev/sda1     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4095")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("   1M BIOS boot\n/dev/sda2     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2101247")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2097152")]),t._v("   1G Linux filesystem\n/dev/sda3  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2101248")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41940991")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39839744")]),t._v("  19G Linux filesystem\nDisk /dev/mapper/ubuntu--vg-ubuntu--lv: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" GiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20396900352")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39837696")]),t._v(" sectors\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在虚拟机中挂载多一块磁盘，再操作")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fdisk")]),t._v(" -l "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/dev'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nDisk /dev/loop0: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("88.4")]),t._v(" MiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("92733440")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("181120")]),t._v(" sectors\nDisk /dev/loop1: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("91")]),t._v(" MiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("95408128")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("186344")]),t._v(" sectors\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 挂载的第一块磁盘 sda")]),t._v("\nDisk /dev/sda: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" GiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("21474836480")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41943040")]),t._v(" sectors\n/dev/sda1     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4095")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("   1M BIOS boot\n/dev/sda2     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2101247")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2097152")]),t._v("   1G Linux filesystem\n/dev/sda3  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2101248")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41940991")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39839744")]),t._v("  19G Linux filesystem\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 挂载的第二块磁盘 sdb")]),t._v("\nDisk /dev/sdb: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" GiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("21474836480")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41943040")]),t._v(" sectors\nDisk /dev/mapper/ubuntu--vg-ubuntu--lv: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" GiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20396900352")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39837696")]),t._v(" sectors\n")])])]),e("h3",{attrs:{id:"创建-sdb-分区"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建-sdb-分区"}},[t._v("#")]),t._v(" 创建 sdb 分区")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fdisk")]),t._v(" /dev/sdb\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nWelcome to "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fdisk")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("util-linux "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.31")]),t._v(".1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".\nChanges will remain "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" memory only, "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("until")]),t._v(" you decide to "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),t._v(" them.\nBe careful before using the "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),t._v(" command.\nDevice does not contain a recognized partition table.\nCreated a new DOS disklabel with disk identifier 0x0de15f1d.\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 在此处输入命令")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## n：新建分区")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## l: 选择逻辑分区，如果没有，则首先创建主分区（p），然后再添加逻辑分区（硬盘最多四个分区 P-P-P-P 或 P-P-P-E）")]),t._v("\nCommand "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": n\nPartition "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v("\n   p   primary "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" primary, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" extended, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   e   extended "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("container "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" logical partitions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nSelect "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("default p"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\nUsing default response p.\nPartition number "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("-4, default "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": \nFirst sector "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("-41943039, default "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": \nLast sector, +sectors or +size"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("K,M,G,T,P"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("-41943039, default "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41943039")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": \nCreated a new partition "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" of "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Linux'")]),t._v(" and of size "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" GiB.\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 在此处输入命令")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## w：写入磁盘")]),t._v("\nCommand "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": w\nThe partition table has been altered.\nCalling ioctl"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" to re-read partition table.\nSyncing disks.\n")])])]),e("h3",{attrs:{id:"格式化磁盘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#格式化磁盘"}},[t._v("#")]),t._v(" 格式化磁盘")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("查看分区")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fdisk")]),t._v(" -l "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/dev'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nDisk /dev/loop0: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("88.4")]),t._v(" MiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("92733440")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("181120")]),t._v(" sectors\nDisk /dev/loop1: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("91")]),t._v(" MiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("95408128")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("186344")]),t._v(" sectors\nDisk /dev/sda: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" GiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("21474836480")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41943040")]),t._v(" sectors\n/dev/sda1     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4095")]),t._v("     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v("   1M BIOS boot\n/dev/sda2     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2101247")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2097152")]),t._v("   1G Linux filesystem\n/dev/sda3  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2101248")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41940991")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39839744")]),t._v("  19G Linux filesystem\nDisk /dev/sdb: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" GiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("21474836480")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41943040")]),t._v(" sectors\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 此时可以看见新创建的分区 /dev/sdb1")]),t._v("\n/dev/sdb1        "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2048")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41943039")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41940992")]),t._v("  20G "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("83")]),t._v(" Linux\nDisk /dev/mapper/ubuntu--vg-ubuntu--lv: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(" GiB, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20396900352")]),t._v(" bytes, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39837696")]),t._v(" sectors\n")])])])]),t._v(" "),e("li",[e("p",[t._v("格式化")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkfs")]),t._v(" -t ext4 /dev/sdb1\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mke2fs")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.44")]),t._v(".1 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v("-Mar-2018"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nCreating filesystem with "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5242624")]),t._v(" 4k blocks and "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1310720")]),t._v(" inodes\nFilesystem UUID: 6f11063f-c118-4099-90fc-2b083c181b23\nSuperblock backups stored on blocks: \n        "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("32768")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("98304")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("163840")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("229376")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("294912")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("819200")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("884736")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1605632")]),t._v(", "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2654208")]),t._v(", \n        "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096000")]),t._v("\nAllocating group tables: "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("                            \nWriting inode tables: "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("                            \nCreating journal "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("32768")]),t._v(" blocks"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\nWriting superblocks and filesystem accounting information: "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n")])])])])]),t._v(" "),e("h3",{attrs:{id:"创建-pv"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建-pv"}},[t._v("#")]),t._v(" 创建 PV")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("pvcreate /dev/sdb1\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nWARNING: ext4 signature detected on /dev/sdb1 at offset "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1080")]),t._v(". Wipe it? "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("y/n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": y\n  Wiping ext4 signature on /dev/sdb1.\n  Physical volume "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/dev/sdb1"')]),t._v(" successfully created.\n")])])]),e("h3",{attrs:{id:"查看卷组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看卷组"}},[t._v("#")]),t._v(" 查看卷组")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("pvscan\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nPV /dev/sda3   VG ubuntu-vg       lvm2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.00")]),t._v(" GiB / "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    free"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nPV /dev/sdb1                      lvm2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.00")]),t._v(" GiB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nTotal: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("39.00")]),t._v(" GiB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" / "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" use: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.00")]),t._v(" GiB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" / "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" no VG: "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.00")]),t._v(" GiB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h3",{attrs:{id:"扩容-vg"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#扩容-vg"}},[t._v("#")]),t._v(" 扩容 VG")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("查看 VG")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("vgdisplay\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\n--- Volume group ---\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 我们需要用到 VG Name")]),t._v("\nVG Name               ubuntu-vg\nSystem ID             \nFormat                lvm2\nMetadata Areas        "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nMetadata Sequence No  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nVG Access             read/write\nVG Status             resizable\nMAX LV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nCur LV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nOpen LV               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nMax PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nCur PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nAct PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nVG Size               "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.00")]),t._v(" GiB\nPE Size               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.00")]),t._v(" MiB\nTotal PE              "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4863")]),t._v("\nAlloc PE / Size       "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4863")]),t._v(" / "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.00")]),t._v(" GiB\nFree  PE / Size       "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" / "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("   \nVG UUID               dhI9ns-7lOI-pXf8-IOWL-F96N-JIYG-ZF6u82\n")])])])]),t._v(" "),e("li",[e("p",[t._v("扩容 VG")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("vgextend ubuntu-vg /dev/sdb1\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nVolume group "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ubuntu-vg"')]),t._v(" successfully extended\n")])])])])]),t._v(" "),e("h3",{attrs:{id:"扩容-lv"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#扩容-lv"}},[t._v("#")]),t._v(" 扩容 LV")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("查看 VG")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("vgdisplay\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\n--- Volume group ---\nVG Name               ubuntu-vg\nSystem ID             \nFormat                lvm2\nMetadata Areas        "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nMetadata Sequence No  "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\nVG Access             read/write\nVG Status             resizable\nMAX LV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nCur LV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nOpen LV               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nMax PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nCur PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nAct PV                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nVG Size               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("38.99")]),t._v(" GiB\nPE Size               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.00")]),t._v(" MiB\nTotal PE              "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("9982")]),t._v("\nAlloc PE / Size       "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4863")]),t._v(" / "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.00")]),t._v(" GiB\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 这里是可以扩容的大小")]),t._v("\nFree  PE / Size       "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5119")]),t._v(" / "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.00")]),t._v(" GiB\nVG UUID               dhI9ns-7lOI-pXf8-IOWL-F96N-JIYG-ZF6u82\n")])])])]),t._v(" "),e("li",[e("p",[t._v("查看 LV")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("lvdisplay\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\n--- Logical volume ---\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 我们需要用到 LV Path")]),t._v("\nLV Path                /dev/ubuntu-vg/ubuntu-lv\nLV Name                ubuntu-lv\nVG Name                ubuntu-vg\nLV UUID                e2fKkR-oZeH-WV2A-ltCi-P76v-N9yv-aUtIg1\nLV Write Access        read/write\nLV Creation host, "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),t._v(" ubuntu-server, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v("-05-14 03:13:57 +0800\nLV Status              available\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# open                 1")]),t._v("\nLV Size                "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.00")]),t._v(" GiB\nCurrent LE             "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4863")]),t._v("\nSegments               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nAllocation             inherit\nRead ahead sectors     auto\n- currently "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" to     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),t._v("\nBlock device           "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("253")]),t._v(":0\n")])])])]),t._v(" "),e("li",[e("p",[t._v("扩容 LV")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按固定大小追加")]),t._v("\nlvextend -L +10G /dev/ubuntu-vg/ubuntu-lv\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按百分比追加")]),t._v("\nlvextend -l +100%FREE /dev/ubuntu-vg/ubuntu-lv\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nSize of logical volume ubuntu-vg/ubuntu-lv changed from "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("19.00")]),t._v(" GiB "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4863")]),t._v(" extents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" to "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("38.99")]),t._v(" GiB "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("9982")]),t._v(" extents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".\nLogical volume ubuntu-vg/ubuntu-lv successfully resized.\n")])])])]),t._v(" "),e("li",[e("p",[t._v("刷新分区")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("resize2fs /dev/ubuntu-vg/ubuntu-lv\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出如下")]),t._v("\nFilesystem at /dev/ubuntu-vg/ubuntu-lv is mounted on /"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" on-line resizing required\nold_desc_blocks "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(", new_desc_blocks "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\nThe filesystem on /dev/ubuntu-vg/ubuntu-lv is now "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10221568")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("4k"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" blocks long.\n")])])])]),t._v(" "),e("li",[e("p",[t._v("验证是否成功")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("lvdisplay\n--- Logical volume ---\nLV Path                /dev/ubuntu-vg/ubuntu-lv\nLV Name                ubuntu-lv\nVG Name                ubuntu-vg\nLV UUID                e2fKkR-oZeH-WV2A-ltCi-P76v-N9yv-aUtIg1\nLV Write Access        read/write\nLV Creation host, "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("time")]),t._v(" ubuntu-server, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v("-05-14 03:13:57 +0800\nLV Status              available\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# open                 1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 可以看到磁盘扩容成功了")]),t._v("\nLV Size                "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("38.99")]),t._v(" GiB\nCurrent LE             "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("9982")]),t._v("\nSegments               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nAllocation             inherit\nRead ahead sectors     auto\n- currently "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" to     "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),t._v("\nBlock device           "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("253")]),t._v(":0\n")])])]),e("blockquote",[e("p",[e("strong",[t._v("注意：")]),t._v(" 不要卸载扩容的磁盘，可能出现丢失数据或是系统无法启动")])])])]),t._v(" "),e("h3",{attrs:{id:"动态扩容提示空间不足"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动态扩容提示空间不足"}},[t._v("#")]),t._v(" 动态扩容提示空间不足")]),t._v(" "),e("p",[t._v("动态扩容时可能会提示 "),e("code",[t._v("/etc/lvm/archive/.lvm_xxxxxx: write error failed: No space left on device")]),t._v(" 的错误，这是由于磁盘空间使用量已经 100% 了，我们可以使用 "),e("code",[t._v("lvresize")]),t._v(" 的方式扩容")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("lvresize -A n -L +10G /dev/ubuntu-vg/ubuntu-lv\nresize2fs -p /dev/ubuntu-vg/ubuntu-lv\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);